---
# Source: mogdb/templates/configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: mogdb-configuration
  labels:
    helm.sh/chart: mogdb-0.9.0
    app.kubernetes.io/name: mogdb
    app.kubernetes.io/instance: my-mogdb
    app.kubernetes.io/version: "5.0.5"
    app.kubernetes.io/managed-by: Helm
data:
  postgresql.conf: |-
    # -----------------------------------------------------------------------------
    #
    # postgresql_single.conf.sample
    #      Configuration file for centralized environment
    #
    # Portions Copyright (c) 1996-2012, PostgreSQL Global Development Group
    #
    #
    # IDENTIFICATION
    #      src/common/backend/utils/misc/postgresql_single.conf.sample
    #
    #
    # This file consists of lines of the form:
    #
    #   name = value
    #
    # (The "=" is optional.)  Whitespace may be used.  Comments are introduced with
    # "#" anywhere on a line.  The complete list of parameter names and allowed
    # values can be found in the openGauss documentation.
    #
    # The commented-out settings shown in this file represent the default values.
    # Re-commenting a setting is NOT sufficient to revert it to the default value;
    # you need to reload the server.
    #
    # This file is read on server startup and when the server receives a SIGHUP
    # signal.  If you edit the file on a running system, you have to SIGHUP the
    # server for the changes to take effect, or use "pg_ctl reload".  Some
    # parameters, which are marked below, require a server shutdown and restart to
    # take effect.
    #
    # Any parameter can also be given as a command-line option to the server, e.g.,
    # "postgres -c log_connections=on".  Some parameters can be changed at run time
    # with the "SET" SQL command.
    #
    # Memory units:  kB = kilobytes        Time units:  ms  = milliseconds
    #                MB = megabytes                     s   = seconds
    #                GB = gigabytes                     min = minutes
    #                                                   h   = hours
    #                                                   d   = days
    # -----------------------------------------------------------------------------
    
    
    #------------------------------------------------------------------------------
    # FILE LOCATIONS
    #------------------------------------------------------------------------------
    
    # The default values of these variables are driven from the -D command-line
    # option or PGDATA environment variable, represented here as ConfigDir.
    
    #data_directory = 'ConfigDir'           # use data in another directory
                                            # (change requires restart)
    #hba_file = 'ConfigDir/pg_hba.conf'     # host-based authentication file
                                            # (change requires restart)
    #ident_file = 'ConfigDir/pg_ident.conf' # ident configuration file
                                            # (change requires restart)
    
    # If external_pid_file is not explicitly set, no extra PID file is written.
    #external_pid_file = ''                 # write an extra PID file
                                            # (change requires restart)
    
    
    #------------------------------------------------------------------------------
    # CONNECTIONS AND AUTHENTICATION
    #------------------------------------------------------------------------------
    
    # - Connection Settings -
    
    #listen_addresses = 'localhost'         # what IP address(es) to listen on;
                                            # comma-separated list of addresses;
                                            # defaults to 'localhost'; use '*' for all
                                            # (change requires restart)
    #local_bind_address = '0.0.0.0'
    #port = 5432                            # (change requires restart)
    #max_connections = 10000                   # (change requires restart)
    # Note:  Increasing max_connections costs ~400 bytes of shared memory per
    # connection slot, plus lock space (see max_locks_per_transaction).
    #sysadmin_reserved_connections = 3      # (change requires restart)
    #unix_socket_directory = ''             # (change requires restart)
    #unix_socket_group = ''                 # (change requires restart)
    #unix_socket_permissions = 0700         # begin with 0 to use octal notation
                                            # (change requires restart)
    
    # - Security and Authentication -
    
    #authentication_timeout = 1min          # 1s-600s
    #session_timeout = 10min                 # allowed duration of any unused session, 0s-86400s(1 day), 0 is disabled
    #ssl = off                              # (change requires restart)
    #ssl_ciphers = 'ALL'                    # allowed SSL ciphers
                                            # (change requires restart)
    #ssl_cert_notify_time = 90              # 7-180 days
    #ssl_renegotiation_limit = 0            # amount of data between renegotiations, no longer supported
    #ssl_cert_file = 'server.crt'           # (change requires restart)
    #ssl_key_file = 'server.key'            # (change requires restart)
    #ssl_ca_file = ''                       # (change requires restart)
    #ssl_crl_file = ''                      # (change requires restart)
    
    # Kerberos and GSSAPI
    #krb_server_keyfile = ''
    #krb_srvname = 'postgres'               # (Kerberos only)
    #krb_caseins_users = off
    
    #modify_initial_password = false        #Whether to change the initial password of the initial user
    #password_policy = 1                    #Whether password complexity checks
    #password_reuse_time = 60               #Whether the new password can be reused in password_reuse_time days
    #password_reuse_max = 0                 #Whether the new password can be reused
    #password_lock_time = 1                 #The account will be unlocked automatically after a specified period of time
    #failed_login_attempts = 10             #Enter the wrong password reached failed_login_attempts times, the current account will be locked
    #password_encryption_type = 1           #Password storage type, 0 is md5 for PG, 1 is sha256 + md5, 2 is sha256 only
    #password_min_length = 8                #The minimal password length(6-999)
    #password_max_length = 32               #The maximal password length(6-999)
    #password_min_uppercase = 0             #The minimal upper character number in password(0-999)
    #password_min_lowercase = 0             #The minimal lower character number in password(0-999)
    #password_min_digital = 0               #The minimal digital character number in password(0-999)
    #password_min_special = 0               #The minimal special character number in password(0-999)
    #password_effect_time = 90d             #The password effect time(0-999)
    #password_notify_time = 7d              #The password notify time(0-999)
    
    # - TCP Keepalives -
    # see "man 7 tcp" for details
    
    #tcp_keepalives_idle = 0                # TCP_KEEPIDLE, in seconds;
                                            # 0 selects the system default
    #tcp_keepalives_interval = 0            # TCP_KEEPINTVL, in seconds;
                                            # 0 selects the system default
    #tcp_keepalives_count = 0               # TCP_KEEPCNT;
                                            # 0 selects the system default
    
    #------------------------------------------------------------------------------
    # RESOURCE USAGE (except WAL)
    #------------------------------------------------------------------------------
    
    # - Memory -
    #memorypool_enable = false
    #memorypool_size = 512MB
    
    #enable_memory_limit = true
    #max_process_memory = 12GB
    #UDFWorkerMemHardLimit = 1GB
    
    #shared_buffers = 32MB                   # min 128kB
                                            # (change requires restart)
    #bulk_write_ring_size = 2GB              # for bulkload, max shared_buffers
    #standby_shared_buffers_fraction = 0.3 #control shared buffers use in standby, 0.1-1.0
    #temp_buffers = 8MB                     # min 800kB
    #max_prepared_transactions = 200
                                            # (change requires restart)
    # Note:  Increasing max_prepared_transactions costs ~600 bytes of shared memory
    # per transaction slot, plus lock space (see max_locks_per_transaction).
    # It is not advisable to set max_prepared_transactions nonzero unless you
    # actively intend to use prepared transactions.
    #work_mem = 64MB                                # min 64kB
    #maintenance_work_mem = 16MB            # min 1MB
    #max_stack_depth = 2MB                  # min 100kB
    
    #cstore_buffers = 512MB         #min 16MB
    
    # - Disk -
    
    #temp_file_limit = -1                   # limits per-session temp file space
                                            # in kB, or -1 for no limit
    
    #sql_use_spacelimit = -1                # limits for single SQL used space on single DN
                                            # in kB, or -1 for no limit
    
    # - Kernel Resource Usage -
    
    #max_files_per_process = 1000           # min 25
                                            # (change requires restart)
    #shared_preload_libraries = ''         # (change requires restart)
    # - Cost-Based Vacuum Delay -
    
    #vacuum_cost_delay = 0ms                # 0-100 milliseconds
    #vacuum_cost_page_hit = 1               # 0-10000 credits
    #vacuum_cost_page_miss = 10             # 0-10000 credits
    #vacuum_cost_page_dirty = 20            # 0-10000 credits
    #vacuum_cost_limit = 200                # 1-10000 credits
    
    # - Background Writer -
    
    #bgwriter_delay = 10s                   # 10-10000ms between rounds
    #bgwriter_lru_maxpages = 100            # 0-1000 max buffers written/round
    #bgwriter_lru_multiplier = 2.0          # 0-10.0 multipler on buffers scanned/round
    
    # - Asynchronous Behavior -
    
    #effective_io_concurrency = 1           # 1-1000; 0 disables prefetching
    
    
    #------------------------------------------------------------------------------
    # WRITE AHEAD LOG
    #------------------------------------------------------------------------------
    
    # - Settings -
    
    #wal_level = hot_standby                 # minimal, archive, hot_standby or logical
                                            # (change requires restart)
    #fsync = on                             # turns forced synchronization on or off
    #synchronous_commit = on                # synchronization level;
                                            # off, local, remote_receive, remote_write, or on
                                            # It's global control for all transactions
                                            # It could not be modified by gs_ctl reload, unless use setsyncmode.
    
    #wal_sync_method = fsync                # the default is the first option
                                            # supported by the operating system:
                                            #   open_datasync
                                            #   fdatasync (default on Linux)
                                            #   fsync
                                            #   fsync_writethrough
                                            #   open_sync
    #full_page_writes = on                  # recover from partial page writes
    #wal_buffers = 16MB                     # min 32kB
                                            # (change requires restart)
    #wal_writer_delay = 200ms               # 1-10000 milliseconds
    
    #commit_delay = 0                       # range 0-100000, in microseconds
    #commit_siblings = 5                    # range 1-1000
    
    # - Checkpoints -
    
    #checkpoint_segments = 64               # in logfile segments, min 1, 16MB each
    #checkpoint_timeout = 15min             # range 30s-1h
    #checkpoint_completion_target = 0.5     # checkpoint target duration, 0.0 - 1.0
    #checkpoint_warning = 5min              # 0 disables
    #checkpoint_wait_timeout = 60s  # maximum time wait checkpointer to start
    
    #enable_incremental_checkpoint = on      # enable incremental checkpoint
    #incremental_checkpoint_timeout = 60s    # range 1s-1h
    #pagewriter_sleep = 100ms               # dirty page writer sleep time, 0ms - 1h
    
    # - Archiving -
    
    #archive_mode = off             # allows archiving to be done
                                    # (change requires restart)
    #archive_command = ''           # command to use to archive a logfile segment
                                    # placeholders: %p = path of file to archive
                                    #               %f = file name only
                                    # e.g. 'test ! -f /mnt/server/archivedir/%f && cp %p /mnt/server/archivedir/%f'
    #archive_timeout = 0            # force a logfile segment switch after this
                                    # number of seconds; 0 disables
    #archive_dest = ''              # path to use to archive a logfile segment
    
    #------------------------------------------------------------------------------
    # REPLICATION
    #------------------------------------------------------------------------------
    
    # - heartbeat -
    #datanode_heartbeat_interval = 1s         # The heartbeat interval of the standby nodes.
                                     # The value is best configured less than half of
                                     # the wal_receiver_timeout and wal_sender_timeout.
    
    # - Sending Server(s) -
    
    # Set these on the master and on any standby that will send replication data.
    
    #max_wal_senders = 4             # max number of walsender processes
                                    # (change requires restart)
    #wal_keep_segments = 16          # in logfile segments, 16MB each; 0 disables
    #wal_sender_timeout = 6s        # in milliseconds; 0 disables
    #enable_slot_log = off
    #max_replication_slots = 4       # max number of replication slots.i
                                    # The value belongs to [1,7].
                                    # (change requires restart)
    #max_changes_in_memory = 4096
    #max_cached_tuplebufs = 8192
    
    #replconninfo1 = ''             # replication connection information used to connect primary on standby, or standby on primary,
                                                    # or connect primary or standby on secondary
                                                    # The heartbeat thread will not start if not set localheartbeatport and remoteheartbeatport.
                                                    # e.g. 'localhost=10.145.130.2 localport=12211 localheartbeatport=12214 remotehost=10.145.130.3 remoteport=12212 remoteheartbeatport=12215, localhost=10.145.133.2 localport=12213 remotehost=10.145.133.3 remoteport=12214'
    #replconninfo2 = ''             # replication connection information used to connect secondary on primary or standby,
                                                    # or connect primary or standby on secondary
                                                    # e.g. 'localhost=10.145.130.2 localport=12311 localheartbeatport=12214 remotehost=10.145.130.4 remoteport=12312 remoteheartbeatport=12215, localhost=10.145.133.2 localport=12313 remotehost=10.145.133.4 remoteport=12314'
    #replconninfo3 = ''             # replication connection information used to connect primary on standby, or standby on primary,
                                                    # e.g. 'localhost=10.145.130.2 localport=12311 localheartbeatport=12214 remotehost=10.145.130.5 remoteport=12312 remoteheartbeatport=12215, localhost=10.145.133.2 localport=12313 remotehost=10.145.133.5 remoteport=12314'
    #replconninfo4 = ''             # replication connection information used to connect primary on standby, or standby on primary,
                                                    # e.g. 'localhost=10.145.130.2 localport=12311 localheartbeatport=12214 remotehost=10.145.130.6 remoteport=12312 remoteheartbeatport=12215, localhost=10.145.133.2 localport=12313 remotehost=10.145.133.6 remoteport=12314'
    #replconninfo5 = ''             # replication connection information used to connect primary on standby, or standby on primary,
                                                    # e.g. 'localhost=10.145.130.2 localport=12311 localheartbeatport=12214 remotehost=10.145.130.7 remoteport=12312 remoteheartbeatport=12215, localhost=10.145.133.2 localport=12313 remotehost=10.145.133.7 remoteport=12314'
    #replconninfo6 = ''             # replication connection information used to connect primary on standby, or standby on primary,
                                                    # e.g. 'localhost=10.145.130.2 localport=12311 localheartbeatport=12214 remotehost=10.145.130.8 remoteport=12312 remoteheartbeatport=12215, localhost=10.145.133.2 localport=12313 remotehost=10.145.133.8 remoteport=12314'
    #replconninfo7 = ''             # replication connection information used to connect primary on standby, or standby on primary,
                                                    # e.g. 'localhost=10.145.130.2 localport=12311 localheartbeatport=12214 remotehost=10.145.130.9 remoteport=12312 remoteheartbeatport=12215, localhost=10.145.133.2 localport=12313 remotehost=10.145.133.9 remoteport=12314'
    #cross_cluster_replconninfo1 = ''             # replication connection information used to connect primary on primary cluster, or standby on standby cluster,
                                                    # e.g. 'localhost=10.145.133.2 localport=12313 remotehost=10.145.133.9 remoteport=12314'
    #cross_cluster_replconninfo2 = ''             # replication connection information used to connect primary on primary cluster, or standby on standby cluster,
                                                    # e.g. 'localhost=10.145.133.2 localport=12313 remotehost=10.145.133.9 remoteport=12314'
    #cross_cluster_replconninfo3 = ''             # replication connection information used to connect primary on primary cluster, or standby on standby cluster,
                                                    # e.g. 'localhost=10.145.133.2 localport=12313 remotehost=10.145.133.9 remoteport=12314'
    #cross_cluster_replconninfo4 = ''             # replication connection information used to connect primary on primary cluster, or standby on standby cluster,
                                                    # e.g. 'localhost=10.145.133.2 localport=12313 remotehost=10.145.133.9 remoteport=12314'
    #cross_cluster_replconninfo5 = ''             # replication connection information used to connect primary on primary cluster, or standby on standby cluster,
                                                    # e.g. 'localhost=10.145.133.2 localport=12313 remotehost=10.145.133.9 remoteport=12314'
    #cross_cluster_replconninfo6 = ''             # replication connection information used to connect primary on primary cluster, or standby on standby cluster,
                                                    # e.g. 'localhost=10.145.133.2 localport=12313 remotehost=10.145.133.9 remoteport=12314'
    #cross_cluster_replconninfo7 = ''             # replication connection information used to connect primary on primary cluster, or standby on standby cluster,
                                                    # e.g. 'localhost=10.145.133.2 localport=12313 remotehost=10.145.133.9 remoteport=12314'
    
    # - Master Server -
    
    # These settings are ignored on a standby server.
    
    #synchronous_standby_names = '*' # standby servers that provide sync rep
                                    # comma-separated list of application_name
                                    # from standby(s); '*' = all
    #most_available_sync = off      # Whether master is allowed to continue
                                    # as standbalone after sync standby failure
                                    # It's global control for all transactions
    #vacuum_defer_cleanup_age = 0   # number of xacts by which cleanup is delayed
    #data_replicate_buffer_size = 16MB      # data replication buffer size
    #walsender_max_send_size = 8MB  # Size of walsender max send size
    #enable_data_replicate = on
    
    # - Standby Servers -
    
    # These settings are ignored on a master server.
    
    #hot_standby = on                        # "on" allows queries during recovery
                                            # (change requires restart)
    #max_standby_archive_delay = 30s        # max delay before canceling queries
                                            # when reading WAL from archive;
                                            # -1 allows indefinite delay
    #max_standby_streaming_delay = 30s      # max delay before canceling queries
                                            # when reading streaming WAL;
                                            # -1 allows indefinite delay
    #wal_receiver_status_interval = 5s      # send replies at least this often
                                            # 0 disables
    #hot_standby_feedback = off             # send info from standby to prevent
                                            # query conflicts
    #wal_receiver_timeout = 6s              # time that receiver waits for
                                            # communication from master
                                            # in milliseconds; 0 disables
    #wal_receiver_connect_timeout = 1s      # timeout that receiver connect master
                                                            # in seconds; 0 disables
    #wal_receiver_connect_retries = 1       # max retries that receiver connect master
    #wal_receiver_buffer_size = 64MB        # wal receiver buffer size
    #enable_xlog_prune = on # xlog keep for all standbys even through they are not connecting and donnot created replslot.
    #max_size_for_xlog_prune = 2147483647  # xlog keep for the wal size less than max_xlog_size when the enable_xlog_prune is on
    #max_logical_replication_workers = 4   # Maximum number of logical replication worker processes.
    
    #------------------------------------------------------------------------------
    # QUERY TUNING
    #------------------------------------------------------------------------------
    
    # - Planner Method Configuration -
    
    #enable_bitmapscan = on
    #enable_hashagg = on
    #enable_hashjoin = on
    #enable_indexscan = on
    #enable_indexonlyscan = on
    #enable_material = on
    #enable_mergejoin = on
    #enable_nestloop = on
    #enable_seqscan = on
    #enable_sort = on
    #enable_tidscan = on
    #enable_kill_query = off                 # optional: [on, off], default: off
    # - Planner Cost Constants -
    
    #seq_page_cost = 1.0                    # measured on an arbitrary scale
    #random_page_cost = 4.0                 # same scale as above
    #cpu_tuple_cost = 0.01                  # same scale as above
    #cpu_index_tuple_cost = 0.005           # same scale as above
    #cpu_operator_cost = 0.0025             # same scale as above
    #effective_cache_size = 128MB
    
    # - Genetic Query Optimizer -
    
    #geqo = on
    #geqo_threshold = 12
    #geqo_effort = 5                        # range 1-10
    #geqo_pool_size = 0                     # selects default based on effort
    #geqo_generations = 0                   # selects default based on effort
    #geqo_selection_bias = 2.0              # range 1.5-2.0
    #geqo_seed = 0.0                        # range 0.0-1.0
    
    # - Other Planner Options -
    
    #default_statistics_target = 100        # range 1-10000
    #constraint_exclusion = partition       # on, off, or partition
    #cursor_tuple_fraction = 0.1            # range 0.0-1.0
    #from_collapse_limit = 8
    #join_collapse_limit = 8                # 1 disables collapsing of explicit
                                            # JOIN clauses
    #plan_mode_seed = 0         # range -1-0x7fffffff
    #check_implicit_conversions = off
    
    #------------------------------------------------------------------------------
    # ERROR REPORTING AND LOGGING
    #------------------------------------------------------------------------------
    
    # - Where to Log -
    
    #log_destination = 'stderr'             # Valid values are combinations of
                                            # stderr, csvlog, syslog, and eventlog,
                                            # depending on platform.  csvlog
                                            # requires logging_collector to be on.
    
    # This is used when logging to stderr:
    #logging_collector = on                  # Enable capturing of stderr and csvlog
                                            # into log files. Required to be on for
                                            # csvlogs.
                                            # (change requires restart)
    
    # These are only used if logging_collector is on:
    #log_directory = 'pg_log'               # directory where log files are written,
                                            # can be absolute or relative to PGDATA
    #log_filename = 'postgresql-%Y-%m-%d_%H%M%S.log' # log file name pattern,
                                            # can include strftime() escapes
    #log_file_mode = 0600                    # creation mode for log files,
                                            # begin with 0 to use octal notation
    #log_truncate_on_rotation = off         # If on, an existing log file with the
                                            # same name as the new log file will be
                                            # truncated rather than appended to.
                                            # But such truncation only occurs on
                                            # time-driven rotation, not on restarts
                                            # or size-driven rotation.  Default is
                                            # off, meaning append to existing files
                                            # in all cases.
    #log_rotation_age = 1d                  # Automatic rotation of logfiles will
                                            # happen after that time.  0 disables.
    #log_rotation_size = 20MB                # Automatic rotation of logfiles will
                                            # happen after that much log output.
                                            # 0 disables.
    
    # These are relevant when logging to syslog:
    #syslog_facility = 'LOCAL0'
    #syslog_ident = 'postgres'
    
    # This is only relevant when logging to eventlog (win32):
    #event_source = 'PostgreSQL'
    
    # - When to Log -
    
    #log_min_messages = warning             # values in order of decreasing detail:
                                            #   debug5
                                            #   debug4
                                            #   debug3
                                            #   debug2
                                            #   debug1
                                            #   info
                                            #   notice
                                            #   warning
                                            #   error
                                            #   log
                                            #   fatal
                                            #   panic
    
    #log_min_error_statement = error        # values in order of decreasing detail:
                                            #   debug5
                                            #   debug4
                                            #   debug3
                                            #   debug2
                                            #   debug1
                                            #   info
                                            #   notice
                                            #   warning
                                            #   error
                                            #   log
                                            #   fatal
                                            #   panic (effectively off)
    
    #log_min_duration_statement = 1800000    # -1 is disabled, 0 logs all statements
                                            # and their durations, > 0 logs only
                                            # statements running at least this number
                                            # of milliseconds
    
    
    # - What to Log -
    
    #debug_print_parse = off
    #debug_print_rewritten = off
    #debug_print_plan = off
    #debug_pretty_print = on
    #log_checkpoints = off
    #log_pagewriter = off
    #log_connections = off                   # log connection requirement from client
    #log_disconnections = off                # log disconnection from client
    #log_duration = off                      # log the execution time of each query
                                            # when log_duration is on and log_min_duration_statement
                                            # is larger than zero, log the ones whose execution time
                                            # is larger than this threshold
    #log_error_verbosity = default          # terse, default, or verbose messages
    #log_hostname = off                      # log hostname
    #log_line_prefix = '%m %u %d %h %p %S '  # special values:
                                            #   %a = application name
                                            #   %u = user name
                                            #   %d = database name
                                            #   %r = remote host and port
                                            #   %h = remote host
                                            #   %p = process ID
                                            #   %t = timestamp without milliseconds
                                            #   %m = timestamp with milliseconds
                                            #   %n = DataNode name
                                            #   %i = command tag
                                            #   %e = SQL state
                                            #   %c = logic thread ID
                                            #   %l = session line number
                                            #   %s = session start timestamp
                                            #   %v = virtual transaction ID
                                            #   %x = transaction ID (0 if none)
                                            #   %q = stop here in non-session
                                            #        processes
                                            #   %S = session ID
                                            #   %% = '%'
                                            # e.g. '<%u%%%d> '
    #log_lock_waits = off                   # log lock waits >= deadlock_timeout
    #log_statement = 'none'                 # none, ddl, mod, all
    #log_temp_files = -1                    # log temporary files equal or larger
                                            # than the specified size in kilobytes;
                                            # -1 disables, 0 logs all temp files
    #log_timezone = 'UCT'
    
    #------------------------------------------------------------------------------
    # ALARM
    #------------------------------------------------------------------------------
    #enable_alarm = on
    #connection_alarm_rate = 0.9
    #alarm_report_interval = 10
    #alarm_component = '/opt/snas/bin/snas_cm_cmd'
    
    #------------------------------------------------------------------------------
    # RUNTIME STATISTICS
    #------------------------------------------------------------------------------
    
    # - Query/Index Statistics Collector -
    
    #track_activities = on
    #track_counts = on
    #track_io_timing = off
    #track_functions = none                 # none, pl, all
    #track_activity_query_size = 1024       # (change requires restart)
    #update_process_title = on
    #stats_temp_directory = 'pg_stat_tmp'
    #track_thread_wait_status_interval = 30min # 0 to disable
    #track_sql_count = off
    #enbale_instr_track_wait = on
    
    # - Statistics Monitoring -
    
    #log_parser_stats = off
    #log_planner_stats = off
    #log_executor_stats = off
    #log_statement_stats = off
    
    #------------------------------------------------------------------------------
    # WORKLOAD MANAGER
    #------------------------------------------------------------------------------
    
    #use_workload_manager = on               # Enables workload manager in the system.
                                            # (change requires restart)
    #------------------------------------------------------------------------------
    # SECURITY POLICY
    #------------------------------------------------------------------------------
    #enable_security_policy = off
    #use_elastic_search = off
    #elastic_search_ip_addr = 'https://127.0.0.1' # what elastic search ip is, change https to http when elastic search is non-ssl mode
    
    
    #cpu_collect_timer = 30
    
    #------------------------------------------------------------------------------
    # AUTOVACUUM PARAMETERS
    #------------------------------------------------------------------------------
    
    #autovacuum = off                       # Enable autovacuum subprocess?  default value is 'on'
                                            # requires track_counts to also be on.
    #log_autovacuum_min_duration = -1       # -1 disables, 0 logs all actions and
                                            # their durations, > 0 logs only
                                            # actions running at least this number
                                            # of milliseconds.
    #autovacuum_max_workers = 3             # max number of autovacuum subprocesses
                                            # (change requires restart)
    #autovacuum_naptime = 1min              # time between autovacuum runs
    #autovacuum_vacuum_threshold = 50       # min number of row updates before
                                            # vacuum
    #autovacuum_analyze_threshold = 50      # min number of row updates before
                                            # analyze
    #autovacuum_vacuum_scale_factor = 0.2   # fraction of table size before vacuum
    #autovacuum_analyze_scale_factor = 0.1  # fraction of table size before analyze
    #autovacuum_freeze_max_age = 200000000  # maximum XID age before forced vacuum
                                            # (change requires restart)
    #autovacuum_vacuum_cost_delay = 20ms    # default vacuum cost delay for
                                            # autovacuum, in milliseconds;
                                            # -1 means use vacuum_cost_delay
    #autovacuum_vacuum_cost_limit = -1      # default vacuum cost limit for
                                            # autovacuum, -1 means use
                                            # vacuum_cost_limit
    
    
    #------------------------------------------------------------------------------
    # CLIENT CONNECTION DEFAULTS
    #------------------------------------------------------------------------------
    
    # - Statement Behavior -
    #client_min_messages = notice      # values in order of decreasing detail:
                       #   debug5
                       #   debug4
                       #   debug3
                       #   debug2
                       #   debug1
                       #   log
                       #   notice
                       #   warning
                       #   error
    #search_path = '"$user",public'         # schema names
    #default_tablespace = ''                # a tablespace name, '' uses the default
    #temp_tablespaces = ''                  # a list of tablespace names, '' uses
                                            # only default tablespace
    #check_function_bodies = on
    #default_transaction_isolation = 'read committed'
    #default_transaction_read_only = off
    #default_transaction_deferrable = off
    #session_replication_role = 'origin'
    #statement_timeout = 0                  # in milliseconds, 0 is disabled
    #vacuum_freeze_min_age = 50000000
    #vacuum_freeze_table_age = 150000000
    #bytea_output = 'hex'                   # hex, escape
    #xmlbinary = 'base64'
    #xmloption = 'content'
    #max_compile_functions = 1000
    #gin_pending_list_limit = 4MB
    # - Locale and Formatting -
    
    #datestyle = 'iso, mdy'
    #intervalstyle = 'postgres'
    #timezone = 'UCT'
    #timezone_abbreviations = 'Default'     # Select the set of available time zone
                                            # abbreviations.  Currently, there are
                                            #   Default
                                            #   Australia
                                            #   India
                                            # You can create your own file in
                                            # share/timezonesets/.
    #extra_float_digits = 0                 # min -15, max 3
    #client_encoding = sql_ascii            # actually, defaults to database
                                            # encoding
    
    # These settings are initialized by initdb, but they can be changed.
    #lc_messages = 'C'                       # locale for system error message
                                            # strings
    #lc_monetary = 'C'                       # locale for monetary formatting
    #lc_numeric = 'C'                        # locale for number formatting
    #lc_time = 'C'                           # locale for time formatting
    
    # default configuration for text search
    #default_text_search_config = 'pg_catalog.english'
    
    # - Other Defaults -
    
    #dynamic_library_path = '$libdir'
    #local_preload_libraries = ''
    
    #------------------------------------------------------------------------------
    # LOCK MANAGEMENT
    #------------------------------------------------------------------------------
    
    #deadlock_timeout = 1s
    #lockwait_timeout = 1200s                # Max of lockwait_timeout and deadlock_timeout + 1s
    #max_locks_per_transaction = 256                # min 10
                                            # (change requires restart)
    # Note:  Each lock table slot uses ~270 bytes of shared memory, and there are
    # max_locks_per_transaction * (max_connections + max_prepared_transactions)
    # lock table slots.
    #max_pred_locks_per_transaction = 64    # min 10
                                            # (change requires restart)
    
    #------------------------------------------------------------------------------
    # VERSION/PLATFORM COMPATIBILITY
    #------------------------------------------------------------------------------
    
    # - Previous openGauss Versions -
    
    #array_nulls = on
    #backslash_quote = safe_encoding        # on, off, or safe_encoding
    #default_with_oids = off
    #escape_string_warning = on
    #lo_compat_privileges = off
    #quote_all_identifiers = off
    #sql_inheritance = on
    #standard_conforming_strings = on
    #synchronize_seqscans = on
    
    # - Other Platforms and Clients -
    
    #transform_null_equals = off
    
    ##------------------------------------------------------------------------------
    # ERROR HANDLING
    #------------------------------------------------------------------------------
    
    #exit_on_error = off                    # terminate session on any error?
    #restart_after_crash = on               # reinitialize after backend crash?
    #omit_encoding_error = off              # omit untranslatable character error
    #data_sync_retry = off                  # retry or panic on failure to fsync data?
    
    #------------------------------------------------------------------------------
    # DATA NODES AND CONNECTION POOLING
    #------------------------------------------------------------------------------
    #cache_connection = on          # pooler cache connection
    
    #------------------------------------------------------------------------------
    # GTM CONNECTION
    #------------------------------------------------------------------------------
    
    #pgxc_node_name = 'gaussdb'                      # Coordinator or Datanode name
                                            # (change requires restart)
    
    ##------------------------------------------------------------------------------
    # OTHER PG-XC OPTIONS
    #------------------------------------------------------------------------------
    #enforce_two_phase_commit = on          # Enforce the usage of two-phase commit on transactions
                                            # where temporary objects are used or ON COMMIT actions
                                            # are pending.
                                            # Usage of commit instead of two-phase commit may break
                                            # data consistency so use at your own risk.
    
    #------------------------------------------------------------------------------
    # AUDIT
    #------------------------------------------------------------------------------
    
    #audit_enabled = on
    #audit_directory = 'pg_audit'
    #audit_data_format = 'binary'
    #audit_rotation_interval = 1d
    #audit_rotation_size = 10MB
    #audit_space_limit = 1024MB
    #audit_file_remain_threshold = 1048576
    #audit_login_logout = 7
    #audit_database_process = 1
    #audit_user_locked = 1
    #audit_user_violation = 0
    #audit_grant_revoke = 1
    #audit_system_object = 12295
    #audit_dml_state = 0
    #audit_dml_state_select = 0
    #audit_function_exec = 0
    #audit_copy_exec = 0
    #audit_set_parameter = 1                # whether audit set parameter operation
    #audit_xid_info = 0                     # whether record xid info in audit log
    #audit_thread_num = 1
    
    #Choose which style to print the explain info, normal,pretty,summary,run
    #explain_perf_mode = normal
    #------------------------------------------------------------------------------
    # CUSTOMIZED OPTIONS
    #------------------------------------------------------------------------------
    
    # Add settings for extensions here
    
    # ENABLE DATABASE PRIVILEGES SEPARATE
    #------------------------------------------------------------------------------
    #enableSeparationOfDuty = off
    #------------------------------------------------------------------------------
    
    
    #enable_fast_allocate = off
    #prefetch_quantity = 32MB
    #backwrite_quantity = 8MB
    #cstore_prefetch_quantity = 32768               #unit kb
    #cstore_backwrite_quantity = 8192               #unit kb
    #cstore_backwrite_max_threshold =  2097152              #unit kb
    #fast_extend_file_size = 8192           #unit kb
    
    #------------------------------------------------------------------------------
    # LLVM
    #------------------------------------------------------------------------------
    #enable_codegen = on                    # consider use LLVM optimization
    #enable_codegen_print = off             # dump the IR function
    #codegen_cost_threshold = 10000         # the threshold to allow use LLVM Optimization
    
    #------------------------------------------------------------------------------
    # JOB SCHEDULER OPTIONS
    #------------------------------------------------------------------------------
    #job_queue_processes = 10               # Number of concurrent jobs, optional: [0..1000], default: 10.
    
    #------------------------------------------------------------------------------
    # DCF OPTIONS
    #------------------------------------------------------------------------------
    #enable_dcf = off
    #
    #------------------------------------------------------------------------------
    # PLSQL COMPILE OPTIONS
    #------------------------------------------------------------------------------
    #plsql_show_all_error=off
    
    # use default port 5432
    
    ########################
    ## Notice: Do not remove the comments above directly,
    ## as it may cause the CUE voice template check to fail.
    ## Please write the parameters you want below.
    ########################
    
    
    max_connections = 200
    listen_addresses = '*'
    password_encryption_type = 0
    enable_slot_log = off
    
    # Do not modify the 'max_replication_slots' parameter as it may result in the failure to start the database service
    max_replication_slots = 8
    
    wal_level = logical
    job_queue_processes = 10
    log_min_duration_statement = 1800000
    session_timeout = 10min
    shared_buffers = 32MB
    bulk_write_ring_size = 2GB
    max_prepared_transactions = 200
    cstore_buffers = 512MB
    wal_level = hot_standby
    enable_incremental_checkpoint = on
    incremental_checkpoint_timeout = 60s
    max_wal_senders = 4
    wal_keep_segments = 16
    synchronous_standby_names = '*'
    walsender_max_send_size = 8MB
    hot_standby = on
    enable_kill_query = off
    
    logging_collector = on
    log_filename = 'postgresql-%Y-%m-%d_%H%M%S.log'
    log_file_mode = 0600
    log_rotation_size = 20MB
    log_connections = off
    log_disconnections = off
    log_duration = off
    log_hostname = off
    log_line_prefix = '%m %u %d %h %p %S '
    
    log_timezone = 'UCT'
    
    enable_alarm = on
    connection_alarm_rate = 0.9
    alarm_report_interval = 10
    alarm_component = '/opt/snas/bin/snas_cm_cmd'
    
    use_workload_manager = on
    datestyle = 'iso, mdy'
    timezone = 'UCT'
    lc_messages = 'C'
    lc_monetary = 'C'
    lc_numeric = 'C'
    lc_time = 'C'
    default_text_search_config = 'pg_catalog.english'
    lockwait_timeout = 1200s
    pgxc_node_name = 'gaussdb'
    audit_enabled = on
  # TODO: check if it should trust all
  pg_hba.conf: |
    local   all             all                                     trust
    host    all             all             127.0.0.1/32            trust
    host    all             all             ::1/128                 trust
---
# Source: mogdb/templates/scripts.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: mogdb-scripts
  labels:
    helm.sh/chart: mogdb-0.9.0
    app.kubernetes.io/name: mogdb
    app.kubernetes.io/instance: my-mogdb
    app.kubernetes.io/version: "5.0.5"
    app.kubernetes.io/managed-by: Helm
data:
  
  helper.sh: |-
    #!/bin/bash
    #
    
    set -e
    cat >>/home/omm/.profile <<-EOF
    export PGHOST="/var/lib/mogdb/tmp"
    EOF
    source /home/omm/.profile
    while true;do
      ncat -l 6543 >/tmp/remote.info
      read host_name remote_ip < /tmp/remote.info
      [[ "$host_name" =~ -([0-9]+)$ ]] || exit 1
      remote_ordinal=${BASH_REMATCH[1]}
    
      if [ -n "$PGPORT" ];then
        ha_port=$(expr $PGPORT + 1)
        ha_service_port=$(expr $PGPORT + 2)
      else
        ha_port=$(expr 5432 + 1)
        ha_service_port=$(expr 5432 + 2)
      fi
    
      repl_conn_info="replconninfo${remote_ordinal} = 'localhost=$PodIP localport=${ha_port} localservice=${ha_service_port} remotehost=$remote_ip remoteport=${ha_port} remoteservice=${ha_service_port}'"
    
      su - omm -c "gs_guc reload -D $PGDATA -c \"${repl_conn_info}\""
    done
  setup.sh: |-
    #!/usr/bin/env bash
    set -Eeo pipefail
    
    # usage: file_env VAR [DEFAULT]
    #    ie: file_env 'XYZ_DB_PASSWORD' 'example'
    # (will allow for "$XYZ_DB_PASSWORD_FILE" to fill in the value of
    #  "$XYZ_DB_PASSWORD" from a file, especially for Docker's secrets feature)
    
    set -x
    
    export GAUSSHOME=/usr/local/mogdb
    export PATH=$GAUSSHOME/bin:$PATH
    export LD_LIBRARY_PATH=$GAUSSHOME/lib:$LD_LIBRARY_PATH
    export LANG=en_US.UTF-8
    
    file_env() {
      local var="$1"
      local fileVar="${var}_FILE"
      local def="${2:-}"
      if [ "${!var:-}" ] && [ "${!fileVar:-}" ]; then
        echo >&2 "error: both $var and $fileVar are set (but are exclusive)"
        exit 1
      fi
      local val="$def"
      if [ "${!var:-}" ]; then
        val="${!var}"
      elif [ "${!fileVar:-}" ]; then
        val="$(<"${!fileVar}")"
      fi
      export "$var"="$val"
      unset "$fileVar"
    }
    
    # check to see if this file is being run or sourced from another script
    _is_sourced() {
      [ "${#FUNCNAME[@]}" -ge 2 ] &&
        [ "${FUNCNAME[0]}" = '_is_sourced' ] &&
        [ "${FUNCNAME[1]}" = 'source' ]
    }
    
    # used to create initial mogdb directories and if run as root, ensure ownership belong to the omm user
    docker_create_db_directories() {
      local user
      user="$(id -u)"
    
      mkdir -p "$PGDATA"
      chmod 700 "$PGDATA"
    
      # ignore failure since it will be fine when using the image provided directory;
      mkdir -p /var/run/mogdb || :
      chmod 775 /var/run/mogdb || :
    
      # Create the transaction log directory before initdb is run so the directory is owned by the correct user
      if [ -n "$POSTGRES_INITDB_XLOGDIR" ]; then
        mkdir -p "$POSTGRES_INITDB_XLOGDIR"
        if [ "$user" = '0' ]; then
          find "$POSTGRES_INITDB_XLOGDIR" \! -user postgres -exec chown postgres '{}' +
        fi
        chmod 700 "$POSTGRES_INITDB_XLOGDIR"
      fi
    
      # allow the container to be started with `--user`
      if [ "$user" = '0' ]; then
        find "$PGDATA" \! -user omm -exec chown omm '{}' +
        find /var/run/mogdb \! -user omm -exec chown omm '{}' +
      fi
    }
    
    # initialize empty PGDATA directory with new database via 'initdb'
    # arguments to `initdb` can be passed via POSTGRES_INITDB_ARGS or as arguments to this function
    # `initdb` automatically creates the "postgres", "template0", and "template1" dbnames
    # this is also where the database user is created, specified by `GS_USER` env
    docker_init_database_dir() {
      # "initdb" is particular about the current user existing in "/etc/passwd", so we use "nss_wrapper" to fake that if necessary
      if ! getent passwd "$(id -u)" &>/dev/null && [ -e /usr/lib/libnss_wrapper.so ]; then
        export LD_PRELOAD='/usr/lib/libnss_wrapper.so'
        export NSS_WRAPPER_PASSWD="$(mktemp)"
        export NSS_WRAPPER_GROUP="$(mktemp)"
        echo "postgres:x:$(id -u):$(id -g):PostgreSQL:$PGDATA:/bin/false" >"$NSS_WRAPPER_PASSWD"
        echo "postgres:x:$(id -g):" >"$NSS_WRAPPER_GROUP"
      fi
    
      if [ -n "$POSTGRES_INITDB_XLOGDIR" ]; then
        set -- --xlogdir "$POSTGRES_INITDB_XLOGDIR" "$@"
      fi
    
      cmdbase="gs_initdb --pwfile=<(echo \"$GS_PASSWORD\")"
    
      if [ -n "$GS_NODENAME" ]; then
        cmdbase="$cmdbase --nodename=$GS_NODENAME"
      else
        cmdbase="$cmdbase --nodename=mogdb"
      fi
    
      if [ -n "$ENCODING" ]; then
        cmdbase="$cmdbase --encoding=$ENCODING"
      else
        cmdbase="$cmdbase --encoding=UTF-8"
      fi
    
      if [ -n "$LOCALE" ]; then
        cmdbase="$cmdbase --locale=$LOCALE"
      else
        cmdbase="$cmdbase --no-locale"
      fi
    
      if [ -n "$DBCOMPATIBILITY" ]; then
        cmdbase="$cmdbase --dbcompatibility=$DBCOMPATIBILITY"
      else
        cmdbase="$cmdbase --dbcompatibility=PG"
      fi
      if [ -n "$GS_USER" ]; then
        cmdbase="$cmdbase --user=$GS_USER"
      fi
    
      cmdbase="$cmdbase -D $PGDATA"
    
      eval "$cmdbase"
    
      # unset/cleanup "nss_wrapper" bits
      if [ "${LD_PRELOAD:-}" = '/usr/lib/libnss_wrapper.so' ]; then
        rm -f "$NSS_WRAPPER_PASSWD" "$NSS_WRAPPER_GROUP"
        unset LD_PRELOAD NSS_WRAPPER_PASSWD NSS_WRAPPER_GROUP
      fi
    }
    
    # print large warning if GS_PASSWORD is long
    # error if both GS_PASSWORD is empty and GS_HOST_AUTH_METHOD is not 'trust'
    # print large warning if GS_HOST_AUTH_METHOD is set to 'trust'
    # assumes database is not set up, ie: [ -z "$DATABASE_ALREADY_EXISTS" ]
    docker_verify_minimum_env() {
      # check password first so we can output the warning before postgres
      # messes it up
      if [[ "$GS_PASSWORD" =~ ^(.{8,}).*$ ]] && [[ "$GS_PASSWORD" =~ ^(.*[a-z]+).*$ ]] && [[ "$GS_PASSWORD" =~ ^(.*[A-Z]).*$ ]] && [[ "$GS_PASSWORD" =~ ^(.*[0-9]).*$ ]] && [[ "$GS_PASSWORD" =~ [^a-zA-Z0-9] ]]; then
        cat >&2 <<-'EOWARN'
    
          Message: The supplied GS_PASSWORD is meet requirements.
    
    EOWARN
      else
        cat >&2 <<-'EOWARN'
          Error: The supplied GS_PASSWORD is not meet requirements.
                 Please Check if the password contains uppercase, lowercase, numbers, special characters, and password length(8).
                 At least one uppercase, lowercase, numeric, special character.
                 Example: Enmo@123
    EOWARN
        # exit 1
      fi
      if [ -z "$GS_PASSWORD" ] && [ 'trust' != "$GS_HOST_AUTH_METHOD" ]; then
        # The - option suppresses leading tabs but *not* spaces. :)
        cat >&2 <<-'EOE'
          Error: Database is uninitialized and superuser password is not specified.
                 You must specify GS_PASSWORD to a non-empty value for the
                 superuser. For example, "-e GS_PASSWORD=password" on "docker run".
    
                 You may also use "GS_HOST_AUTH_METHOD=trust" to allow all
                 connections without a password. This is *not* recommended.
    
    EOE
        exit 1
      fi
      if [ 'trust' = "$GS_HOST_AUTH_METHOD" ]; then
        cat >&2 <<-'EOWARN'
                            ********************************************************************************
                            WARNING: GS_HOST_AUTH_METHOD has been set to "trust". This will allow
                                     anyone with access to the mogdb port to access your database without
                                     a password, even if GS_PASSWORD is set.
                                     It is not recommended to use GS_HOST_AUTH_METHOD=trust. Replace
                                     it with "-e GS_PASSWORD=password" instead to set a password in
                                     "docker run".
                            ********************************************************************************
    EOWARN
      fi
    }
    
    # usage: docker_process_init_files [file [file [...]]]
    #    ie: docker_process_init_files /always-initdb.d/*
    # process initializer files, based on file extensions and permissions
    docker_process_init_files() {
      # gsql here for backwards compatiblilty "${gsql[@]}"
      gsql=(docker_process_sql)
    
      echo
      local f
      for f; do
        case "$f" in
        *.sh)
          if [ -x "$f" ]; then
            echo "$0: running $f"
            "$f"
          else
            echo "$0: sourcing $f"
            . "$f"
          fi
          ;;
        *.sql)
          echo "$0: running $f"
          docker_process_sql -f "$f"
          echo
          ;;
        *.sql.gz)
          echo "$0: running $f"
          gunzip -c "$f" | docker_process_sql
          echo
          ;;
        *.sql.xz)
          echo "$0: running $f"
          xzcat "$f" | docker_process_sql
          echo
          ;;
        *) echo "$0: ignoring $f" ;;
        esac
        echo
      done
    }
    
    # Execute sql script, passed via stdin (or -f flag of pqsl)
    # usage: docker_process_sql [gsql-cli-args]
    #    ie: docker_process_sql --dbname=mydb <<<'INSERT ...'
    #    ie: docker_process_sql -f my-file.sql
    #    ie: docker_process_sql <my-file.sql
    docker_process_sql() {
      local query_runner=(gsql -v ON_ERROR_STOP=1 --username "$GS_USER" --password "$GS_PASSWORD")
      if [ -n "$GS_DB" ]; then
        query_runner+=(--dbname "$GS_DB")
      fi
    
      echo "Execute SQL: ${query_runner[@]} $@"
      "${query_runner[@]}" "$@"
    }
    
    # create initial database
    # uses environment variables for input: GS_DB
    docker_setup_db() {
      echo "GS_DB = $GS_DB"
      if [ "$GS_DB" != 'postgres' ]; then
        GS_DB= docker_process_sql --dbname postgres --set db="$GS_DB" --set passwd="$GS_PASSWORD" <<-'EOSQL'
                            CREATE DATABASE :"db" ;
    
    EOSQL
        echo
      fi
    }
    
    docker_setup_user() {
      if [ -n "$GS_USERNAME" ]; then
        GS_DB= docker_process_sql --dbname postgres --set db="$GS_DB" --set passwd="$GS_PASSWORD" --set user="$GS_USERNAME" <<-'EOSQL'
                            create user :"user" with login password :"passwd" sysadmin opradmin monadmin;
    
    EOSQL
        echo "default user is $GS_USERNAME"
      else
        echo "default user is mogdb"
      fi
    }
    
    docker_setup_rep_user() {
      if [ -n "$SERVER_MODE" ] && [ "$SERVER_MODE" = "primary" ]; then
        GS_DB= docker_process_sql --dbname postgres --set passwd="${REPUSER_PASSWORD}" --set user="repuser" <<-'EOSQL'
                            create user :"user" SYSADMIN REPLICATION password :"passwd" ;
    EOSQL
      else
        echo " default no repuser created"
      fi
    }
    
    # Loads various settings that are used elsewhere in the script
    # This should be called before any other functions
    docker_setup_env() {
      export GS_USER=omm
      file_env 'POSTGRES_INITDB_ARGS'
      # default authentication method is md5
      : "${GS_HOST_AUTH_METHOD:=md5}"
    
      declare -g DATABASE_ALREADY_EXISTS
      # look specifically for OG_VERSION, as it is expected in the DB dir
      if [ -s "$PGDATA/PG_VERSION" ]; then
        DATABASE_ALREADY_EXISTS='true'
      fi
    
      declare -g REPUSER_PASSWORD
      if [ -z "${REPUSER_PASSWORD}" ]; then
        REPUSER_PASSWORD="RepUser@2020"
      fi
    }
    
    # append GS_HOST_AUTH_METHOD to pg_hba.conf for "host" connections
    mogdb_setup_hba_conf() {
     if [ -e /tmp/pg_hba.conf ]; then
       cat /tmp/pg_hba.conf >"$PGDATA/pg_hba.conf"
       echo "Successfully replaced $PGDATA/pg_hba.conf with /tmp/pg_hba.conf."
     fi
    
      {
        echo
        if [ 'trust' = "$GS_HOST_AUTH_METHOD" ]; then
          echo '# warning trust is enabled for all connections'
        fi
        echo "host all all 0.0.0.0/0 $GS_HOST_AUTH_METHOD"
        echo "host replication $GS_USER 0.0.0.0/0 md5"
        echo "host replication $GS_USERNAME 0.0.0.0/0 md5"
        if [ -n "$SERVER_MODE" ]; then
          echo "host replication repuser $OG_SUBNET trust"
        fi
      } >>"$PGDATA/pg_hba.conf"
    }
    
    # append parameter to postgres.conf for connections
    mogdb_setup_postgresql_conf() {
      if [ -e /tmp/postgresql.conf ];then
        cat /tmp/postgresql.conf >"$PGDATA/postgresql.conf"
        echo "Successfully replaced $PGDATA/postgresql.conf with /tmp/postgresql.conf."
      fi
    
      {
        echo
        echo "password_encryption_type = 1"
        echo "wal_level = logical"
        echo "unix_socket_directory = '$PGHOST'"
    
        if [ -n "$GS_PORT" ]; then
          echo "port = $GS_PORT"
        fi
    
        if [ -n "$SERVER_MODE" ]; then
          echo "listen_addresses = '0.0.0.0'"
          echo "most_available_sync = on"
          echo "remote_read_mode = non_authentication"
          echo "pgxc_node_name = '$NODE_NAME'"
          echo -e "$REPL_CONN_INFO"
          if [ -e /tmp/replconninfo.conf  ];then
            cat /tmp/replconninfo.conf
          fi
    
          if [ -n "$SYNCHRONOUS_STANDBY_NAMES" ]; then
            echo "synchronous_standby_names=$SYNCHRONOUS_STANDBY_NAMES"
          fi
        else
          echo "listen_addresses = '*'"
        fi
    
        if [ -n "$OTHER_PG_CONF" ]; then
          echo -e "$OTHER_PG_CONF"
        fi
    
      } >>"$PGDATA/postgresql.conf"
    }
    
    mogdb_setup_mot_conf() {
      echo "enable_numa = false" >>"$PGDATA/mot.conf"
    }
    
    # start socket-only postgresql server for setting up or running scripts
    # all arguments will be passed along as arguments to `postgres` (via pg_ctl)
    docker_temp_server_start() {
      if [ "$1" = 'mogdb' ]; then
        shift
      fi
    
      # internal start of server in order to allow setup using gsql client
      # does not listen on external TCP/IP and waits until start finishes
      set -- "$@" -c listen_addresses='127.0.0.1' -p "${PGPORT:-5432}"
    
      PGUSER="${PGUSER:-$GS_USER}" \
        gs_ctl -D "$PGDATA" \
        -o "$(printf '%q ' "$@")" \
        -w start
    }
    
    # stop postgresql server after done setting up user and running scripts
    docker_temp_server_stop() {
      PGUSER="${PGUSER:-postgres}" \
        gs_ctl -D "$PGDATA" -m fast -w stop
    }
    
    docker_slave_full_backup() {
      gs_ctl build -D "$PGDATA" -b full
    }
    
    # check arguments for an option that would cause mogdb to stop
    # return true if there is one
    
    _mogdb_want_help() {
      local arg
      count=1
      for arg; do
        case "$arg" in
        # postgres --help | grep 'then exit'
        # leaving out -C on purpose since it always fails and is unhelpful:
        # postgres: could not access the server configuration file "/var/lib/postgresql/data/postgresql.conf": No such file or directory
        -'?' | --help | --describe-config | -V | --version)
          return 0
          ;;
        esac
        if [ "$arg" == "-M" ]; then
          SERVER_MODE=${@:$count+1:1}
          echo "mogdb DB SERVER_MODE = $SERVER_MODE"
          shift
        fi
        count=$(($count + 1))
      done
      return 1
    }
    
    _main() {
      # if first arg looks like a flag, assume we want to run postgres server
      if [ "${1:0:1}" = '-' ]; then
        set -- mogdb "$@"
      fi
    
      if [ "$1" = 'mogdb' ] && ! _mogdb_want_help "$@"; then
        docker_setup_env
        # setup data directories and permissions (when run as root)
        docker_create_db_directories
        if [ "$(id -u)" = '0' ]; then
          # then restart script as postgres user
          exec gosu omm "$BASH_SOURCE" "$@"
        fi
    
        # only run initialization on an empty data directory
        if [ -z "$DATABASE_ALREADY_EXISTS" ]; then
          docker_verify_minimum_env
    
          # check dir permissions to reduce likelihood of half-initialized database
          ls /docker-entrypoint-initdb.d/ >/dev/null
    
          docker_init_database_dir
          mogdb_setup_hba_conf
          mogdb_setup_postgresql_conf
          mogdb_setup_mot_conf
    
          # PGPASSWORD is required for gsql when authentication is required for 'local' connections via pg_hba.conf and is otherwise harmless
          # e.g. when '--auth=md5' or '--auth-local=md5' is used in POSTGRES_INITDB_ARGS
          export PGPASSWORD="${PGPASSWORD:-$GS_PASSWORD}"
          docker_temp_server_start "$@"
          if [ -z "$SERVER_MODE" ] || [ "$SERVER_MODE" = "primary" ]; then
            docker_setup_db
            docker_setup_user
            docker_setup_rep_user
            docker_process_init_files /docker-entrypoint-initdb.d/*
          fi
    
          if [ -n "$SERVER_MODE" ] && [ "$SERVER_MODE" != "primary" ]; then
            docker_slave_full_backup
          fi
          docker_temp_server_stop
          unset PGPASSWORD
    
          echo
          echo 'mogdb  init process complete; ready for start up.'
          echo
        else
          if [ -n "$REPL_CONN_INFO" ]; then
            gs_guc set -D "$PGDATA" -c "$REPL_CONN_INFO"
          fi
    
          if [ -e /tmp/replconninfo.conf  ];then
            while read -r replconninfo_line;do
              gs_guc set -D "$PGDATA" -c "$replconninfo_line"
            done < /tmp/replconninfo.conf
          fi
    
          echo
          echo 'mogdb Database directory appears to contain a database; Skipping initialization'
          echo
        fi
      fi
      exec "$@"
    }
    
    if ! _is_sourced; then
      _main "$@"
    fi
    
  switchover.sh: |-
    #!/bin/bash
    #
    
    set -x
    # do switchover
    echo "INFO: doing switchover.."
    echo "INFO: candidate: ${candidate}"
    kubectl exec -it ${candidate} -c mogdb -- gosu omm gs_ctl switchover
    
    # check if switchover successfully.
    echo "INFO: start to check if switchover successfully, timeout is 60s"
    executedUnix=$(date +%s)
    while true; do
      sleep 5
      if [ ! -z ${candidate} ]; then
         # if candidate specified, only check it
         role=$(kubectl get pod ${candidate} -ojson | jq -r '.metadata.labels["kubeblocks.io/role"]')
         if [ "$role" == "Primary" ] || [ "$role" == "primary" ] || [ "$role" == "leader" ] || [ "$role" == "master" ]; then
            echo "INFO: switchover successfully, ${candidate} is ${role}"
            exit 0
         fi
      else
        # check if the candidate instance has been promote to primary
        pods=$(kubectl get pod -l apps.kubeblocks.io/component-name=${KB_COMP_NAME},app.kubernetes.io/instance=${KB_CLUSTER_NAME} | awk 'NR > 1 {print $1}')
        for podName in ${pods}; do
           if [ "${podName}" != "${primary}" ];then
             role=$(kubectl get pod ${podName} -ojson | jq -r '.metadata.labels["kubeblocks.io/role"]')
             if [ "$role" == "Primary" ] || [ "$role" == "primary" ] || [ "$role" == "leader" ] || [ "$role" == "master" ]; then
                echo "INFO: switchover successfully, ${podName} is ${role}"
                exit 0
             fi
           fi
        done
      fi
      currentUnix=$(date +%s)
      diff_time=$((${currentUnix}-${executedUnix}))
      if [ ${diff_time} -ge 60 ]; then
        echo "ERROR: switchover failed."
        exit 1
      fi
    done
---
# Source: mogdb/templates/actionset-gsbasebackup.yaml
apiVersion: dataprotection.kubeblocks.io/v1alpha1
kind: ActionSet
metadata:
  name: mogdb-basebackup
  labels:
    clusterdefinition.kubeblocks.io/name: mogdb
    helm.sh/chart: mogdb-0.9.0
    app.kubernetes.io/name: mogdb
    app.kubernetes.io/instance: my-mogdb
    app.kubernetes.io/version: "5.0.5"
    app.kubernetes.io/managed-by: Helm
spec:
  backupType: Full
  env:
    - name: DATA_DIR
      value: /var/lib/mogdb/mogdb/data
    - name: IMAGE_TAG
      value: 5.0.5
    - name: GAUSSHOME
      value: /usr/local/mogdb
    - name: LD_LIBRARY_PATH
      value: /usr/local/mogdb/lib
    - name: PATH
      value: /usr/local/mogdb/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
    - name: PGPORT
      value: "26000"
    - name: PGHOST
      value: /var/lib/mogdb/tmp
  backup:
    preBackup: []
    postBackup: []
    backupData:
      image: docker.io/apecloud/mogdb:$(IMAGE_TAG)
      runOnTargetPodNode: true
      command:
      - bash
      - -c
      - |
        set -x
        function get_current_time() {
          curr_time=$(gsql -U ${DP_DB_USER} -h ${DP_DB_HOST} -W ${DP_DB_PASSWORD} -d postgres -t -c "SELECT now() AT TIME ZONE 'UTC'")
          echo $curr_time
        }
        
        function stat_and_save_backup_info() {
          export PATH="$PATH:$DP_DATASAFED_BIN_PATH"
          export DATASAFED_BACKEND_BASE_PATH="$DP_BACKUP_BASE_PATH"
          START_TIME=$1
          STOP_TIME=$2
          if [ -z $STOP_TIME ]; then
            STOP_TIME=$(get_current_time)
          fi
          START_TIME=$(date -d "${START_TIME}" -u '+%Y-%m-%dT%H:%M:%SZ')
          STOP_TIME=$(date -d "${STOP_TIME}" -u '+%Y-%m-%dT%H:%M:%SZ')
          TOTAL_SIZE=$(datasafed stat / | grep TotalSize | awk '{print $2}')
          echo "{\"totalSize\":\"$TOTAL_SIZE\",\"timeRange\":{\"start\":\"${START_TIME}\",\"end\":\"${STOP_TIME}\"}}" >"${DP_BACKUP_INFO_FILE}"
        }
        
        # if the script exits with a non-zero exit code, touch a file to indicate that the backup failed,
        # the sync progress container will check this file and exit if it exists
        function handle_exit() {
          exit_code=$?
          if [ $exit_code -ne 0 ]; then
            echo "failed with exit code $exit_code"
            touch "${DP_BACKUP_INFO_FILE}.exit"
            exit 1
          fi
        }
        
        #set -e
        #set -o pipefail
        export PATH="$PATH:$DP_DATASAFED_BIN_PATH"
        export DATASAFED_BACKEND_BASE_PATH="$DP_BACKUP_BASE_PATH"
        export PGPASSWORD=${DP_DB_PASSWORD}
        
        trap handle_exit EXIT
        
        START_TIME=`get_current_time`
        BACKUP_TMPDIR="/tmp"
        
        if [ ! -f /usr/bin/expect ]; then
          OLD_LD_LIBRARY_PATH="${LD_LIBRARY_PATH}"
          unset LD_LIBRARY_PATH
        
          apt-get update && DEBIAN_FRONTEND=noninteractive apt-get install -y expect
        
          export LD_LIBRARY_PATH="${OLD_LD_LIBRARY_PATH}"
        fi
        
        /usr/bin/expect <<-EOF
        set time 30
        spawn gs_basebackup -Ft -Pv -c fast -Xf -D ${BACKUP_TMPDIR} -h ${DP_DB_HOST} -U ${DP_DB_USER} -z -W
        expect "Password:"
        send "${DP_DB_PASSWORD}\n"
        send_user "\ngs_backup successful"
        
        expect eof
        EOF
        
        BACKUP_TAR_FILE="${BACKUP_TMPDIR}/base.tar.gz"
        if [ ! -f "${BACKUP_TAR_FILE}" ]; then
          echo "Backup tar file not exist"
          exit 1
        fi
        
        datasafed push "$BACKUP_TAR_FILE" "/${DP_BACKUP_NAME}.tar.gz"
        
        # stat and save the backup information
        stat_and_save_backup_info "$START_TIME"
      syncProgress:
        enabled: true
        intervalSeconds: 5
  restore:
    prepareData:
      image: docker.io/apecloud/mogdb:$(IMAGE_TAG)
      command:
      - bash
      - -c
      - |
        set -x
        set -e
        set -o pipefail
        export PATH="$PATH:$DP_DATASAFED_BIN_PATH"
        export DATASAFED_BACKEND_BASE_PATH="$DP_BACKUP_BASE_PATH"
        function remote_file_exists() {
            local out=$(datasafed list $1)
            if [ "${out}" == "$1" ]; then
                echo "true"
                return
            fi
            echo "false"
        }
        
        mkdir -p ${DATA_DIR};
        
        if [ $(remote_file_exists "${DP_BACKUP_NAME}.tar.gz") == "true" ]; then
          datasafed pull "${DP_BACKUP_NAME}.tar.gz" - | gunzip > ${DP_BACKUP_NAME}.tar
          gs_tar -F ${DP_BACKUP_NAME}.tar -D "${DATA_DIR}/"
          echo "done!";
          exit 0
        fi
        
        echo "done!";
    postReady: []
---
# Source: mogdb/templates/backuppolicytemplate.yaml
apiVersion: apps.kubeblocks.io/v1alpha1
kind: BackupPolicyTemplate
metadata:
  name: mogdb-backup-policy-template
  labels:
    clusterdefinition.kubeblocks.io/name: postgresql
    helm.sh/chart: mogdb-0.9.0
    app.kubernetes.io/name: mogdb
    app.kubernetes.io/instance: my-mogdb
    app.kubernetes.io/version: "5.0.5"
    app.kubernetes.io/managed-by: Helm
spec:
  clusterDefinitionRef: mogdb
  backupPolicies:
  - componentDefRef: mogdb
#    target:
#      role: primary
    backupMethods:
    - name: mogdb-basebackup
      snapshotVolumes: false
      actionSetName: mogdb-basebackup
      envMapping:
      - key: IMAGE_TAG
        valueFrom:
          clusterVersionRef:
          - names: [mogdb-5.0.5]
            mappingValue: "5.0.5"
      targetVolumes:
        volumeMounts:
        - name: data
          mountPath: /var/lib/mogdb
    - name: volume-snapshot
      snapshotVolumes: true
      targetVolumes:
        volumes:
        - data
    schedules:
    - backupMethod: mogdb-basebackup
      enabled: false
      cronExpression: "0 18 * * *"
      retentionPeriod: 7d
    - backupMethod: volume-snapshot
      enabled: false
      cronExpression: "0 18 * * *"
      retentionPeriod: 7d
---
# Source: mogdb/templates/clusterdefinition.yaml
apiVersion: apps.kubeblocks.io/v1alpha1
kind: ClusterDefinition
metadata:
  name: mogdb
  labels:
    helm.sh/chart: mogdb-0.9.0
    app.kubernetes.io/name: mogdb
    app.kubernetes.io/instance: my-mogdb
    app.kubernetes.io/version: "5.0.5"
    app.kubernetes.io/managed-by: Helm
spec:
  type: mogdb
  connectionCredential:
    username: kbadmin
    password: "$(STRONG_RANDOM_PASSWD)"
    endpoint: "$(SVC_FQDN):$(SVC_PORT_tcp-mogdb)"
    host: "$(SVC_FQDN)"
    port: "$(SVC_PORT_tcp-mogdb)"
  componentDefs:
    - name: mogdb
      workloadType: Stateful
      rsmSpec:
        roles:
          - name: primary
            accessMode: ReadWrite
            isLeader: true
          - name: secondary
            accessMode: Readonly
            isLeader: false
        roleProbe:
          customHandler:
            - image: docker.io/apecloud/mogdb:5.0.5
              command:
                - /bin/bash
                - -c
                - |
                  role=$(gsql -h 127.0.0.1 -p 26000  -U ${MOGDB_USER} -W "${MOGDB_PASSWORD}" -dpostgres -t -c "select local_role from pg_stat_get_stream_replications() limit 1" | xargs echo -n)
                  if [[ "$role"x == "Normal"x || "$role"x == "Primary"x ]]; then
                    echo -n "primary"
                  else
                    echo -n "secondary"
                  fi
      characterType: mogdb
      configSpecs:
        - name: mogdb-configuration
          templateRef: mogdb-configuration
          constraintRef: mogdb-cc
          keys:
            - postgresql.conf
          namespace: default
          volumeName: mogdb-config
          defaultMode: 0777
      scriptSpecs:
        - name: mogdb-scripts
          templateRef: mogdb-scripts
          namespace: default
          volumeName: scripts
          defaultMode: 0777
      monitor:
        builtIn: false
        exporterConfig:
          scrapePath: /metrics
          scrapePort: 9187
      logConfigs:
        - name: running
          filePathPattern: /var/lib/mogdb/data/pg_log/postgresql-*
      service:
        ports:
          - name: tcp-mogdb
            port: 26000
            targetPort: tcp-mogdb
      volumeTypes:
        - name: data
          type: data
        - name: log
          type: log
      podSpec:
        shareProcessNamespace: true
        securityContext:
          runAsUser: 0
          runAsGroup: 0
        containers:
          - name: mogdb
            imagePullPolicy: IfNotPresent
            command:
              - bash
              - -c
              - |
                set -e
                MogDB_Role=
                REPL_CONN_INFO=

                cat >>/home/omm/.profile <<-EOF
                export OG_SUBNET="0.0.0.0/0"
                export PGHOST="/var/lib/mogdb/tmp"
                export PGPORT="$PGPORT"
                EOF
                [[ -d "$PGHOST" ]] || (mkdir -p $PGHOST && chown omm $PGHOST)

                hostname=$KB_POD_NAME
                [[ "$hostname" =~ -([0-9]+)$ ]] || exit 1
                ordinal=${BASH_REMATCH[1]}
                if [[ $ordinal -eq 0 ]];then
                  MogDB_Role="primary"
                else
                  MogDB_Role="standby"

                  pgport="5432"
                  if [ -n "$PGPORT" ];then
                    pgport="$PGPORT"
                  fi
                    ha_port=$(expr $pgport + 1)
                    ha_service_port=$(expr $pgport + 2)

                  cat >/tmp/replconninfo.conf

                  replicas=$(eval echo ${KB_POD_LIST} | tr ',' '\n')
                  SUBDOMAIN=${KB_CLUSTER_COMP_NAME}-headless
                  for replica in ${replicas}; do
                    host=${replica}.${SUBDOMAIN}
                    host_ordinal=$(echo $replica | awk -F '-' '{print $(NF)}')
                    if [ $host_ordinal -ge $ordinal ];then
                      break
                    fi
                    echo "$hostname $PodIP" |ncat --send-only $host 6543
                    remote_ip=`ping $host -c 1 | sed '1{s/[^(]*(//;s/).*//;q}'`
                    echo "replconninfo$((host_ordinal+1)) = 'localhost=$PodIP localport=${ha_port} localservice=${ha_service_port} remotehost=$remote_ip remoteport=${ha_port} remoteservice=${ha_service_port}'" >> /tmp/replconninfo.conf
                  done

                  #echo "$hostname $PodIP" |ncat --send-only ${KB_CLUSTER_COMP_NAME}-0.${KB_CLUSTER_COMP_NAME}-headless 6543
                  #remote_ip=`ping ${KB_CLUSTER_COMP_NAME}-0.${KB_CLUSTER_COMP_NAME}-headless -c 1 | sed '1{s/[^(]*(//;s/).*//;q}'`

                  # REPL_CONN_INFO="replconninfo${ordinal} = 'localhost=$PodIP localport=${ha_port} localservice=${ha_service_port} remotehost=$remote_ip remoteport=${ha_port} remoteservice=${ha_service_port}'"
                fi

                [[ -n "$REPL_CONN_INFO" ]] && export REPL_CONN_INFO
                source /home/omm/.profile

                cp /home/omm/conf/* /tmp/
                chmod 777 /tmp/postgresql.conf /tmp/pg_hba.conf
                exec bash /kb-scripts/setup.sh -M "$MogDB_Role"
            securityContext:
              runAsUser: 0
            ports:
              - name: tcp-mogdb
                containerPort: 26000
            env:
              - name: GS_USERNAME
                valueFrom:
                  secretKeyRef:
                    name: $(CONN_CREDENTIAL_SECRET_NAME)
                    key: username
              - name: GS_PASSWORD
                valueFrom:
                  secretKeyRef:
                    name: $(CONN_CREDENTIAL_SECRET_NAME)
                    key: password
              - name: GS_DB
                value: mogdb
              - name: PGPORT
                value: "26000"
              - name: PATH
                value: /usr/local/mogdb/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
              - name: GAUSSHOME
                value: /usr/local/mogdb
              - name: LD_LIBRARY_PATH
                value: /usr/local/mogdb/lib
              - name: PGDATA
                value: /var/lib/mogdb/data
              - name: PGHOST
                value: /var/lib/mogdb/tmp
              - name: PodIP
                valueFrom:
                  fieldRef:
                    apiVersion: v1
                    fieldPath: status.podIP
              - name: MOGDB_USER
                valueFrom:
                  secretKeyRef:
                    name: $(CONN_CREDENTIAL_SECRET_NAME)
                    key: username
                    optional: false
              - name: MOGDB_PASSWORD
                valueFrom:
                  secretKeyRef:
                    name: $(CONN_CREDENTIAL_SECRET_NAME)
                    key: password
                    optional: false
            volumeMounts:
              - name: data
                mountPath: /var/lib/mogdb
                subPath: mogdb
              - name: scripts
                mountPath: /kb-scripts
              - name: mogdb-config
                mountPath: /home/omm/conf
            livenessProbe:
              exec:
                command:
                  - sh
                  - -c
                  - su -l omm -c "gsql -dpostgres -c 'select 1'"
              initialDelaySeconds: 120
              periodSeconds: 10
              timeoutSeconds: 5
              failureThreshold: 12
            readinessProbe:
              exec:
                # Check we can execute queries over TCP (skip-networking is off).
                command:
                  - sh
                  - -c
                  - su -l omm -c "gsql -dpostgres -c 'select 1'"
              initialDelaySeconds: 30
              periodSeconds: 3
              timeoutSeconds: 5
          - name: helper
            imagePullPolicy: IfNotPresent
            ports:
              - name: helper
                containerPort: 6543
            command:
              - bash
              - /kb-scripts/helper.sh
            env:
              - name: PodIP
                valueFrom:
                  fieldRef:
                    apiVersion: v1
                    fieldPath: status.podIP
              - name: PGDATA
                value: "/var/lib/mogdb/data"
              - name: PGHOST
                value: "/var/lib/mogdb/tmp"
              - name: PGPORT
                value: "26000"
            volumeMounts:
              - name: data
                mountPath: /var/lib/mogdb
                subPath: mogdb
              - name: scripts
                mountPath: /kb-scripts
            resources:
              requests:
                cpu: 500m
                memory: 64Mi
          - name: exporter
            image:  docker.io/apecloud/mogdb-exporter:3.1.0
            imagePullPolicy: "IfNotPresent"
#            command:
#              - bash
#              - -c
#              - |
#                sleep 36000
            securityContext:
              runAsUser: 70
            ports:
              - name: http-exporter
                containerPort: 9187
            volumeMounts:
              - name: data
                mountPath: /var/lib/mogdb
                subPath: mogdb
            env:
              - name: DATA_SOURCE_NAME
                value: "host=/var/lib/mogdb/tmp port=26000 user=omm dbname=postgres"
              - name: PGHOST
                value: "/var/lib/mogdb/tmp"
              - name: PGPORT
                value: "26000"
              - name: PGDATA
                value: "/var/lib/mogdb/data"
              - name: SERVICE_PORT
                value: "9187"
            resources:
              requests:
                cpu: 100m
                memory: 100Mi
              limits:
                cpu: 100m
                memory: 100Mi
        volumes:
          - name: dshm
            emptyDir:
              medium: Memory
---
# Source: mogdb/templates/clusterversion.yaml
apiVersion: apps.kubeblocks.io/v1alpha1
kind: ClusterVersion
metadata:
  # major version of the component defined in values.yaml
  name: mogdb-5.0.5
  labels:
    helm.sh/chart: mogdb-0.9.0
    app.kubernetes.io/name: mogdb
    app.kubernetes.io/instance: my-mogdb
    app.kubernetes.io/version: "5.0.5"
    app.kubernetes.io/managed-by: Helm
spec:
  clusterDefinitionRef: mogdb
  componentVersions:
    - componentDefRef: mogdb
      versionsContext:
        containers:
          - name: mogdb
            image: docker.io/apecloud/mogdb:5.0.5
          - name: helper
            image: docker.io/apecloud/mogdb:5.0.5
      systemAccountSpec:
        cmdExecutorConfig:
          image: docker.io/apecloud/mogdb:5.0.5
---
# Source: mogdb/templates/configconstraint.yaml
apiVersion: apps.kubeblocks.io/v1beta1
kind: ConfigConstraint
metadata:
  name: mogdb-cc
  labels:
    helm.sh/chart: mogdb-0.9.0
    app.kubernetes.io/name: mogdb
    app.kubernetes.io/instance: my-mogdb
    app.kubernetes.io/version: "5.0.5"
    app.kubernetes.io/managed-by: Helm
spec:

  # ConfigurationSchema that impose restrictions on engine parameter's rule
  parametersSchema:
    # top level pg configuration type
    topLevelKey: PGParameter

    # schemaInJSON: auto generate from cue scripts
    # example: ../../pkg/configuration/testdata/mysql_openapi.json
    cue: |-
      //Copyright (C) 2022-2023 ApeCloud Co., Ltd
      //
      //This file is part of KubeBlocks project
      //
      //This program is free software: you can redistribute it and/or modify
      //it under the terms of the GNU Affero General Public License as published by
      //the Free Software Foundation, either version 3 of the License, or
      //(at your option) any later version.
      //
      //This program is distributed in the hope that it will be useful
      //but WITHOUT ANY WARRANTY; without even the implied warranty of
      //MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
      //GNU Affero General Public License for more details.
      //
      //You should have received a copy of the GNU Affero General Public License
      //along with this program.  If not, see <http://www.gnu.org/licenses/>.
      
      // PostgreSQL parameters: https://postgresqlco.nf/doc/en/param/
      #PGParameter: {
      	// use data in another directory
      	data_directory?: string
      
      	// host-based authentication file
      	hba_file?: string
      
      	// ident configuration file
      	ident_file?: string
      
      	// If external_pid_file is not explicitly set, no extra PID file is written.
      	external_pid_file?: string
      
      	// what IP address(es) to listen on;
      	// comma-separated list of addresses;
      	// defaults to 'localhost'; use '*' for all
      	// (change requires restart)
      	listen_addresses?: string
      
      	local_bind_address?: string
      
      	// (change requires restart)
      	port?: int & >=1 & <=65535
      
      	// (change requires restart)
      	max_connections: int & >=0 & <=10000
      
      	// Note: Increasing max_connections costs ~400 bytes of shared memory per
      	// connection slot, plus lock space (see max_locks_per_transaction).
      	// (change requires restart)
      	sysadmin_reserved_connections?: int & >=0
      
      	// (change requires restart)
      	unix_socket_directory?: string
      
      	// (change requires restart)
      	unix_socket_group?: string
      
      	// begin with 0 to use octal notation
      	// (change requires restart)
      	unix_socket_permissions?: int & >=0 & <=4095
      
      	// 1s-600s
      	authentication_timeout: int & >=1 & <=600 @timeDurationResource(1s)
      
      	// allowed duration of any unused session, 0s-86400s (1 day), 0 is disabled
      	session_timeout: int & >=0 & <=86400 @timeDurationResource(1s)
      
      	// (change requires restart)
      	ssl?: string & "on" | "off"
      
      	// allowed SSL ciphers
      	// (change requires restart)
      	ssl_ciphers?: string
      
      	// 7-180 days
      	ssl_cert_notify_time: int & >=7 & <=180
      
      	// amount of data between renegotiations, no longer supported
      	// (change requires restart)
      	ssl_renegotiation_limit?: int
      
      	// (change requires restart)
      	ssl_cert_file?: string
      
      	// (change requires restart)
      	ssl_key_file?: string
      
      	// (change requires restart)
      	ssl_ca_file?: string
      
      	// (change requires restart)
      	ssl_crl_file?: string
      
      	// Kerberos and GSSAPI
      	// (change requires restart)
      	krb_server_keyfile?: string
      
      	// (Kerberos only)
      	krb_srvname?: string
      
      	// krb_caseins_users = off
      	krb_caseins_users?: string & "on" | "off"
      
      	// Whether to change the initial password of the initial user
      	modify_initial_password?: string & "on" | "off"
      
      	// Whether password complexity checks
      	password_policy?: int & >=0 & <=1
      
      	// Whether the new password can be reused in password_reuse_time days
      	password_reuse_time?: int & >=0
      
      	// Whether the new password can be reused
      	password_reuse_max?: int & >=0
      
      	// The account will be unlocked automatically after a specified period of time
      	password_lock_time?: int & >=0
      
      	// Enter the wrong password reached failed_login_attempts times, the current account will be locked
      	failed_login_attempts?: int & >=0
      
      	// Password storage type, 0 is md5 for PG, 1 is sha256 + md5, 2 is sha256 only
      	password_encryption_type?: int & >=0 & <=2
      
      	// The minimal password length(6-999)
      	password_min_length?: int & >=6 & <=999
      
      	// The maximal password length(6-999)
      	password_max_length?: int & >=6 & <=999
      
      	// The minimal upper character number in password(0-999)
      	password_min_uppercase?: int & >=0 & <=999
      
      	// The minimal lower character number in password(0-999)
      	password_min_lowercase?: int & >=0 & <=999
      
      	// The minimal digital character number in password(0-999)
      	password_min_digital?: int & >=0 & <=999
      
      	// The minimal special character number in password(0-999)
      	password_min_special?: int & >=0 & <=999
      
      	// The password effect time(0-999)
      	password_effect_time?: int & >=0 & <=999
      
      	// The password notify time(0-999)
      	password_notify_time?: int & >=0 & <=999
      
      	// TCP_KEEPIDLE, in seconds; 0 selects the system default
      	tcp_keepalives_idle?: int & >=0
      
      	// TCP_KEEPINTVL, in seconds; 0 selects the system default
      	tcp_keepalives_interval?: int & >=0
      
      	// TCP_KEEPCNT; 0 selects the system default
      	tcp_keepalives_count?: int & >=0
      
      
      	// memorypool_enable = false
      	memorypool_enable?: string & "on" | "off"
      
      	// memorypool_size = 512MB
      	memorypool_size?: string
      
      	// enable_memory_limit = true
      	enable_memory_limit?: string & "on" | "off"
      
      	// max_process_memory = 12GB
      	max_process_memory?: string
      
      	// UDFWorkerMemHardLimit = 1GB
      	UDFWorkerMemHardLimit?: string
      
      	// min 128kB
      	// (change requires restart)
      	shared_buffers: string
      
      	// for bulkload, max shared_buffers
      	bulk_write_ring_size?: string
      
      	// control shared buffers use in standby, 0.1-1.0
      	standby_shared_buffers_fraction?: float
      
      	// min 800kB
      	temp_buffers?: string
      
      	// zero disables the feature
      	// (change requires restart)
      	max_prepared_transactions: int & >=0
      
      	// min 64kB
      	work_mem?: string
      
      	// min 1MB
      	maintenance_work_mem?: string
      
      	// min 100kB
      	max_stack_depth?: string
      
      	// min 16MB
      	cstore_buffers?: string
      
      	// limits per-session temp file space in kB, or -1 for no limit
      	temp_file_limit?: int
      
      	// limits for single SQL used space on single DN in kB, or -1 for no limit
      	sql_use_spacelimit?: int
      
      	// min 25
      	max_files_per_process?: int
      
      	// (change requires restart)
      	shared_preload_libraries?: string
      
      	// 0-100 milliseconds
      	vacuum_cost_delay?: int @timeDurationResource(1ms)
      
      	// 0-10000 credits
      	vacuum_cost_page_hit?: int & >=0 & <=10000
      
      	// 0-10000 credits
      	vacuum_cost_page_miss?: int & >=0 & <=10000
      
      	// 0-10000 credits
      	vacuum_cost_page_dirty?: int & >=0 & <=10000
      
      	// 1-10000 credits
      	vacuum_cost_limit?: int & >=1 & <=10000
      
      	// 10-10000ms between rounds
      	bgwriter_delay?: int @timeDurationResource(1ms)
      
      	// 0-1000 max buffers written/round
      	bgwriter_lru_maxpages?: int & >=0 & <=1000
      
      	// 0-10.0 multipler on buffers scanned/round
      	bgwriter_lru_multiplier?: float & >=0 & <=10.0
      
      	// minimal, archive, hot_standby or logical
      	// (change requires restart)
      	wal_level?: string
      
      	// turns forced synchronization on or off
      	fsync?: string & "on" | "off"
      
      	// synchronization level;
      	// off, local, remote_receive, remote_write, or on
      	// It's global control for all transactions
      	// It could not be modified by gs_ctl reload, unless use setsyncmode.
      	synchronous_commit?: string
      
      	// Selects the method used for forcing WAL updates to disk.
      	wal_sync_method?: string & "fsync" | "fdatasync" | "open_sync" | "open_datasync" | "fsync_writethrough"
      
      	// recover from partial page writes
      	full_page_writes?: string & "on" | "off"
      
      	// min 32kB
      	// (change requires restart)
      	wal_buffers?: string
      
      	// 1-10000 milliseconds
      	wal_writer_delay?: int @timeDurationResource(1ms)
      
      	// range 0-100000, in microseconds
      	commit_delay?: int @timeDurationResource(1us)
      
      	// range 1-1000
      	commit_siblings?: int & >=1 & <=1000
      
      	// in logfile segments, min 1, 16MB each
      	checkpoint_segments?: int & >=1
      
      	// range 30s-1h
      	checkpoint_timeout?: int @timeDurationResource(1s)
      
      	// checkpoint target duration, 0.0 - 1.0
      	checkpoint_completion_target?: float & >=0.0 & <=1.0
      
      	// 0 disables
      	checkpoint_warning?: int @timeDurationResource(1s)
      
      	// maximum time wait checkpointer to start
      	checkpoint_wait_timeout?: int @timeDurationResource(1s)
      
      	// enable incremental checkpoint
      	enable_incremental_checkpoint?: string & "on" | "off"
      
      	// range 1s-1h
      	incremental_checkpoint_timeout?: int & >=1 & <=3600 @timeDurationResource(1s)
      
      	// dirty page writer sleep time, 0ms - 1h
      	pagewriter_sleep?: int & >=1 & <=360000 @timeDurationResource(1ms)
      
      	archive_mode?: string
      
      	archive_command?: string
      
      	archive_timeout?: int @timeDurationResource(1s)
      
      	// path to use to archive a logfile segment
      	archive_dest?: string
      
      
      	//------------------------------------------------
      	//  REPLICATION
      	//-------------------------------------------------
      	// The heartbeat interval of the standby nodes.
      	// The value is best configured less than half of
      	// the wal_receiver_timeout and wal_sender_timeout.
      	datanode_heartbeat_interval?: string @timeDurationResource(1s)
      
      	// max number of walsender processes
      	// (change requires restart)
      	max_wal_senders?: int
      
      	// in logfile segments, 16MB each; 0 disables
      	wal_keep_segments?: int & >=0
      
      	// in milliseconds; 0 disables
      	wal_sender_timeout?: int @timeDurationResource(1ms)
      
      	enable_slot_log?: string & "on" | "off"
      
      	// max number of replication slots.
      	// The value belongs to [1,7].
      	// (change requires restart)
      	max_replication_slots?: int & >=1 & <=8
      
      	max_changes_in_memory?: int
      
      	max_cached_tuplebufs?: int
      
      	// replication connection information used to connect primary on standby, or standby on primary,
      	// or connect primary or standby on secondary
      	// The heartbeat thread will not start if not set localheartbeatport and remoteheartbeatport.
      	// e.g. 'localhost=10.145.130.2 localport=12211 localheartbeatport=12214 remotehost=10.145.130.3 remoteport=12212 remoteheartbeatport=12215, localhost=10.145.133.2 localport=12213 remotehost=10.145.133.3 remoteport=12214'
      	replconninfo1?: string
      
      	// replication connection information used to connect secondary on primary or standby,
      	// or connect primary or standby on secondary
      	// e.g. 'localhost=10.145.130.2 localport=12311 localheartbeatport=12214 remotehost=10.145.130.4 remoteport=12312 remoteheartbeatport=12215, localhost=10.145.133.2 localport=12313 remotehost=10.145.133.4 remoteport=12314'
      	replconninfo2?: string
      
      	// replication connection information used to connect primary on standby, or standby on primary,
      	// e.g. 'localhost=10.145.130.2 localport=12311 localheartbeatport=12214 remotehost=10.145.130.5 remoteport=12312 remoteheartbeatport=12215, localhost=10.145.133.2 localport=12313 remotehost=10.145.133.5 remoteport=12314'
      	replconninfo3?: string
      
      	// replication connection information used to connect primary on standby, or standby on primary,
      	// e.g. 'localhost=10.145.130.2 localport=12311 localheartbeatport=12214 remotehost=10.145.130.6 remoteport=12312 remoteheartbeatport=12215, localhost=10.145.133.2 localport=12313 remotehost=10.145.133.6 remoteport=12314'
      	replconninfo4?: string
      
      	// replication connection information used to connect primary on standby, or standby on primary,
      	// e.g. 'localhost=10.145.130.2 localport=12311 localheartbeatport=12214 remotehost=10.145.130.7 remoteport=12312 remoteheartbeatport=12215, localhost=10.145.133.2 localport=12313 remotehost=10.145.133.7 remoteport=12314'
      	replconninfo5?: string
      
      	// replication connection information used to connect primary on standby, or standby on primary,
      	// e.g. 'localhost=10.145.130.2 localport=12311 localheartbeatport=12214 remotehost=10.145.130.8 remoteport=12312 remoteheartbeatport=12215, localhost=10.145.133.2 localport=12313 remotehost=10.145.133.8 remoteport=12314'
      	replconninfo6?: string
      
      	// replication connection information used to connect primary on standby, or standby on primary,
      	// e.g. 'localhost=10.145.130.2 localport=12311 localheartbeatport=12214 remotehost=10.145.130.9 remoteport=12312 remoteheartbeatport=12215, localhost=10.145.133.2 localport=12313 remotehost=10.145.133.9 remoteport=12314'
      	replconninfo7?: string
      
      	// replication connection information used to connect primary on primary cluster, or standby on standby cluster,
      	// e.g. 'localhost=10.145.133.2 localport=12313 remotehost=10.145.133.9 remoteport=12314'
      	cross_cluster_replconninfo1?: string
      
      	// replication connection information used to connect primary on primary cluster, or standby on standby cluster,
      	// e.g. 'localhost=10.145.133.2 localport=12313 remotehost=10.145.133.9 remoteport=12314'
      	cross_cluster_replconninfo2?: string
      
        // replication connection information used to connect primary on primary cluster, or standby on standby cluster,
      	// e.g. 'localhost=10.145.133.2 localport=12313 remotehost=10.145.133.9 remoteport=12314'
      	cross_cluster_replconninfo3?: string
      
      	// replication connection information used to connect primary on primary cluster, or standby on standby cluster,
      	// e.g. 'localhost=10.145.133.2 localport=12313 remotehost=10.145.133.9 remoteport=12314'
      	cross_cluster_replconninfo4?: string
      
      	//  Master Server
      	// standby servers that provide sync rep
      	// comma-separated list of application_name
      	// from standby(s); '*' = all
      	// These settings are ignored on a standby server.
      	synchronous_standby_names?: string
      
      	// Whether master is allowed to continue
      	// as standbalone after sync standby failure
      	// It's global control for all transactions
      	most_available_sync?: string & "on" | "off"
      
      	// number of xacts by which cleanup is delayed
      	vacuum_defer_cleanup_age?: int
      
      	// data replication buffer size
      	data_replicate_buffer_size?: string
      
      	// Size of walsender max send size
      	walsender_max_send_size?: string
      
      	enable_data_replicate?: string & "on" | "off"
      
      	///  Standby Server
      	// "on" allows queries during recovery
      	// (change requires restart)
      	// These settings are ignored on a master server.
      	hot_standby?: string & "on" | "off"
      
      	// max delay before canceling queries
      	// when reading WAL from archive;
      	// -1 allows indefinite delay
      	max_standby_archive_delay?: string
      
      	// max delay before canceling queries
      	// when reading streaming WAL;
      	// -1 allows indefinite delay
      	max_standby_streaming_delay?: string
      
      	// send replies at least this often
      	// 0 disables
      	wal_receiver_status_interval?: string
      
      	// send info from standby to prevent
      	// query conflicts
      	hot_standby_feedback?: string & "on" | "off"
      
      	// time that receiver waits for
      	// communication from master
      	// in milliseconds; 0 disables
      	wal_receiver_timeout?: string
      
      	// timeout that receiver connect master
      	// in seconds; 0 disables
      	wal_receiver_connect_timeout?: string
      
      	// max retries that receiver connect master
      	wal_receiver_connect_retries?: int
      
      	// wal receiver buffer size
      	wal_receiver_buffer_size?: string
      
      	// xlog keep for all standbys even through they are not connecting and donnot created replslot.
      	enable_xlog_prune?: string & "on" | "off"
      
      	// xlog keep for the wal size less than max_xlog_size when the enable_xlog_prune is on
      	max_size_for_xlog_prune?: int
      
      	// Maximum number of logical replication worker processes.
      	max_logical_replication_workers?: int
      	// These settings are ignored on a master server.
      
      	enable_bitmapscan?: string & "on" | "off"
        enable_hashagg?: string & "on" | "off"
        enable_hashjoin?: string & "on" | "off"
        enable_indexscan?: string & "on" | "off"
        enable_indexonlyscan?: string & "on" | "off"
        enable_material?: string & "on" | "off"
        enable_mergejoin?: string & "on" | "off"
        enable_nestloop?: string & "on" | "off"
        enable_seqscan?: string & "on" | "off"
        enable_sort?: string & "on" | "off"
        enable_tidscan?: string & "on" | "off"
      
        enable_kill_query?: string
        // optional: [on, off], default: off
      
        // Planner Cost Constants
      
        seq_page_cost?: float
        // measured on an arbitrary scale
      
        random_page_cost?: float
        // same scale as above
      
        cpu_tuple_cost?: float
        // same scale as above
      
        cpu_index_tuple_cost?: float
        // same scale as above
      
        cpu_operator_cost?: float
        // same scale as above
      
        effective_cache_size?: string
      
        geqo?: string & "on" | "off"
      
        geqo_threshold?: int
      
        geqo_effort?: int
        // range 1-10
      
        geqo_pool_size?: int
        // selects default based on effort
      
        geqo_generations?: int
        // selects default based on effort
      
        geqo_selection_bias?: float
        // range 1.5-2.0
      
        geqo_seed?: float
        // range 0.0-1.0
      
        default_statistics_target?: int
        // range 1-10000
      
        constraint_exclusion?: string
        // on, off, or partition
      
        cursor_tuple_fraction?: float
        // range 0.0-1.0
      
        from_collapse_limit?: int
      
        join_collapse_limit?: int
        // 1 disables collapsing of explicit JOIN clauses
      
        plan_mode_seed?: int
        // range -1-0x7fffffff
      
        check_implicit_conversions?: string
        // off
      
        // Valid values are combinations of stderr, csvlog, syslog, and eventlog,
        // depending on platform. csvlog requires logging_collector to be on.
        log_destination?: string
      
        logging_collector?: string & "on" | "off"
        // Enable capturing of stderr and csvlog into log files. Required to be on for csvlogs.
        // (change requires restart)
      
        // directory where log files are written,
        // can be absolute or relative to PGDATA
        log_directory?: string
      
        // log file name pattern, can include strftime() escapes
        log_filename?: string
      
        // creation mode for log files, begin with 0 to use octal notation
        log_file_mode?: int
      
        // If on, an existing log file with the same name as the new log file will be
        // truncated rather than appended to. But such truncation only occurs on
        // time-driven rotation, not on restarts or size-driven rotation. Default is
        // off, meaning append to existing files in all cases.
        // log_truncate_on_rotation?: string
      
        // Automatic rotation of logfiles will happen after that time. 0 disables.
        // log_rotation_age?: string
      
        // Automatic rotation of logfiles will happen after that much log output.
        // 0 disables.
        log_rotation_size?: string
      
        syslog_facility?: string
        syslog_ident?: string
      
      	event_source?: string
      
      	log_min_messages?: string & "debug5" | "debug4" | "debug3" | "debug2" | "debug1" | "info" | "notice" | "warning" | "error" | "log" | "fatal" | "panic"
      	log_min_error_statement?: string & "debug5" | "debug4" | "debug3" | "debug2" | "debug1" | "info" | "notice" | "warning" | "error" | "log" | "fatal" | "panic"
      
      	log_min_duration_statement?: int @timeDurationResource(1min)
      
      	debug_print_parse?: string & "on" | "off"  
        debug_print_rewritten?: string & "on" | "off"  
        debug_print_plan?: string & "on" | "off"  
        debug_pretty_print?: string & "on" | "off"  
        log_checkpoints?: string & "on" | "off"  
        log_pagewriter?: string & "on" | "off"  
        log_connections?: string & "on" | "off"  
        log_disconnections?: string & "on" | "off"  
        log_duration?: string & "on" | "off"  
      
      	log_hostname?: string & "on" | "off"  
      	log_line_prefix?: string
      
      	log_lock_waits?: string & "on" | "off"  
      
      	log_statement?: string & "none" | "ddl" | "mod" | "all"
      	log_temp_files?: int & >=-1 & <=2147483647 @storeResource(1KB)
      
      
      	// Sets the time zone to use in log messages.
      	log_timezone?: string
      
      	enable_alarm?: string & "on" | "off"
      
      	connection_alarm_rate?: number
      
      	alarm_report_interval?: number
      
      	alarm_component?: string
      
      	track_activities?: string & "on" | "off"
      	track_counts?: string & "on" | "off"
      	track_io_timing?: string & "on" | "off"
      	track_functions?: string & "none"| "pl"| "all"
      	track_activity_query_size?: int
      	update_process_title?: string & "on" | "off"
      	stats_temp_directory?: string
      	track_thread_wait_status_interval?: string
      	track_sql_count?: string & "on" | "off"
      	enbale_instr_track_wait?: string & "on" | "off"
      
      	// Query Execution Statistics
      	log_parser_stats?: string
      	log_planner_stats?: string
      	log_executor_stats?: string
      	log_statement_stats?: string
      
      	use_workload_manager?: string
      
      
      	enable_security_policy?: string & "on" | "off"
      	use_elastic_search?: string & "on" | "off"
      	elastic_search_ip_addr?: string // what elastic search ip is, change https to http when elastic search is non-ssl mode
      
      	cpu_collect_timer?: int
      
      	autovacuum?: string & "on" | "off"
      
      	// (ms) Sets the minimum execution time above which autovacuum actions will be logged.
      	log_autovacuum_min_duration: int & >=-1 & <=2147483647 | *10000 @timeDurationResource()
      
      	// Sets the maximum number of simultaneously running autovacuum worker processes.
      	autovacuum_max_workers?: int & >=1 & <=8388607
      
      	// (s) Time to sleep between autovacuum runs.
      	autovacuum_naptime: int & >=1 & <=2147483 | *15 @timeDurationResource(1s)
      	// Minimum number of tuple updates or deletes prior to vacuum.
      	autovacuum_vacuum_threshold?: int & >=0 & <=2147483647
      	// Minimum number of tuple inserts, updates or deletes prior to analyze.
      	autovacuum_analyze_threshold?: int & >=0 & <=2147483647
      
      	// Number of tuple updates or deletes prior to vacuum as a fraction of reltuples.
      	autovacuum_vacuum_scale_factor: float & >=0 & <=100 | *0.1
      
      	// Number of tuple inserts, updates or deletes prior to analyze as a fraction of reltuples.
      	autovacuum_analyze_scale_factor: float & >=0 & <=100 | *0.05
      
      	// Age at which to autovacuum a table to prevent transaction ID wraparound.
      	autovacuum_freeze_max_age?: int & >=100000 & <=2000000000
      
      	// (ms) Vacuum cost delay in milliseconds, for autovacuum.
      	autovacuum_vacuum_cost_delay?: int & >=-1 & <=100 @timeDurationResource()
      
      	// Vacuum cost amount available before napping, for autovacuum.
      	autovacuum_vacuum_cost_limit?: int & >=-1 & <=10000
      
      	// Sets the message levels that are sent to the client.
      	client_min_messages?: string & "debug5" | "debug4" | "debug3" | "debug2" | "debug1" | "log" | "notice" | "warning" | "error"
      
      	// Sets the schema search order for names that are not schema-qualified.
      	search_path?: string
      
      	// Sets the default tablespace to create tables and indexes in.
      	default_tablespace?: string
      
      	// Sets the tablespace(s) to use for temporary tables and sort files.
      	temp_tablespaces?: string
      
      	// Check function bodies during CREATE FUNCTION.
      	check_function_bodies?: string & "on" | "off"  
      
      	// Sets the transaction isolation level of each new transaction.
      	default_transaction_isolation?: string & "serializable" | "repeatable read" | "read committed" | "read uncommitted"
      	// Sets the default read-only status of new transactions.
      	default_transaction_read_only?: string & "on" | "off"  
      
      
      	// Sets the default deferrable status of new transactions.
      	default_transaction_deferrable?: string & "on" | "off"  
      
      
      	// Sets the sessions behavior for triggers and rewrite rules.
      	session_replication_role?: string & "origin" | "replica" | "local"
      
      	// (ms) Sets the maximum allowed duration of any statement.
      	statement_timeout?: int & >=0 & <=2147483647 @timeDurationResource()
      
      	vacuum_freeze_min_age?: int & >=0 & <=1000000000
      
      	vacuum_freeze_table_age?: int & >=0 & <=2000000000
      
      	bytea_output?: string & "escape" | "hex"
      
      	xmlbinary?: string & "base64" | "hex"
      
      	xmloption?: string & "content" | "document"
      
      	max_compile_functions?: int
      
      	gin_pending_list_limit?: int & >=64 & <=2147483647 @storeResource(1KB)
      
      	// Sets the display format for date and time values.
      	datestyle?: string
      	// Sets the display format for interval values.
      	intervalstyle?: string & "postgres" | "postgres_verbose" | "sql_standard" | "iso_8601"
      
      	// Sets the time zone for displaying and interpreting time stamps.
      	timezone?: string
      
      	timezone_abbreviations ?: string
      
      	// Sets the number of digits displayed for floating-point values.
      	extra_float_digits?: int & >=-15 & <=3
      
      	// Sets the clients character set encoding.
      	client_encoding?: string
      
      	// Sets the language in which messages are displayed.
      	lc_messages?: string
      	// Sets the locale for formatting monetary amounts.
      	lc_monetary?: string
      
      	// Sets the locale for formatting numbers.
      	lc_numeric?: string
      
      	// Sets the locale for formatting date and time values.
      	lc_time?: string
      
      	default_text_search_config?: string
      
      	dynamic_library_path?: string
      
      	local_preload_libraries?: string
      	// (ms) Sets the time to wait on a lock before checking for deadlock.
      	deadlock_timeout?: int & >=1 & <=2147483647 @timeDurationResource()
      
      	lockwait_timeout?: string @timeDurationResource(1s) // Max of lockwait_timeout and deadlock_timeout + 1s
      	// Sets the maximum number of locks per transaction.
      	max_locks_per_transaction: int & >=10 & <=2147483647 | *64
      
      	// Sets the maximum number of predicate locks per transaction.
      	max_pred_locks_per_transaction?: int & >=10 & <=2147483647
      	// Enable input of NULL elements in arrays.
      	array_nulls?: string & "on" | "off"
      
      	// Sets whether "\" is allowed in string literals.
      	backslash_quote?: string & "safe_encoding" | "on" | "off"
      
      	default_with_oids?: string & "on" | "off"
      
      	// Warn about backslash escapes in ordinary string literals.
      	escape_string_warning?: string & "on" | "off"  
      
      	// Enables backward compatibility mode for privilege checks on large objects.
      	lo_compat_privileges ?: string & "on" | "off"
      
      	// Causes ... strings to treat backslashes literally.
      	standard_conforming_strings?: string & "on" | "off"  
      
      	// Enable synchronized sequential scans.
      	synchronize_seqscans?: string & "on" | "off"  
      
      	// Treats expr=NULL as expr IS NULL.
      	transform_null_equals?: string & "on" | "off"  
      
      
      	// Terminate session on any error.
      	exit_on_error?: string & "on" | "off"  
      
      	// Reinitialize server after backend crash.
      	restart_after_crash?: string & "on" | "off"  
      
      	omit_encoding_error?: string & "on" | "off"  
      
      	data_sync_retry?: string & "on" | "off"  
      
      	cache_connection?: string & "on" | "off"  
      
      	pgxc_node_name?: string
      
      	enforce_two_phase_commit?: string & "on" | "off"  
      
      	audit_enabled?: string & "on" | "off"
      	audit_directory?: string
      	audit_data_format?: string
      	audit_rotation_interval?: string  @timeDurationResource(1d)
      	audit_rotation_size?: int  @storeResource(1MB)
      	audit_space_limit?: int  @storeResource(1MB)
      	audit_file_remain_threshold?: int & >=0 & <=2147483647
      	audit_login_logout?: int & >=0
      	audit_database_process?: int & >=0
      	audit_user_locked?: int & >=0
      	audit_user_violation?: int & >=0
      	audit_grant_revoke?: int & >=0
      	audit_system_object?: int & >=0
      	audit_dml_state?: int & >=0
      	audit_dml_state_select?: int & >=0
      	audit_function_exec?: int & >=0
      	audit_copy_exec?: int & >=0
      	audit_set_parameter?: int & >=0
      	audit_xid_info?: int & >=0
      	audit_thread_num?: int & >=0
      
      	enableSeparationOfDuty?: string & "on" | "off"
      
      	enable_fast_allocate?: string & "on" | "off"
      	prefetch_quantity?: int  @storeResource(1MB)
      	backwrite_quantity?: int  @storeResource(1MB)
      	cstore_prefetch_quantity?: int & >=0
      	cstore_backwrite_quantity?: int & >=0
      	cstore_backwrite_max_threshold?: int & >=0
      	fast_extend_file_size?: int & >=0
      
      	enable_codegen?: string & "on" | "off"
      	enable_codegen_print?: string & "on" | "off"
      	codegen_cost_threshold?: int
      
      
      	job_queue_processes?: int & >=0 & <=1000
      
      	enable_dcf?: string & "on" | "off"
      	plsql_show_all_error?: string & "on" | "off"
      
      	...
      }
      
      configuration: #PGParameter & {
      }
      

  ##  require db instance restart
  ## staticParameters
  staticParameters:
    - shared_buffers
    - logging_collector
    - log_destination
    - log_directory
    - log_filename
    - log_file_mode
    - log_rotation_age
    - log_truncate_on_rotation
    - ssl
    - ssl_ca_file
    - ssl_crl_file
    - ssl_cert_file
    - ssl_key_file
    - shared_preload_libraries

  ## define immutable parameter list, this feature is not currently supported.
  immutableParameters:
    - archive_timeout
    - data_directory
    - exit_on_error
    - fsync
    - full_page_writes
    - hba_file
    - ident_file
    - listen_addresses
    - lo_compat_privileges
    - log_directory
    - log_file_mode
    - logging_collector
    - log_line_prefix
    - log_timezone
    - log_truncate_on_rotation
    - port
    - restart_after_crash
    - ssl
    - ssl_ca_file
    - ssl_cert_file
    - ssl_ciphers
    - ssl_key_file
    - stats_temp_directory
    - unix_socket_group
    - unix_socket_permissions
    - update_process_title
    - wal_sync_method



    # configuration file format
  fileFormatConfig:
    format: properties
---
# Source: mogdb/templates/grafana/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMapList
items:
- apiVersion: v1
  kind: ConfigMap
  metadata:
    name: my-mogdb-grafana-mogdb
    labels:
      grafana_dashboard: "1"
      app: mogdb-grafana
      helm.sh/chart: mogdb-0.9.0
      app.kubernetes.io/name: mogdb
      app.kubernetes.io/instance: my-mogdb
      app.kubernetes.io/version: "5.0.5"
      app.kubernetes.io/managed-by: Helm
  data:
    mogdb.json: "{\n  \"annotations\": {\n    \"list\": [\n      {\n        \"builtIn\": 1,\n        \"datasource\": {\n          \"type\": \"datasource\",\n          \"uid\": \"Prometheus\"\n        },\n        \"enable\": true,\n        \"hide\": true,\n        \"iconColor\": \"rgba(0, 211, 255, 1)\",\n        \"name\": \"Annotations \u0026 Alerts\",\n        \"target\": {\n          \"limit\": 100,\n          \"matchAny\": false,\n          \"tags\": [],\n          \"type\": \"dashboard\"\n        },\n        \"type\": \"dashboard\"\n      }\n    ]\n  },\n  \"description\": \"This dashboard works with opengauss_exporter for prometheus\",\n  \"editable\": true,\n  \"fiscalYearStartMonth\": 0,\n  \"gnetId\": 9628,\n  \"graphTooltip\": 2,\n  \"id\": 1,\n  \"links\": [],\n  \"liveNow\": false,\n  \"panels\": [\n    {\n      \"collapsed\": true,\n      \"datasource\": {\n        \"uid\": \"$datasource\"\n      },\n      \"gridPos\": {\n        \"h\": 1,\n        \"w\": 24,\n        \"x\": 0,\n        \"y\": 0\n      },\n      \"id\": 151,\n      \"panels\": [],\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Resource Overview\",\n      \"type\": \"row\"\n    },\n    {\n      \"datasource\": {\n        \"uid\": \"$datasource\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"thresholds\"\n          },\n          \"custom\": {\n            \"align\": \"auto\",\n            \"displayMode\": \"auto\",\n            \"inspect\": false\n          },\n          \"mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              },\n              {\n                \"color\": \"red\",\n                \"value\": 80\n              }\n            ]\n          }\n        },\n        \"overrides\": [\n          {\n            \"matcher\": {\n              \"id\": \"byName\",\n              \"options\": \"hostname\"\n            },\n            \"properties\": [\n              {\n                \"id\": \"links\",\n                \"value\": [\n                  {\n                    \"title\": \"\",\n                    \"url\": \"/d/ZcrYb1T7z/mogdb?var-podname=${__data.fields.hostname}\"\n                  }\n                ]\n              }\n            ]\n          },\n          {\n            \"matcher\": {\n              \"id\": \"byName\",\n              \"options\": \"Value #B\"\n            },\n            \"properties\": [\n              {\n                \"id\": \"unit\",\n                \"value\": \"%\"\n              }\n            ]\n          },\n          {\n            \"matcher\": {\n              \"id\": \"byName\",\n              \"options\": \"Value #C\"\n            },\n            \"properties\": [\n              {\n                \"id\": \"unit\",\n                \"value\": \"decbytes\"\n              }\n            ]\n          },\n          {\n            \"matcher\": {\n              \"id\": \"byName\",\n              \"options\": \"Value #D\"\n            },\n            \"properties\": [\n              {\n                \"id\": \"unit\",\n                \"value\": \"s\"\n              }\n            ]\n          },\n          {\n            \"matcher\": {\n              \"id\": \"byName\",\n              \"options\": \"Value #E\"\n            },\n            \"properties\": [\n              {\n                \"id\": \"unit\",\n                \"value\": \"bytes\"\n              }\n            ]\n          },\n          {\n            \"matcher\": {\n              \"id\": \"byName\",\n              \"options\": \"Value #G\"\n            },\n            \"properties\": [\n              {\n                \"id\": \"unit\",\n                \"value\": \"%\"\n              }\n            ]\n          },\n          {\n            \"matcher\": {\n              \"id\": \"byName\",\n              \"options\": \"Value #H\"\n            },\n            \"properties\": [\n              {\n                \"id\": \"unit\",\n                \"value\": \"%\"\n              }\n            ]\n          },\n          {\n            \"matcher\": {\n              \"id\": \"byName\",\n              \"options\": \"Value #I\"\n            },\n            \"properties\": [\n              {\n                \"id\": \"unit\",\n                \"value\": \"%\"\n              }\n            ]\n          },\n          {\n            \"matcher\": {\n              \"id\": \"byName\",\n              \"options\": \"Value #J\"\n            },\n            \"properties\": [\n              {\n                \"id\": \"unit\",\n                \"value\": \"decbytes\"\n              }\n            ]\n          },\n          {\n            \"matcher\": {\n              \"id\": \"byName\",\n              \"options\": \"Value #K\"\n            },\n            \"properties\": [\n              {\n                \"id\": \"unit\",\n                \"value\": \"decbytes\"\n              }\n            ]\n          },\n          {\n            \"matcher\": {\n              \"id\": \"byName\",\n              \"options\": \"Value #L\"\n            },\n            \"properties\": [\n              {\n                \"id\": \"unit\",\n                \"value\": \"decbytes\"\n              }\n            ]\n          }\n        ]\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 24,\n        \"x\": 0,\n        \"y\": 1\n      },\n      \"id\": 153,\n      \"options\": {\n        \"footer\": {\n          \"fields\": \"\",\n          \"reducer\": [\n            \"sum\"\n          ],\n          \"show\": false\n        },\n        \"showHeader\": true,\n        \"sortBy\": []\n      },\n      \"pluginVersion\": \"9.1.6\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"exemplar\": false,\n          \"expr\": \"pg_up\",\n          \"format\": \"table\",\n          \"hide\": false,\n          \"instant\": true,\n          \"interval\": \"\",\n          \"legendFormat\": \"\",\n          \"refId\": \"A\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"editorMode\": \"code\",\n          \"exemplar\": false,\n          \"expr\": \"sum(irate(container_cpu_usage_seconds_total{container=\\\"mogdb\\\"}[1m])) without (cpu)\",\n          \"format\": \"table\",\n          \"hide\": false,\n          \"instant\": true,\n          \"interval\": \"\",\n          \"legendFormat\": \"\",\n          \"refId\": \"B\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"editorMode\": \"code\",\n          \"exemplar\": false,\n          \"expr\": \"container_memory_usage_bytes{container=\\\"mogdb\\\"}\",\n          \"format\": \"table\",\n          \"hide\": false,\n          \"instant\": true,\n          \"interval\": \"\",\n          \"legendFormat\": \"\",\n          \"refId\": \"C\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"exemplar\": false,\n          \"expr\": \"pg_run_times_run_time\",\n          \"format\": \"table\",\n          \"hide\": false,\n          \"instant\": true,\n          \"interval\": \"\",\n          \"legendFormat\": \"\",\n          \"refId\": \"D\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"exemplar\": false,\n          \"expr\": \"pg_settings_max_process_memory_bytes\",\n          \"format\": \"table\",\n          \"hide\": false,\n          \"instant\": true,\n          \"interval\": \"\",\n          \"legendFormat\": \"\",\n          \"refId\": \"E\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"exemplar\": false,\n          \"expr\": \"pg_settings_max_connections\",\n          \"format\": \"table\",\n          \"hide\": false,\n          \"instant\": true,\n          \"interval\": \"\",\n          \"legendFormat\": \"\",\n          \"refId\": \"F\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"exemplar\": false,\n          \"expr\": \"sum(irate(pg_stat_database_xact_commit{datname=~\\\"$datname\\\"}[5m])) by(kubernetes_pod_name) + sum(irate(pg_stat_database_xact_rollback{datname=~\\\"$datname\\\"}[5m])) by(kubernetes_pod_name)\",\n          \"format\": \"table\",\n          \"hide\": false,\n          \"instant\": true,\n          \"interval\": \"\",\n          \"legendFormat\": \"\",\n          \"refId\": \"G\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"exemplar\": false,\n          \"expr\": \"sum(pg_connections_used_conn{}) by(kubernetes_pod_name) / sum(pg_setting_max_connections{}) by(kubernetes_pod_name) * 100\",\n          \"format\": \"table\",\n          \"hide\": false,\n          \"instant\": true,\n          \"interval\": \"\",\n          \"legendFormat\": \"\",\n          \"refId\": \"H\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"exemplar\": false,\n          \"expr\": \"sum(og_memory_info_memorymbytes{memorytype=\\\"dynamic_used_memory\\\"}) by(kubernetes_pod_name) / sum(og_memory_info_memorymbytes{memorytype=\\\"max_dynamic_memory\\\"}) by(kubernetes_pod_name) * 100\",\n          \"format\": \"table\",\n          \"hide\": false,\n          \"instant\": true,\n          \"interval\": \"\",\n          \"legendFormat\": \"\",\n          \"refId\": \"I\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"exemplar\": false,\n          \"expr\": \"sum(pg_stat_database_tup_fetched{datname=~\\\"$datname\\\"}) by(kubernetes_pod_name)\",\n          \"format\": \"table\",\n          \"hide\": false,\n          \"instant\": true,\n          \"interval\": \"\",\n          \"legendFormat\": \"\",\n          \"refId\": \"J\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"exemplar\": false,\n          \"expr\": \"sum(pg_stat_database_tup_inserted{datname=~\\\"$datname\\\"}) by(kubernetes_pod_name)\",\n          \"format\": \"table\",\n          \"hide\": false,\n          \"instant\": true,\n          \"interval\": \"\",\n          \"legendFormat\": \"\",\n          \"refId\": \"K\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"exemplar\": false,\n          \"expr\": \"sum(pg_stat_database_tup_updated{datname=~\\\"$datname\\\"}) by(kubernetes_pod_name)\",\n          \"format\": \"table\",\n          \"hide\": false,\n          \"instant\": true,\n          \"interval\": \"\",\n          \"legendFormat\": \"\",\n          \"refId\": \"L\"\n        }\n      ],\n      \"title\": \"Host Overview【Total: $total】\",\n      \"transformations\": [\n        {\n          \"id\": \"renameByRegex\",\n          \"options\": {\n            \"regex\": \"kubernetes_pod_name\",\n            \"renamePattern\": \"pod\"\n          }\n        },\n        {\n          \"id\": \"seriesToColumns\",\n          \"options\": {\n            \"byField\": \"pod\"\n          }\n        },\n        {\n          \"id\": \"organize\",\n          \"options\": {\n            \"excludeByName\": {\n              \"Time 1\": true,\n              \"Time 10\": true,\n              \"Time 11\": true,\n              \"Time 12\": true,\n              \"Time 2\": true,\n              \"Time 3\": true,\n              \"Time 4\": true,\n              \"Time 5\": true,\n              \"Time 6\": true,\n              \"Time 7\": true,\n              \"Time 8\": true,\n              \"Time 9\": true,\n              \"Value #A\": true,\n              \"__name__ 1\": true,\n              \"__name__ 2\": true,\n              \"__name__ 3\": true,\n              \"__name__ 4\": true,\n              \"__name__ 5\": true,\n              \"beta_kubernetes_io_arch 1\": true,\n              \"beta_kubernetes_io_arch 2\": true,\n              \"beta_kubernetes_io_os 1\": true,\n              \"beta_kubernetes_io_os 2\": true,\n              \"container 1\": true,\n              \"container 2\": true,\n              \"id 1\": true,\n              \"id 2\": true,\n              \"image 1\": true,\n              \"image 2\": true,\n              \"instance 1\": true,\n              \"instance 2\": true,\n              \"instance 3\": true,\n              \"instance 4\": true,\n              \"instance 5\": true,\n              \"instance 6\": true,\n              \"job 1\": true,\n              \"job 2\": true,\n              \"job 3\": true,\n              \"job 4\": true,\n              \"job 5\": true,\n              \"job 6\": true,\n              \"kubernetes_io_arch 1\": true,\n              \"kubernetes_io_arch 2\": true,\n              \"kubernetes_io_hostname 1\": true,\n              \"kubernetes_io_hostname 2\": true,\n              \"kubernetes_io_os 1\": true,\n              \"kubernetes_io_os 2\": true,\n              \"kubernetes_namespace 1\": false,\n              \"kubernetes_namespace 2\": true,\n              \"kubernetes_namespace 3\": true,\n              \"kubernetes_namespace 4\": true,\n              \"mogdb_enmotech_io_cluster 1\": false,\n              \"mogdb_enmotech_io_cluster 2\": true,\n              \"mogdb_enmotech_io_cluster 3\": true,\n              \"mogdb_enmotech_io_cluster 4\": true,\n              \"mogdb_enmotech_io_name 1\": true,\n              \"mogdb_enmotech_io_name 2\": true,\n              \"mogdb_enmotech_io_name 3\": true,\n              \"mogdb_enmotech_io_name 4\": true,\n              \"mogdb_enmotech_io_port 1\": true,\n              \"mogdb_enmotech_io_port 2\": true,\n              \"mogdb_enmotech_io_port 3\": true,\n              \"mogdb_enmotech_io_port 4\": true,\n              \"mogdb_enmotech_io_role 1\": false,\n              \"mogdb_enmotech_io_role 2\": true,\n              \"mogdb_enmotech_io_role 3\": true,\n              \"mogdb_enmotech_io_role 4\": true,\n              \"name 1\": true,\n              \"name 2\": true,\n              \"namespace 1\": true,\n              \"namespace 2\": true,\n              \"og_enmotech_io_cluster 1\": true,\n              \"og_enmotech_io_cluster 2\": true,\n              \"og_enmotech_io_cluster 3\": true,\n              \"og_enmotech_io_cluster 4\": true,\n              \"og_enmotech_io_name 1\": true,\n              \"og_enmotech_io_name 2\": true,\n              \"og_enmotech_io_name 3\": true,\n              \"og_enmotech_io_name 4\": true,\n              \"og_enmotech_io_og_role 2\": true,\n              \"og_enmotech_io_og_role 3\": true,\n              \"og_enmotech_io_og_role 4\": true,\n              \"run_name\": true,\n              \"server 1\": true,\n              \"server 2\": true,\n              \"server 3\": true,\n              \"server 4\": true\n            },\n            \"indexByName\": {},\n            \"renameByName\": {\n              \"Time 1\": \"\",\n              \"Time 3\": \"\",\n              \"Time 7\": \"\",\n              \"Time 8\": \"\",\n              \"Value #A\": \"\",\n              \"Value #B\": \"CPU %\",\n              \"Value #C\": \"MEM USAGE\",\n              \"Value #D\": \"DB Runtimes\",\n              \"Value #E\": \"Max Process Memory\",\n              \"Value #F\": \"Max Connections\",\n              \"Value #G\": \"TPS\",\n              \"Value #H\": \"Connections\",\n              \"Value #I\": \"Dynamic Memory\",\n              \"Value #J\": \"Current fetch data\",\n              \"Value #K\": \"Current insert data\",\n              \"Value #L\": \"Current fetch data\",\n              \"kubernetes_namespace 1\": \"Namespace\",\n              \"mogdb_enmotech_io_cluster 1\": \"Cluster Name\",\n              \"mogdb_enmotech_io_name 1\": \"\",\n              \"mogdb_enmotech_io_port 1\": \"\",\n              \"mogdb_enmotech_io_role 1\": \"Role\",\n              \"namespace 2\": \"\",\n              \"og_enmotech_io_og_role 1\": \"role\",\n              \"pod\": \"hostname\"\n            }\n          }\n        }\n      ],\n      \"type\": \"table\"\n    },\n    {\n      \"collapsed\": true,\n      \"datasource\": {\n        \"uid\": \"$datasource\"\n      },\n      \"gridPos\": {\n        \"h\": 1,\n        \"w\": 24,\n        \"x\": 0,\n        \"y\": 9\n      },\n      \"id\": 88,\n      \"panels\": [\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"mappings\": [],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              }\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 2,\n            \"w\": 4,\n            \"x\": 0,\n            \"y\": 1\n          },\n          \"id\": 99,\n          \"options\": {\n            \"colorMode\": \"value\",\n            \"graphMode\": \"none\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"auto\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"text\": {},\n            \"textMode\": \"name\"\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_up{pod=~\\\"$podname\\\"}\",\n              \"interval\": \"\",\n              \"legendFormat\": \"{{server}}\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"Instance\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"thresholds\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"none\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 2,\n            \"w\": 4,\n            \"x\": 4,\n            \"y\": 1\n          },\n          \"id\": 36,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"value\",\n            \"graphMode\": \"none\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"mean\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"text\": {},\n            \"textMode\": \"name\"\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_version{pod=~\\\"$podname\\\"}\",\n              \"format\": \"time_series\",\n              \"instant\": true,\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"{{short_version}}\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"Version\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"thresholds\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"1\": {\n                      \"index\": 0,\n                      \"text\": \"primary\"\n                    }\n                  },\n                  \"type\": \"value\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  }\n                ]\n              },\n              \"unit\": \"s\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 2,\n            \"w\": 4,\n            \"x\": 8,\n            \"y\": 1\n          },\n          \"id\": 95,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"value\",\n            \"graphMode\": \"none\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"text\": {},\n            \"textMode\": \"value\"\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_run_times_run_time{pod=~\\\"$podname\\\"}\",\n              \"format\": \"time_series\",\n              \"instant\": true,\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"DB Runtimes\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"1\": {\n                      \"text\": \"Up\"\n                    },\n                    \"O\": {\n                      \"text\": \"Down\"\n                    }\n                  },\n                  \"type\": \"value\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              }\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 2,\n            \"w\": 4,\n            \"x\": 12,\n            \"y\": 1\n          },\n          \"id\": 94,\n          \"options\": {\n            \"colorMode\": \"value\",\n            \"graphMode\": \"none\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"text\": {},\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_exporter_up{pod=~\\\"$podname\\\"}\",\n              \"interval\": \"\",\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"Exporter\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"thresholds\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"1\": {\n                      \"index\": 0,\n                      \"text\": \"primary\"\n                    }\n                  },\n                  \"type\": \"value\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  }\n                ]\n              },\n              \"unit\": \"s\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 2,\n            \"w\": 4,\n            \"x\": 16,\n            \"y\": 1\n          },\n          \"id\": 109,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"value\",\n            \"graphMode\": \"none\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"text\": {},\n            \"textMode\": \"value\"\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": false,\n              \"expr\": \"pg_exporter_uptime{instance=~\\\"$instance\\\"}\",\n              \"format\": \"time_series\",\n              \"instant\": true,\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"Exporter Runtimes\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"thresholds\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"0\": {\n                      \"index\": 1,\n                      \"text\": \"standby\"\n                    },\n                    \"1\": {\n                      \"index\": 0,\n                      \"text\": \"primary\"\n                    }\n                  },\n                  \"type\": \"value\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"none\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 2,\n            \"w\": 4,\n            \"x\": 20,\n            \"y\": 1\n          },\n          \"id\": 92,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"value\",\n            \"graphMode\": \"none\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"mean\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"text\": {},\n            \"textMode\": \"value\"\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_run_times_db_role{pod=~\\\"$podname\\\"}\",\n              \"format\": \"time_series\",\n              \"instant\": true,\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"Role\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"0\": {\n                      \"text\": \"None\"\n                    }\n                  },\n                  \"type\": \"value\"\n                },\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"Ø\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"rgb(187, 187, 187)\"\n                  },\n                  {\n                    \"color\": \"green\",\n                    \"value\": 0\n                  }\n                ]\n              },\n              \"unit\": \"decbytes\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 2,\n            \"w\": 4,\n            \"x\": 0,\n            \"y\": 3\n          },\n          \"id\": 108,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"value\",\n            \"graphMode\": \"none\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"text\": {},\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"sum(pg_database_size_bytes{pod=~\\\"$podname\\\"})\",\n              \"format\": \"table\",\n              \"instant\": true,\n              \"interval\": \"\",\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"Cluster Size\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"description\": \"当前事务数,统计提交和回滚xact_commit+xact_rollback\",\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"rgb(31, 120, 193)\",\n                \"mode\": \"fixed\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"none\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 16,\n            \"x\": 4,\n            \"y\": 3\n          },\n          \"id\": 97,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"area\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"mean\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"text\": {},\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"expr\": \"sum(irate(pg_stat_database_xact_commit{datname=~\\\"$datname\\\", pod=~\\\"$podname\\\"}[5m])) + sum(irate(pg_stat_database_xact_rollback{datname=~\\\"$datname\\\", pod=~\\\"$podname\\\"}[5m]))\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 2,\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"TPS\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"color\": \"green\",\n                      \"index\": 0,\n                      \"text\": \"0\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              }\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 2,\n            \"w\": 4,\n            \"x\": 20,\n            \"y\": 3\n          },\n          \"id\": 101,\n          \"options\": {\n            \"colorMode\": \"value\",\n            \"graphMode\": \"none\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"text\": {},\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"sum(pg_downstream_count{pod=~\\\"$podname\\\", state=\\\"Streaming\\\"})\",\n              \"instant\": true,\n              \"interval\": \"\",\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"Downstreams\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"green\",\n                \"mode\": \"thresholds\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  }\n                ]\n              },\n              \"unit\": \"bytes\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 2,\n            \"w\": 4,\n            \"x\": 0,\n            \"y\": 5\n          },\n          \"id\": 102,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"value\",\n            \"graphMode\": \"none\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"text\": {},\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_settings_max_process_memory_bytes{pod=~\\\"$podname\\\"}\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"Max Process Memory\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"thresholds\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  }\n                ]\n              },\n              \"unit\": \"bytes\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 2,\n            \"w\": 4,\n            \"x\": 20,\n            \"y\": 5\n          },\n          \"id\": 40,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"value\",\n            \"graphMode\": \"none\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"text\": {},\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_settings_shared_buffers_bytes{pod=~\\\"$podname\\\"}\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"Shared Buffers\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"thresholds\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  }\n                ]\n              },\n              \"unit\": \"none\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 2,\n            \"w\": 4,\n            \"x\": 0,\n            \"y\": 7\n          },\n          \"id\": 106,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"value\",\n            \"graphMode\": \"none\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"text\": {},\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_settings_max_connections{pod=~\\\"$podname\\\"}\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"Max Connections\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"thresholds\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  }\n                ]\n              },\n              \"unit\": \"bytes\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 2,\n            \"w\": 4,\n            \"x\": 20,\n            \"y\": 7\n          },\n          \"id\": 103,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"value\",\n            \"graphMode\": \"none\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"text\": {},\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_settings_work_mem_bytes{pod=~\\\"$podname\\\"}\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"Work Mem\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"description\": \"\",\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"thresholds\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"max\": 100,\n              \"min\": 0,\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"rgba(50, 172, 45, 0.97)\"\n                  },\n                  {\n                    \"color\": \"rgba(237, 129, 40, 0.89)\",\n                    \"value\": 50\n                  },\n                  {\n                    \"color\": \"rgba(245, 54, 54, 0.9)\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"percent\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 4,\n            \"w\": 6,\n            \"x\": 0,\n            \"y\": 9\n          },\n          \"id\": 136,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"showThresholdLabels\": false,\n            \"showThresholdMarkers\": true,\n            \"text\": {}\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\":{\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"sum(pg_connections_used_conn{pod=~\\\"$podname\\\"}) / sum(pg_setting_max_connections{pod=~\\\"$podname\\\"}) * 100\",\n              \"hide\": false,\n              \"interval\": \"\",\n              \"legendFormat\": \"\",\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"Connections\",\n          \"type\": \"gauge\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"description\": \"\",\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"thresholds\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"max\": 100,\n              \"min\": 0,\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"rgba(50, 172, 45, 0.97)\"\n                  },\n                  {\n                    \"color\": \"rgba(237, 129, 40, 0.89)\",\n                    \"value\": 50\n                  },\n                  {\n                    \"color\": \"rgba(245, 54, 54, 0.9)\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"percent\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 4,\n            \"w\": 6,\n            \"x\": 6,\n            \"y\": 9\n          },\n          \"id\": 141,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"showThresholdLabels\": false,\n            \"showThresholdMarkers\": true,\n            \"text\": {}\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"sum(og_memory_info_memorymbytes{memorytype=\\\"process_used_memory\\\",pod=~\\\"$podname\\\"}) / sum(og_memory_info_memorymbytes{memorytype=\\\"max_process_memory\\\",pod=~\\\"$podname\\\"}) * 100\",\n              \"hide\": false,\n              \"interval\": \"\",\n              \"legendFormat\": \"\",\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"Total Memory\",\n          \"type\": \"gauge\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"description\": \"\",\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"thresholds\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"max\": 100,\n              \"min\": 0,\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"rgba(50, 172, 45, 0.97)\"\n                  },\n                  {\n                    \"color\": \"rgba(237, 129, 40, 0.89)\",\n                    \"value\": 50\n                  },\n                  {\n                    \"color\": \"rgba(245, 54, 54, 0.9)\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"percent\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 4,\n            \"w\": 6,\n            \"x\": 12,\n            \"y\": 9\n          },\n          \"id\": 137,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"showThresholdLabels\": false,\n            \"showThresholdMarkers\": true,\n            \"text\": {}\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"sum(og_memory_info_memorymbytes{memorytype=\\\"dynamic_used_memory\\\",pod=~\\\"$podname\\\"}) / sum(og_memory_info_memorymbytes{memorytype=\\\"max_dynamic_memory\\\",pod=~\\\"$podname\\\"}) * 100\",\n              \"hide\": false,\n              \"interval\": \"\",\n              \"legendFormat\": \"\",\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"Dynamic Memory\",\n          \"type\": \"gauge\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"description\": \"\",\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"thresholds\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"max\": 100,\n              \"min\": 0,\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"rgba(50, 172, 45, 0.97)\"\n                  },\n                  {\n                    \"color\": \"rgba(237, 129, 40, 0.89)\",\n                    \"value\": 50\n                  },\n                  {\n                    \"color\": \"rgba(245, 54, 54, 0.9)\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"percent\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 4,\n            \"w\": 6,\n            \"x\": 18,\n            \"y\": 9\n          },\n          \"id\": 139,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"showThresholdLabels\": false,\n            \"showThresholdMarkers\": true,\n            \"text\": {}\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"count(pg_replication_slots_active{pod=~\\\"$podname\\\"}) / sum(pg_setting_max_replication_slots{pod=~\\\"$podname\\\"}) * 100\",\n              \"hide\": false,\n              \"interval\": \"\",\n              \"legendFormat\": \"\",\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"Slot Rate\",\n          \"type\": \"gauge\"\n        }\n      ],\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"General Information【$podname】\",\n      \"type\": \"row\"\n    },\n    {\n      \"collapsed\": true,\n      \"datasource\": {\n        \"uid\": \"$datasource\"\n      },\n      \"gridPos\": {\n        \"h\": 1,\n        \"w\": 24,\n        \"x\": 0,\n        \"y\": 10\n      },\n      \"id\": 86,\n      \"panels\": [\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"links\": []\n            },\n            \"overrides\": []\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 7,\n            \"w\": 8,\n            \"x\": 0,\n            \"y\": 14\n          },\n          \"hiddenSeries\": false,\n          \"id\": 146,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": true,\n            \"max\": true,\n            \"min\": false,\n            \"rightSide\": false,\n            \"show\": true,\n            \"sort\": \"current\",\n            \"sortDesc\": true,\n            \"total\": false,\n            \"values\": true\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"connected\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"8.3.3\",\n          \"pointradius\": 3,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"og_memory_info_memorymbytes{memorytype=~\\\"max_process_memory|process_used_memory|shared_used_memory|dynamic_used_memory\\\",pod=~\\\"$podname\\\"}\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"{{memorytype}}\",\n              \"refId\": \"A\",\n              \"step\": 2\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Memory Used\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"$$hashKey\": \"object:165\",\n              \"decimals\": 0,\n              \"format\": \"mbytes\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"$$hashKey\": \"object:166\",\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"palette-classic\"\n              },\n              \"custom\": {\n                \"hideFrom\": {\n                  \"legend\": false,\n                  \"tooltip\": false,\n                  \"viz\": false\n                }\n              },\n              \"links\": [],\n              \"mappings\": []\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 7,\n            \"w\": 8,\n            \"x\": 8,\n            \"y\": 14\n          },\n          \"id\": 115,\n          \"links\": [],\n          \"options\": {\n            \"displayLabels\": [],\n            \"legend\": {\n              \"displayMode\": \"table\",\n              \"placement\": \"right\",\n              \"showLegend\": true,\n              \"values\": [\n                \"percent\"\n              ]\n            },\n            \"pieType\": \"pie\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"tooltip\": {\n              \"mode\": \"single\"\n            }\n          },\n          \"pluginVersion\": \"8.2.4\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"og_memory_info_memorymbytes{memorytype=~\\\"backend_used_memory|cstore_used_memory|dynamic_used_memory|dynamic_used_shrctx|gpu_dynamic_used_memory|other_used_memory|pooler_conn_memory|pooler_freeconn_memory|sctpcomm_used_memory|shared_used_memory\\\",pod=~\\\"$podname\\\"}\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"{{memorytype}}\",\n              \"refId\": \"A\",\n              \"step\": 2\n            }\n          ],\n          \"title\": \"Memory Used Rate\",\n          \"type\": \"piechart\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"palette-classic\"\n              },\n              \"custom\": {\n                \"hideFrom\": {\n                  \"legend\": false,\n                  \"tooltip\": false,\n                  \"viz\": false\n                }\n              },\n              \"links\": [],\n              \"mappings\": []\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 7,\n            \"w\": 8,\n            \"x\": 16,\n            \"y\": 14\n          },\n          \"id\": 147,\n          \"links\": [],\n          \"options\": {\n            \"displayLabels\": [],\n            \"legend\": {\n              \"displayMode\": \"table\",\n              \"placement\": \"right\",\n              \"showLegend\": true,\n              \"values\": [\n                \"percent\"\n              ]\n            },\n            \"pieType\": \"pie\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"tooltip\": {\n              \"mode\": \"single\"\n            }\n          },\n          \"pluginVersion\": \"8.2.4\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"og_memory_info_memorymbytes{memorytype=~\\\"dynamic_peak_memory|dynamic_peak_shrctx|gpu_dynamic_peak_memory|sctpcomm_peak_memory\\\",pod=~\\\"$podname\\\"}\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"{{memorytype}}\",\n              \"refId\": \"A\",\n              \"step\": 2\n            }\n          ],\n          \"title\": \"Memory Peak Rate\",\n          \"type\": \"piechart\"\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\":{\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"links\": [],\n              \"unit\": \"decbytes\"\n            },\n            \"overrides\": []\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 7,\n            \"w\": 12,\n            \"x\": 0,\n            \"y\": 21\n          },\n          \"hiddenSeries\": false,\n          \"id\": 113,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": true,\n            \"max\": true,\n            \"min\": false,\n            \"rightSide\": false,\n            \"show\": true,\n            \"sort\": \"current\",\n            \"sortDesc\": true,\n            \"total\": false,\n            \"values\": true\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"connected\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"8.3.3\",\n          \"pointradius\": 3,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\":{\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"og_state_memory_totalsize{pod=~\\\"$podname\\\"}\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"{{state}}_totalsize\",\n              \"refId\": \"A\",\n              \"step\": 2\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Session State Memory\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"$$hashKey\": \"object:165\",\n              \"decimals\": 0,\n              \"format\": \"decbytes\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"$$hashKey\": \"object:166\",\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"links\": [],\n              \"unit\": \"decbytes\"\n            },\n            \"overrides\": []\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 7,\n            \"w\": 12,\n            \"x\": 12,\n            \"y\": 21\n          },\n          \"hiddenSeries\": false,\n          \"id\": 112,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": true,\n            \"max\": true,\n            \"min\": false,\n            \"rightSide\": false,\n            \"show\": true,\n            \"sort\": \"current\",\n            \"sortDesc\": true,\n            \"total\": false,\n            \"values\": true\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"connected\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"8.3.3\",\n          \"pointradius\": 3,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"og_context_memory_totalsize{pod=~\\\"$podname\\\"}\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"{{contextname}}_totalsize\",\n              \"refId\": \"A\",\n              \"step\": 2\n            },\n            {\n              \"datasource\":{\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"og_context_memory_usedsize{pod=~\\\"$podname\\\"}\",\n              \"hide\": false,\n              \"interval\": \"\",\n              \"legendFormat\": \"{{contextname}}_usedsize\",\n              \"refId\": \"B\"\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Context Memory\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"$$hashKey\": \"object:165\",\n              \"decimals\": 0,\n              \"format\": \"decbytes\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"$$hashKey\": \"object:166\",\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"description\": \"\",\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"thresholds\"\n              },\n              \"custom\": {\n                \"align\": \"auto\",\n                \"displayMode\": \"auto\",\n                \"filterable\": false,\n                \"minWidth\": 256\n              },\n              \"mappings\": [],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              }\n            },\n            \"overrides\": [\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"client_addr\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 128\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"sessionid\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 150\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"application_name\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 200\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"Value\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"unit\",\n                    \"value\": \"decbytes\"\n                  },\n                  {\n                    \"id\": \"noValue\",\n                    \"value\": \"0\"\n                  },\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 128\n                  }\n                ]\n              }\n            ]\n          },\n          \"gridPos\": {\n            \"h\": 8,\n            \"w\": 24,\n            \"x\": 0,\n            \"y\": 28\n          },\n          \"id\": 111,\n          \"options\": {\n            \"footer\": {\n              \"fields\": \"\",\n              \"reducer\": [\n                \"sum\"\n              ],\n              \"show\": false\n            },\n            \"showHeader\": true,\n            \"sortBy\": [\n              {\n                \"desc\": true,\n                \"displayName\": \"Value\"\n              }\n            ]\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"og_session_memory_totalsize{pod=~\\\"$podname\\\"}\",\n              \"format\": \"table\",\n              \"instant\": true,\n              \"interval\": \"\",\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"Session Memory Totalsize\",\n          \"transformations\": [\n            {\n              \"id\": \"organize\",\n              \"options\": {\n                \"excludeByName\": {\n                  \"Time\": true,\n                  \"Value\": false,\n                  \"__name__\": true,\n                  \"instance\": true,\n                  \"job\": true,\n                  \"server\": true\n                },\n                \"indexByName\": {\n                  \"Time\": 0,\n                  \"Value\": 8,\n                  \"__name__\": 1,\n                  \"application_name\": 6,\n                  \"client_addr\": 2,\n                  \"instance\": 3,\n                  \"job\": 4,\n                  \"query\": 9,\n                  \"server\": 5,\n                  \"sessionid\": 7\n                },\n                \"renameByName\": {\n                  \"Value\": \"\"\n                }\n              }\n            }\n          ],\n          \"type\": \"table\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"description\": \"\",\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"thresholds\"\n              },\n              \"custom\": {\n                \"align\": \"auto\",\n                \"displayMode\": \"auto\",\n                \"filterable\": false,\n                \"minWidth\": 256\n              },\n              \"mappings\": [],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              }\n            },\n            \"overrides\": [\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"client_addr\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 128\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"sessionid\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 150\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"application_name\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 200\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"Value\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"unit\",\n                    \"value\": \"decbytes\"\n                  },\n                  {\n                    \"id\": \"noValue\",\n                    \"value\": \"0\"\n                  },\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 128\n                  }\n                ]\n              }\n            ]\n          },\n          \"gridPos\": {\n            \"h\": 8,\n            \"w\": 24,\n            \"x\": 0,\n            \"y\": 36\n          },\n          \"id\": 131,\n          \"options\": {\n            \"footer\": {\n              \"fields\": \"\",\n              \"reducer\": [\n                \"sum\"\n              ],\n              \"show\": false\n            },\n            \"showHeader\": true,\n            \"sortBy\": [\n              {\n                \"desc\": true,\n                \"displayName\": \"Value\"\n              }\n            ]\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"og_session_memory_usedsize{pod=~\\\"$podname\\\"}\",\n              \"format\": \"table\",\n              \"instant\": true,\n              \"interval\": \"\",\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"Session Memory Usedsize\",\n          \"transformations\": [\n            {\n              \"id\": \"organize\",\n              \"options\": {\n                \"excludeByName\": {\n                  \"Time\": true,\n                  \"Value\": false,\n                  \"__name__\": true,\n                  \"instance\": true,\n                  \"job\": true,\n                  \"server\": true\n                },\n                \"indexByName\": {\n                  \"Time\": 0,\n                  \"Value\": 8,\n                  \"__name__\": 1,\n                  \"application_name\": 6,\n                  \"client_addr\": 2,\n                  \"instance\": 3,\n                  \"job\": 4,\n                  \"query\": 9,\n                  \"server\": 5,\n                  \"sessionid\": 7\n                },\n                \"renameByName\": {\n                  \"Value\": \"\"\n                }\n              }\n            }\n          ],\n          \"type\": \"table\"\n        }\n      ],\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Memory【$podname】\",\n      \"type\": \"row\"\n    },\n    {\n      \"collapsed\": true,\n      \"datasource\": {\n        \"uid\": \"$datasource\"\n      },\n      \"gridPos\": {\n        \"h\": 1,\n        \"w\": 24,\n        \"x\": 0,\n        \"y\": 11\n      },\n      \"id\": 84,\n      \"panels\": [\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"links\": [],\n              \"unit\": \"none\"\n            },\n            \"overrides\": []\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 7,\n            \"w\": 12,\n            \"x\": 0,\n            \"y\": 15\n          },\n          \"hiddenSeries\": false,\n          \"id\": 1,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": true,\n            \"max\": true,\n            \"min\": false,\n            \"rightSide\": false,\n            \"show\": true,\n            \"sort\": \"current\",\n            \"sortDesc\": true,\n            \"total\": false,\n            \"values\": true\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"connected\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"8.3.3\",\n          \"pointradius\": 3,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_connections_max_conn{pod=~\\\"$podname\\\"}\",\n              \"hide\": false,\n              \"interval\": \"\",\n              \"legendFormat\": \"max_connections\",\n              \"refId\": \"B\"\n            },\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_connections_used_conn{pod=~\\\"$podname\\\"}\",\n              \"hide\": false,\n              \"interval\": \"\",\n              \"legendFormat\": \"used_connections\",\n              \"refId\": \"C\"\n            },\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_connections_res_for_normal{pod=~\\\"$podname\\\"}\",\n              \"hide\": false,\n              \"interval\": \"\",\n              \"legendFormat\": \"free_connections\",\n              \"refId\": \"D\"\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"connections\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"$$hashKey\": \"object:165\",\n              \"decimals\": 0,\n              \"format\": \"none\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"$$hashKey\": \"object:166\",\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"links\": [],\n              \"unit\": \"none\"\n            },\n            \"overrides\": []\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 7,\n            \"w\": 12,\n            \"x\": 12,\n            \"y\": 15\n          },\n          \"hiddenSeries\": false,\n          \"id\": 116,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": true,\n            \"max\": true,\n            \"min\": false,\n            \"rightSide\": false,\n            \"show\": true,\n            \"sort\": \"current\",\n            \"sortDesc\": true,\n            \"total\": false,\n            \"values\": true\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"connected\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"8.3.3\",\n          \"pointradius\": 3,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_stat_activity_count{datname=~\\\"$datname\\\", pod=~\\\"$podname\\\",state=~\\\"active\\\"}\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"{{datname}}\",\n              \"refId\": \"A\",\n              \"step\": 2\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Active\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"$$hashKey\": \"object:165\",\n              \"decimals\": 0,\n              \"format\": \"none\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"$$hashKey\": \"object:166\",\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"links\": []\n            },\n            \"overrides\": []\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 7,\n            \"w\": 12,\n            \"x\": 0,\n            \"y\": 22\n          },\n          \"hiddenSeries\": false,\n          \"id\": 4,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": false,\n            \"current\": true,\n            \"max\": true,\n            \"min\": false,\n            \"rightSide\": false,\n            \"show\": true,\n            \"sort\": \"current\",\n            \"sortDesc\": false,\n            \"total\": false,\n            \"values\": true\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"null\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"8.3.3\",\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_stat_activity_count{datname=~\\\"$datname\\\", pod=~\\\"$podname\\\", state=~\\\"idle in transaction|idle in transaction (aborted)\\\"}\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 2,\n              \"legendFormat\": \"{{datname}}\",\n              \"refId\": \"A\",\n              \"step\": 2\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Idle in transaction\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"$$hashKey\": \"object:262\",\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"min\": \"0\",\n              \"show\": true\n            },\n            {\n              \"$$hashKey\": \"object:263\",\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"links\": []\n            },\n            \"overrides\": []\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 7,\n            \"w\": 12,\n            \"x\": 12,\n            \"y\": 22\n          },\n          \"hiddenSeries\": false,\n          \"id\": 117,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": false,\n            \"current\": true,\n            \"max\": true,\n            \"min\": false,\n            \"rightSide\": false,\n            \"show\": true,\n            \"sort\": \"current\",\n            \"sortDesc\": false,\n            \"total\": false,\n            \"values\": true\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"null\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"8.3.3\",\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_stat_activity_count{datname=~\\\"$datname\\\",pod=~\\\"$podname\\\", state=~\\\"idle\\\"}\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 2,\n              \"legendFormat\": \"{{datname}}\",\n              \"refId\": \"A\",\n              \"step\": 2\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Idle\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"$$hashKey\": \"object:262\",\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"min\": \"0\",\n              \"show\": true\n            },\n            {\n              \"$$hashKey\": \"object:263\",\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"palette-classic\"\n              },\n              \"custom\": {\n                \"hideFrom\": {\n                  \"legend\": false,\n                  \"tooltip\": false,\n                  \"viz\": false\n                }\n              },\n              \"links\": [],\n              \"mappings\": [],\n              \"unit\": \"none\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 7,\n            \"w\": 12,\n            \"x\": 0,\n            \"y\": 29\n          },\n          \"id\": 148,\n          \"links\": [],\n          \"options\": {\n            \"legend\": {\n              \"displayMode\": \"table\",\n              \"placement\": \"right\",\n              \"showLegend\": true,\n              \"values\": [\n                \"percent\",\n                \"value\"\n              ]\n            },\n            \"pieType\": \"pie\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"tooltip\": {\n              \"mode\": \"single\"\n            }\n          },\n          \"pluginVersion\": \"8.2.4\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_stat_activity_count{datname=~\\\"$datname\\\", pod=~\\\"$podname\\\"}\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"{{datname}}_{{state}}\",\n              \"refId\": \"A\",\n              \"step\": 2\n            }\n          ],\n          \"title\": \"Session State Rate\",\n          \"type\": \"piechart\"\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"links\": []\n            },\n            \"overrides\": []\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 7,\n            \"w\": 12,\n            \"x\": 12,\n            \"y\": 29\n          },\n          \"hiddenSeries\": false,\n          \"id\": 91,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": false,\n            \"current\": true,\n            \"max\": true,\n            \"min\": false,\n            \"rightSide\": false,\n            \"show\": true,\n            \"sort\": \"current\",\n            \"sortDesc\": true,\n            \"total\": false,\n            \"values\": true\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"null\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"8.3.3\",\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"sum(pg_session_connection_count{pod=~\\\"$podname\\\"})by(client_addr)\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 2,\n              \"legendFormat\": \"{{client_addr}}\",\n              \"refId\": \"A\",\n              \"step\": 2\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"sessions_count\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"$$hashKey\": \"object:262\",\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"min\": \"0\",\n              \"show\": true\n            },\n            {\n              \"$$hashKey\": \"object:263\",\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        }\n      ],\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Connections【$podname】\",\n      \"type\": \"row\"\n    },\n    {\n      \"collapsed\": true,\n      \"datasource\": {\n        \"uid\": \"$datasource\"\n      },\n      \"gridPos\": {\n        \"h\": 1,\n        \"w\": 24,\n        \"x\": 0,\n        \"y\": 12\n      },\n      \"id\": 82,\n      \"panels\": [\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"thresholds\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"none\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 2,\n            \"w\": 4,\n            \"x\": 0,\n            \"y\": 4\n          },\n          \"id\": 38,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"none\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"mean\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"text\": {},\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_settings_max_replication_slots{pod=~\\\"$podname\\\"}\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"Max Slots\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"description\": \"\",\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"custom\": {\n                \"align\": \"auto\",\n                \"displayMode\": \"auto\",\n                \"filterable\": false\n              },\n              \"mappings\": [],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              }\n            },\n            \"overrides\": [\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"state\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 128\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"client_addr\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 142\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"application_name\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 256\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"Time\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 150\n                  }\n                ]\n              }\n            ]\n          },\n          \"gridPos\": {\n            \"h\": 7,\n            \"w\": 13,\n            \"x\": 4,\n            \"y\": 4\n          },\n          \"id\": 118,\n          \"options\": {\n            \"footer\": {\n              \"fields\": \"\",\n              \"reducer\": [\n                \"sum\"\n              ],\n              \"show\": false\n            },\n            \"showHeader\": true,\n            \"sortBy\": []\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_replication_backend_uptime{pod=~\\\"$podname\\\"}\",\n              \"format\": \"table\",\n              \"instant\": true,\n              \"interval\": \"\",\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"Replication Informations\",\n          \"transformations\": [\n            {\n              \"id\": \"organize\",\n              \"options\": {\n                \"excludeByName\": {\n                  \"Time\": false,\n                  \"Value\": true,\n                  \"__name__\": true,\n                  \"instance\": true,\n                  \"job\": true,\n                  \"pid\": true,\n                  \"server\": true\n                },\n                \"indexByName\": {\n                  \"Time\": 0,\n                  \"Value\": 7,\n                  \"__name__\": 1,\n                  \"application_name\": 8,\n                  \"client_addr\": 2,\n                  \"instance\": 3,\n                  \"job\": 4,\n                  \"pid\": 5,\n                  \"server\": 6,\n                  \"state\": 9,\n                  \"sync_state\": 10\n                },\n                \"renameByName\": {}\n              }\n            }\n          ],\n          \"type\": \"table\"\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"links\": []\n            },\n            \"overrides\": []\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 7,\n            \"w\": 7,\n            \"x\": 17,\n            \"y\": 4\n          },\n          \"hiddenSeries\": false,\n          \"id\": 125,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": true,\n            \"max\": true,\n            \"min\": false,\n            \"rightSide\": false,\n            \"show\": true,\n            \"sort\": \"current\",\n            \"sortDesc\": true,\n            \"total\": false,\n            \"values\": true\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"connected\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"8.3.3\",\n          \"pointradius\": 3,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_replication_replay_diff{pod=~\\\"$podname\\\"}\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"{{instance}}_replay_diff\",\n              \"refId\": \"A\",\n              \"step\": 2\n            },\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_replication_write_diff{pod=~\\\"$podname\\\"}\",\n              \"hide\": false,\n              \"interval\": \"\",\n              \"legendFormat\": \"{{instance}}_write_diff\",\n              \"refId\": \"B\"\n            },\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_replication_flush_diff{pod=~\\\"$podname\\\"}\",\n              \"hide\": false,\n              \"interval\": \"\",\n              \"legendFormat\": \"{{instance}}_flush_diff\",\n              \"refId\": \"C\"\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Replication Delay\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"$$hashKey\": \"object:165\",\n              \"decimals\": 0,\n              \"format\": \"decbytes\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"$$hashKey\": \"object:166\",\n              \"format\": \"decbytes\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"description\": \"\",\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"thresholds\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"max\": 100,\n              \"min\": 0,\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"rgba(50, 172, 45, 0.97)\"\n                  },\n                  {\n                    \"color\": \"rgba(237, 129, 40, 0.89)\",\n                    \"value\": 50\n                  },\n                  {\n                    \"color\": \"rgba(245, 54, 54, 0.9)\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"percent\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 5,\n            \"w\": 4,\n            \"x\": 0,\n            \"y\": 6\n          },\n          \"id\": 122,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"showThresholdLabels\": false,\n            \"showThresholdMarkers\": true,\n            \"text\": {}\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"count(pg_replication_slots_active{pod=~\\\"$podname\\\"}) / sum(pg_setting_max_replication_slots{pod=~\\\"$podname\\\"}) * 100\",\n              \"hide\": false,\n              \"interval\": \"\",\n              \"legendFormat\": \"\",\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"Slot Rate\",\n          \"type\": \"gauge\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"description\": \"\",\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"custom\": {\n                \"align\": \"auto\",\n                \"displayMode\": \"auto\",\n                \"filterable\": false\n              },\n              \"mappings\": [],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              }\n            },\n            \"overrides\": [\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"database\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 128\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"slot_name\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 142\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"active\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 100\n                  },\n                  {\n                    \"id\": \"mappings\",\n                    \"value\": [\n                      {\n                        \"options\": {\n                          \"0\": {\n                            \"index\": 1,\n                            \"text\": \"f\"\n                          },\n                          \"1\": {\n                            \"index\": 0,\n                            \"text\": \"t\"\n                          }\n                        },\n                        \"type\": \"value\"\n                      }\n                    ]\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"Time\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 150\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"slot_name\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 256\n                  }\n                ]\n              }\n            ]\n          },\n          \"gridPos\": {\n            \"h\": 7,\n            \"w\": 16,\n            \"x\": 0,\n            \"y\": 11\n          },\n          \"id\": 149,\n          \"options\": {\n            \"footer\": {\n              \"fields\": \"\",\n              \"reducer\": [\n                \"sum\"\n              ],\n              \"show\": false\n            },\n            \"showHeader\": true,\n            \"sortBy\": []\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_replication_slots_active{pod=~\\\"$podname\\\"}\",\n              \"format\": \"table\",\n              \"instant\": true,\n              \"interval\": \"\",\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"Slot Informations\",\n          \"transformations\": [\n            {\n              \"id\": \"organize\",\n              \"options\": {\n                \"excludeByName\": {\n                  \"Time\": false,\n                  \"Value\": false,\n                  \"__name__\": true,\n                  \"datoid\": true,\n                  \"instance\": true,\n                  \"job\": true,\n                  \"pid\": true,\n                  \"server\": true,\n                  \"xmin\": true\n                },\n                \"indexByName\": {\n                  \"Time\": 0,\n                  \"Value\": 6,\n                  \"__name__\": 1,\n                  \"database\": 10,\n                  \"datoid\": 8,\n                  \"instance\": 2,\n                  \"job\": 3,\n                  \"plugin\": 9,\n                  \"server\": 5,\n                  \"slot_name\": 4,\n                  \"slot_type\": 7,\n                  \"xmin\": 11\n                },\n                \"renameByName\": {\n                  \"Value\": \"active\"\n                }\n              }\n            }\n          ],\n          \"type\": \"table\"\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"links\": []\n            },\n            \"overrides\": []\n          },\n          \"fill\": 0,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 7,\n            \"w\": 8,\n            \"x\": 16,\n            \"y\": 11\n          },\n          \"hiddenSeries\": false,\n          \"id\": 120,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": true,\n            \"max\": true,\n            \"min\": false,\n            \"rightSide\": false,\n            \"show\": true,\n            \"sort\": \"current\",\n            \"sortDesc\": true,\n            \"total\": false,\n            \"values\": true\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"connected\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"8.3.3\",\n          \"pointradius\": 3,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_replication_slots_delay_lsn{pod=~\\\"$podname\\\"}\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"{{instance}}_delay_lsn\",\n              \"refId\": \"A\",\n              \"step\": 2\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Slots Delay\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"$$hashKey\": \"object:165\",\n              \"decimals\": 0,\n              \"format\": \"decbytes\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"$$hashKey\": \"object:166\",\n              \"format\": \"decbytes\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        }\n      ],\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Replications【$podname】\",\n      \"type\": \"row\"\n    },\n    {\n      \"collapsed\": true,\n      \"datasource\": {\n        \"uid\": \"$datasource\"\n      },\n      \"gridPos\": {\n        \"h\": 1,\n        \"w\": 24,\n        \"x\": 0,\n        \"y\": 13\n      },\n      \"id\": 80,\n      \"panels\": [\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"links\": []\n            },\n            \"overrides\": []\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 8,\n            \"w\": 8,\n            \"x\": 0,\n            \"y\": 5\n          },\n          \"hiddenSeries\": false,\n          \"id\": 126,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": true,\n            \"hideEmpty\": false,\n            \"max\": true,\n            \"min\": false,\n            \"rightSide\": false,\n            \"show\": true,\n            \"sort\": \"current\",\n            \"sortDesc\": true,\n            \"total\": false,\n            \"values\": true\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"null as zero\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"8.3.3\",\n          \"pointradius\": 3,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_locker_count{pod=~\\\"$podname\\\"}\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"{{query}}\",\n              \"refId\": \"A\",\n              \"step\": 2\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Locker Count\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"transformations\": [],\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"$$hashKey\": \"object:165\",\n              \"decimals\": 0,\n              \"format\": \"none\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"$$hashKey\": \"object:166\",\n              \"format\": \"decbytes\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": true,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"decimals\": 0,\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 8,\n            \"w\": 9,\n            \"x\": 8,\n            \"y\": 5\n          },\n          \"hiddenSeries\": false,\n          \"id\": 124,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": false,\n            \"current\": true,\n            \"max\": true,\n            \"min\": false,\n            \"rightSide\": false,\n            \"show\": true,\n            \"sort\": \"max\",\n            \"sortDesc\": true,\n            \"total\": false,\n            \"values\": true\n          },\n          \"lines\": false,\n          \"linewidth\": 1,\n          \"nullPointMode\": \"null\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"8.3.3\",\n          \"pointradius\": 2,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [\n            {\n              \"$$hashKey\": \"object:778\",\n              \"alias\": \"AccessShareLock\",\n              \"color\": \"#56A64B\"\n            },\n            {\n              \"$$hashKey\": \"object:779\",\n              \"alias\": \"RowShareLock\",\n              \"color\": \"#8AB8FF\"\n            },\n            {\n              \"$$hashKey\": \"object:780\",\n              \"alias\": \"RowExclusiveLock\",\n              \"color\": \"#3274D9\"\n            },\n            {\n              \"$$hashKey\": \"object:781\",\n              \"alias\": \"ShareUpdateExclusiveLock\",\n              \"color\": \"#F2CC0C\"\n            },\n            {\n              \"$$hashKey\": \"object:782\",\n              \"alias\": \"ShareLock\",\n              \"color\": \"#CC9D00\"\n            },\n            {\n              \"$$hashKey\": \"object:783\",\n              \"alias\": \"ShareRowExclusiveLock\",\n              \"color\": \"#FF780A\"\n            },\n            {\n              \"$$hashKey\": \"object:784\",\n              \"alias\": \"ExclusiveLock\",\n              \"color\": \"#E02F44\"\n            },\n            {\n              \"$$hashKey\": \"object:785\",\n              \"alias\": \"AccessExclusiveLock\",\n              \"color\": \"#A352CC\"\n            }\n          ],\n          \"spaceLength\": 10,\n          \"stack\": true,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"sum by (mode) (pg_lock_count{pod=~\\\"$podname\\\"})\",\n              \"interval\": \"\",\n              \"legendFormat\": \"{{ mode }}\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Locks\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"$$hashKey\": \"object:834\",\n              \"decimals\": 0,\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"$$hashKey\": \"object:835\",\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": false\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"decimals\": 0,\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 8,\n            \"w\": 7,\n            \"x\": 17,\n            \"y\": 5\n          },\n          \"hiddenSeries\": false,\n          \"id\": 66,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": true,\n            \"max\": false,\n            \"min\": false,\n            \"rightSide\": false,\n            \"show\": true,\n            \"total\": true,\n            \"values\": true\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"null\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"8.3.3\",\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"irate(pg_stat_database_conflicts{pod=~\\\"$podname\\\", datname=~\\\"$datname\\\"}[5m])\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"{{datname}} conflicts\",\n              \"refId\": \"B\"\n            },\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"irate(pg_stat_database_deadlocks{pod=~\\\"$podname\\\", datname=~\\\"$datname\\\"}[5m])\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"{{datname}} deadlocks\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Conflicts/Deadlocks\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"$$hashKey\": \"object:3060\",\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"min\": \"0\",\n              \"show\": true\n            },\n            {\n              \"$$hashKey\": \"object:3061\",\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"description\": \"会话\",\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"custom\": {\n                \"align\": \"auto\",\n                \"displayMode\": \"auto\",\n                \"filterable\": false\n              },\n              \"mappings\": [],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              }\n            },\n            \"overrides\": [\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"state\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 94\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"xact_runtime\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 142\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"usename\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 156\n                  }\n                ]\n              }\n            ]\n          },\n          \"gridPos\": {\n            \"h\": 8,\n            \"w\": 24,\n            \"x\": 0,\n            \"y\": 13\n          },\n          \"id\": 119,\n          \"options\": {\n            \"footer\": {\n              \"fields\": \"\",\n              \"reducer\": [\n                \"sum\"\n              ],\n              \"show\": false\n            },\n            \"showHeader\": true,\n            \"sortBy\": []\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": false,\n              \"expr\": \"pg_lock_detail_locked_times{pod=~\\\"$podname\\\"}\",\n              \"format\": \"table\",\n              \"instant\": true,\n              \"interval\": \"\",\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"Lock Detail\",\n          \"transformations\": [\n            {\n              \"id\": \"organize\",\n              \"options\": {\n                \"excludeByName\": {\n                  \"Time\": true,\n                  \"Value\": true,\n                  \"__name__\": true,\n                  \"instance\": true,\n                  \"job\": true,\n                  \"server\": true\n                },\n                \"indexByName\": {\n                  \"Time\": 0,\n                  \"Value\": 14,\n                  \"__name__\": 1,\n                  \"client_addr\": 2,\n                  \"datname\": 4,\n                  \"instance\": 3,\n                  \"job\": 6,\n                  \"pid\": 7,\n                  \"query\": 10,\n                  \"query_start\": 9,\n                  \"server\": 11,\n                  \"state\": 8,\n                  \"usename\": 5,\n                  \"xact_runtime\": 12,\n                  \"xact_start\": 13\n                },\n                \"renameByName\": {}\n              }\n            }\n          ],\n          \"type\": \"table\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"palette-classic\"\n              },\n              \"custom\": {\n                \"hideFrom\": {\n                  \"legend\": false,\n                  \"tooltip\": false,\n                  \"viz\": false\n                }\n              },\n              \"links\": [],\n              \"mappings\": []\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 8,\n            \"w\": 9,\n            \"x\": 0,\n            \"y\": 21\n          },\n          \"id\": 144,\n          \"links\": [],\n          \"options\": {\n            \"displayLabels\": [],\n            \"legend\": {\n              \"displayMode\": \"table\",\n              \"placement\": \"right\",\n              \"showLegend\": true,\n              \"values\": [\n                \"value\"\n              ]\n            },\n            \"pieType\": \"pie\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"tooltip\": {\n              \"mode\": \"single\"\n            }\n          },\n          \"pluginVersion\": \"8.2.4\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"irate(pg_wait_events_wait{pod=~\\\"$podname\\\"}[1m]) != 0\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"{{event}}\",\n              \"refId\": \"A\",\n              \"step\": 2\n            }\n          ],\n          \"title\": \"Wait Event Count\",\n          \"type\": \"piechart\"\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"links\": []\n            },\n            \"overrides\": []\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 8,\n            \"w\": 15,\n            \"x\": 9,\n            \"y\": 21\n          },\n          \"hiddenSeries\": false,\n          \"id\": 129,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": true,\n            \"max\": true,\n            \"min\": false,\n            \"rightSide\": false,\n            \"show\": true,\n            \"sort\": \"current\",\n            \"sortDesc\": true,\n            \"total\": false,\n            \"values\": true\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"connected\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"8.3.3\",\n          \"pointradius\": 3,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"irate(pg_wait_events_wait{pod=~\\\"$podname\\\"}[1m]) != 0\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"{{event}}\",\n              \"refId\": \"A\",\n              \"step\": 2\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Wait Event Count\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"$$hashKey\": \"object:165\",\n              \"decimals\": 0,\n              \"format\": \"none\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"$$hashKey\": \"object:166\",\n              \"format\": \"decbytes\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"palette-classic\"\n              },\n              \"custom\": {\n                \"hideFrom\": {\n                  \"legend\": false,\n                  \"tooltip\": false,\n                  \"viz\": false\n                }\n              },\n              \"links\": [],\n              \"mappings\": [],\n              \"unit\": \"µs\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 8,\n            \"w\": 9,\n            \"x\": 0,\n            \"y\": 29\n          },\n          \"id\": 145,\n          \"links\": [],\n          \"options\": {\n            \"displayLabels\": [],\n            \"legend\": {\n              \"displayMode\": \"table\",\n              \"placement\": \"right\",\n              \"showLegend\": true,\n              \"values\": [\n                \"value\"\n              ]\n            },\n            \"pieType\": \"pie\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"tooltip\": {\n              \"mode\": \"single\"\n            }\n          },\n          \"pluginVersion\": \"8.2.4\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"irate(pg_wait_events_total_wait_time{pod=~\\\"$podname\\\",event !=\\\"wait cmd\\\"}[1m]) != 0\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"{{event}}\",\n              \"refId\": \"A\",\n              \"step\": 2\n            }\n          ],\n          \"title\": \"Wait Event Times\",\n          \"type\": \"piechart\"\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"links\": []\n            },\n            \"overrides\": []\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 8,\n            \"w\": 15,\n            \"x\": 9,\n            \"y\": 29\n          },\n          \"hiddenSeries\": false,\n          \"id\": 130,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": true,\n            \"max\": true,\n            \"min\": false,\n            \"rightSide\": false,\n            \"show\": true,\n            \"sort\": \"current\",\n            \"sortDesc\": true,\n            \"total\": false,\n            \"values\": true\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"connected\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"8.3.3\",\n          \"pointradius\": 3,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"irate(pg_wait_events_total_wait_time{pod=~\\\"$podname\\\"}[1m]) != 0\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"{{event}}\",\n              \"refId\": \"A\",\n              \"step\": 2\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Wait Event Times\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"$$hashKey\": \"object:165\",\n              \"decimals\": 0,\n              \"format\": \"µs\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"$$hashKey\": \"object:166\",\n              \"format\": \"decbytes\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        }\n      ],\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Locks \u0026 Wait Events【$podname】\",\n      \"type\": \"row\"\n    },\n    {\n      \"collapsed\": true,\n      \"datasource\": {\n        \"uid\": \"$datasource\"\n      },\n      \"gridPos\": {\n        \"h\": 1,\n        \"w\": 24,\n        \"x\": 0,\n        \"y\": 14\n      },\n      \"id\": 78,\n      \"panels\": [\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"thresholds\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"decbytes\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 2,\n            \"w\": 4,\n            \"x\": 0,\n            \"y\": 6\n          },\n          \"id\": 10,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"none\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"text\": {},\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"SUM(pg_stat_database_tup_fetched{datname=~\\\"$datname\\\", pod=~\\\"$podname\\\"})\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 2,\n              \"legendFormat\": \"\",\n              \"refId\": \"A\",\n              \"step\": 4\n            }\n          ],\n          \"title\": \"Current fetch data\",\n          \"type\": \"stat\"\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"links\": []\n            },\n            \"overrides\": []\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 6,\n            \"x\": 4,\n            \"y\": 6\n          },\n          \"hiddenSeries\": false,\n          \"id\": 60,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": true,\n            \"max\": false,\n            \"min\": false,\n            \"rightSide\": false,\n            \"show\": true,\n            \"total\": true,\n            \"values\": true\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"null\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"8.3.3\",\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"irate(pg_stat_database_xact_commit{pod=~\\\"$podname\\\", datname=~\\\"$datname\\\"}[5m])\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"{{datname}} commits\",\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"irate(pg_stat_database_xact_rollback{pod=~\\\"$podname\\\", datname=~\\\"$datname\\\"}[5m])\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"{{datname}} rollbacks\",\n              \"refId\": \"B\"\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Transactions\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"$$hashKey\": \"object:2972\",\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"$$hashKey\": \"object:2973\",\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"links\": []\n            },\n            \"overrides\": []\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 7,\n            \"x\": 10,\n            \"y\": 6\n          },\n          \"hiddenSeries\": false,\n          \"id\": 14,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": true,\n            \"max\": false,\n            \"min\": false,\n            \"rightSide\": false,\n            \"show\": true,\n            \"sort\": \"total\",\n            \"sortDesc\": true,\n            \"total\": true,\n            \"values\": true\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"null\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"8.3.3\",\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"irate(pg_stat_database_tup_returned{datname=~\\\"$datname\\\", pod=~\\\"$podname\\\"}[1m])\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 2,\n              \"legendFormat\": \"{{datname}}\",\n              \"refId\": \"A\",\n              \"step\": 2\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Return data\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"$$hashKey\": \"object:2652\",\n              \"format\": \"bytes\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"$$hashKey\": \"object:2653\",\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"links\": []\n            },\n            \"overrides\": []\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 7,\n            \"x\": 17,\n            \"y\": 6\n          },\n          \"hiddenSeries\": false,\n          \"id\": 5,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": true,\n            \"max\": false,\n            \"min\": false,\n            \"rightSide\": false,\n            \"show\": true,\n            \"sort\": \"current\",\n            \"sortDesc\": true,\n            \"total\": true,\n            \"values\": true\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"null\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"8.3.3\",\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"irate(pg_stat_database_tup_fetched{datname=~\\\"$datname\\\", pod=~\\\"$podname\\\"}[1m])\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 2,\n              \"legendFormat\": \"{{datname}}\",\n              \"refId\": \"A\",\n              \"step\": 2\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Fetch data (SELECT)\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"$$hashKey\": \"object:2572\",\n              \"format\": \"bytes\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"$$hashKey\": \"object:2573\",\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"thresholds\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"decbytes\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 2,\n            \"w\": 4,\n            \"x\": 0,\n            \"y\": 8\n          },\n          \"id\": 11,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"none\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"text\": {},\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"SUM(pg_stat_database_tup_inserted{datname=~\\\"$datname\\\", pod=~\\\"$podname\\\"})\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 2,\n              \"legendFormat\": \"\",\n              \"refId\": \"A\",\n              \"step\": 4\n            }\n          ],\n          \"title\": \"Current insert data\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"thresholds\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"decbytes\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 2,\n            \"w\": 4,\n            \"x\": 0,\n            \"y\": 10\n          },\n          \"id\": 12,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"none\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"text\": {},\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"SUM(pg_stat_database_tup_updated{datname=~\\\"$datname\\\", pod=~\\\"$podname\\\"})\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 2,\n              \"legendFormat\": \"\",\n              \"refId\": \"A\",\n              \"step\": 4\n            }\n          ],\n          \"title\": \"Current update data\",\n          \"type\": \"stat\"\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"links\": []\n            },\n            \"overrides\": []\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 7,\n            \"w\": 8,\n            \"x\": 0,\n            \"y\": 12\n          },\n          \"hiddenSeries\": false,\n          \"id\": 6,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": true,\n            \"max\": false,\n            \"min\": false,\n            \"rightSide\": false,\n            \"show\": true,\n            \"sort\": \"current\",\n            \"sortDesc\": true,\n            \"total\": true,\n            \"values\": true\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"null\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"8.3.3\",\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"irate(pg_stat_database_tup_inserted{datname=~\\\"$datname\\\", pod=~\\\"$podname\\\"}[1m])\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 2,\n              \"legendFormat\": \"{{datname}}\",\n              \"refId\": \"A\",\n              \"step\": 2\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Insert data\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"$$hashKey\": \"object:2732\",\n              \"format\": \"bytes\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"$$hashKey\": \"object:2733\",\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"links\": []\n            },\n            \"overrides\": []\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 7,\n            \"w\": 8,\n            \"x\": 8,\n            \"y\": 12\n          },\n          \"hiddenSeries\": false,\n          \"id\": 8,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": true,\n            \"max\": false,\n            \"min\": false,\n            \"rightSide\": false,\n            \"show\": true,\n            \"sort\": \"current\",\n            \"sortDesc\": true,\n            \"total\": true,\n            \"values\": true\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"null\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"8.3.3\",\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"irate(pg_stat_database_tup_updated{datname=~\\\"$datname\\\", pod=~\\\"$podname\\\"}[1m])\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 2,\n              \"legendFormat\": \"{{datname}}\",\n              \"refId\": \"A\",\n              \"step\": 2\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Update data\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"$$hashKey\": \"object:2812\",\n              \"format\": \"bytes\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"$$hashKey\": \"object:2813\",\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"links\": []\n            },\n            \"overrides\": []\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 7,\n            \"w\": 8,\n            \"x\": 16,\n            \"y\": 12\n          },\n          \"hiddenSeries\": false,\n          \"id\": 7,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": true,\n            \"max\": false,\n            \"min\": false,\n            \"rightSide\": false,\n            \"show\": true,\n            \"sort\": \"current\",\n            \"sortDesc\": true,\n            \"total\": true,\n            \"values\": true\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"null\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"8.3.3\",\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"irate(pg_stat_database_tup_deleted{datname=~\\\"$datname\\\", pod=~\\\"$podname\\\"}[1m])\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 2,\n              \"legendFormat\": \"{{datname}}\",\n              \"refId\": \"A\",\n              \"step\": 2\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Delete data\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"$$hashKey\": \"object:2892\",\n              \"format\": \"bytes\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"$$hashKey\": \"object:2893\",\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 7,\n            \"w\": 8,\n            \"x\": 0,\n            \"y\": 19\n          },\n          \"hiddenSeries\": false,\n          \"id\": 64,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": true,\n            \"max\": true,\n            \"min\": true,\n            \"rightSide\": false,\n            \"show\": true,\n            \"total\": false,\n            \"values\": true\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"null\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"8.3.3\",\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"irate(pg_stat_bgwriter_buffers_backend{pod=~\\\"$podname\\\"}[5m])\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"buffers_backend\",\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"irate(pg_stat_bgwriter_buffers_alloc{pod=~\\\"$podname\\\"}[5m])\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"buffers_alloc\",\n              \"refId\": \"B\"\n            },\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"irate(pg_stat_bgwriter_buffers_backend_fsync{pod=~\\\"$podname\\\"}[5m])\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"backend_fsync\",\n              \"refId\": \"C\"\n            },\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"irate(pg_stat_bgwriter_buffers_checkpoint{pod=~\\\"$podname\\\"}[5m])\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"buffers_checkpoint\",\n              \"refId\": \"D\"\n            },\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"irate(pg_stat_bgwriter_buffers_clean{pod=~\\\"$podname\\\"}[5m])\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"buffers_clean\",\n              \"refId\": \"E\"\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Buffers (bgwriter)\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"$$hashKey\": \"object:3220\",\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"$$hashKey\": \"object:3221\",\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"decimals\": 2,\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 7,\n            \"w\": 8,\n            \"x\": 8,\n            \"y\": 19\n          },\n          \"hiddenSeries\": false,\n          \"id\": 62,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": true,\n            \"max\": false,\n            \"min\": false,\n            \"rightSide\": false,\n            \"show\": true,\n            \"total\": false,\n            \"values\": true\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"null\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"8.3.3\",\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_stat_database_blks_hit{pod=~\\\"$podname\\\", datname=~\\\"$datname\\\"} / (pg_stat_database_blks_read{pod=~\\\"$podname\\\", datname=~\\\"$datname\\\"} + pg_stat_database_blks_hit{pod=~\\\"$podname\\\", datname=~\\\"$datname\\\"})\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"{{ datname }}\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Cache Hit Rate\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"$$hashKey\": \"object:3140\",\n              \"decimals\": 4,\n              \"format\": \"percentunit\",\n              \"label\": \"\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"$$hashKey\": \"object:3141\",\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 7,\n            \"w\": 8,\n            \"x\": 16,\n            \"y\": 19\n          },\n          \"hiddenSeries\": false,\n          \"id\": 70,\n          \"legend\": {\n            \"alignAsTable\": true,\n            \"avg\": true,\n            \"current\": true,\n            \"max\": true,\n            \"min\": true,\n            \"show\": true,\n            \"total\": false,\n            \"values\": true\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"null\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"8.3.3\",\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"irate(pg_stat_bgwriter_checkpoint_write_time{pod=~\\\"$podname\\\"}[5m])\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"write_time - Total amount of time that has been spent in the portion of checkpoint processing where files are written to disk.\",\n              \"refId\": \"B\"\n            },\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"irate(pg_stat_bgwriter_checkpoint_sync_time{pod=~\\\"$podname\\\"}[5m])\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"sync_time - Total amount of time that has been spent in the portion of checkpoint processing where files are synchronized to disk.\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Checkpoint Stats\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"$$hashKey\": \"object:866\",\n              \"format\": \"ms\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"$$hashKey\": \"object:867\",\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": true\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        }\n      ],\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Database Statistics【$podname】\",\n      \"type\": \"row\"\n    },\n    {\n      \"collapsed\": true,\n      \"datasource\": {\n        \"uid\": \"$datasource\"\n      },\n      \"gridPos\": {\n        \"h\": 1,\n        \"w\": 24,\n        \"x\": 0,\n        \"y\": 15\n      },\n      \"id\": 76,\n      \"panels\": [\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"description\": \"会话\",\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"custom\": {\n                \"align\": \"auto\",\n                \"displayMode\": \"auto\",\n                \"filterable\": false\n              },\n              \"mappings\": [],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              }\n            },\n            \"overrides\": [\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"state\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 94\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"datname\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 100\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"client_addr\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 100\n                  }\n                ]\n              }\n            ]\n          },\n          \"gridPos\": {\n            \"h\": 8,\n            \"w\": 24,\n            \"x\": 0,\n            \"y\": 7\n          },\n          \"id\": 128,\n          \"options\": {\n            \"footer\": {\n              \"fields\": \"\",\n              \"reducer\": [\n                \"sum\"\n              ],\n              \"show\": false\n            },\n            \"showHeader\": true,\n            \"sortBy\": []\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_active_slowsql_query_runtime{datname=~\\\"$datname\\\", pod=~\\\"$podname\\\"}\",\n              \"format\": \"table\",\n              \"instant\": true,\n              \"interval\": \"\",\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"Session\",\n          \"transformations\": [\n            {\n              \"id\": \"organize\",\n              \"options\": {\n                \"excludeByName\": {\n                  \"Time\": true,\n                  \"Value\": true,\n                  \"__name__\": true,\n                  \"instance\": true,\n                  \"job\": true,\n                  \"server\": true,\n                  \"xact_runtime\": true\n                },\n                \"indexByName\": {\n                  \"Time\": 0,\n                  \"Value\": 14,\n                  \"__name__\": 1,\n                  \"client_addr\": 4,\n                  \"datname\": 2,\n                  \"instance\": 5,\n                  \"job\": 6,\n                  \"pid\": 7,\n                  \"query\": 12,\n                  \"query_start\": 10,\n                  \"server\": 13,\n                  \"state\": 8,\n                  \"usename\": 3,\n                  \"xact_runtime\": 11,\n                  \"xact_start\": 9\n                },\n                \"renameByName\": {\n                  \"Value\": \"query runtime\"\n                }\n              }\n            }\n          ],\n          \"type\": \"table\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"description\": \"会话\",\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"custom\": {\n                \"align\": \"auto\",\n                \"displayMode\": \"auto\",\n                \"filterable\": false\n              },\n              \"mappings\": [],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              }\n            },\n            \"overrides\": [\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"total_elapse_time\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 150\n                  },\n                  {\n                    \"id\": \"unit\",\n                    \"value\": \"µs\"\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"user_name\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 150\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"max_elapse_time\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 140\n                  },\n                  {\n                    \"id\": \"unit\",\n                    \"value\": \"µs\"\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"min_elapse_time\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 140\n                  },\n                  {\n                    \"id\": \"unit\",\n                    \"value\": \"µs\"\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"unique_sql_id\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 120\n                  }\n                ]\n              }\n            ]\n          },\n          \"gridPos\": {\n            \"h\": 8,\n            \"w\": 24,\n            \"x\": 0,\n            \"y\": 15\n          },\n          \"id\": 142,\n          \"options\": {\n            \"footer\": {\n              \"fields\": \"\",\n              \"reducer\": [\n                \"sum\"\n              ],\n              \"show\": false\n            },\n            \"showHeader\": true,\n            \"sortBy\": [\n              {\n                \"desc\": true,\n                \"displayName\": \"total_elapse_time\"\n              }\n            ]\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_sql_history_cpu_time{pod=~\\\"$podname\\\"}\",\n              \"format\": \"table\",\n              \"instant\": true,\n              \"interval\": \"\",\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"CPU Times\",\n          \"transformations\": [\n            {\n              \"id\": \"organize\",\n              \"options\": {\n                \"excludeByName\": {\n                  \"Time\": true,\n                  \"Value\": false,\n                  \"__name__\": true,\n                  \"instance\": true,\n                  \"job\": true,\n                  \"server\": true,\n                  \"xact_runtime\": true\n                },\n                \"indexByName\": {\n                  \"Time\": 1,\n                  \"Value\": 6,\n                  \"__name__\": 2,\n                  \"instance\": 3,\n                  \"job\": 4,\n                  \"max_elapse_time\": 7,\n                  \"min_elapse_time\": 8,\n                  \"query\": 10,\n                  \"server\": 5,\n                  \"unique_sql_id\": 9,\n                  \"user_name\": 0\n                },\n                \"renameByName\": {\n                  \"Value\": \"total_elapse_time\",\n                  \"job\": \"\"\n                }\n              }\n            }\n          ],\n          \"type\": \"table\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"description\": \"会话\",\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"custom\": {\n                \"align\": \"auto\",\n                \"displayMode\": \"auto\",\n                \"filterable\": false\n              },\n              \"mappings\": [],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              }\n            },\n            \"overrides\": [\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"calls\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 150\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"user_name\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 150\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"max_elapse_time\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 140\n                  },\n                  {\n                    \"id\": \"unit\",\n                    \"value\": \"µs\"\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"min_elapse_time\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 140\n                  },\n                  {\n                    \"id\": \"unit\",\n                    \"value\": \"µs\"\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"unique_sql_id\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\",\n                    \"value\": 120\n                  }\n                ]\n              }\n            ]\n          },\n          \"gridPos\": {\n            \"h\": 8,\n            \"w\": 24,\n            \"x\": 0,\n            \"y\": 23\n          },\n          \"id\": 143,\n          \"options\": {\n            \"footer\": {\n              \"fields\": \"\",\n              \"reducer\": [\n                \"sum\"\n              ],\n              \"show\": false\n            },\n            \"showHeader\": true,\n            \"sortBy\": [\n              {\n                \"desc\": true,\n                \"displayName\": \"calls\"\n              }\n            ]\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_sql_history_n_calls{pod=~\\\"$podname\\\"}\",\n              \"format\": \"table\",\n              \"instant\": true,\n              \"interval\": \"\",\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"Calls\",\n          \"transformations\": [\n            {\n              \"id\": \"organize\",\n              \"options\": {\n                \"excludeByName\": {\n                  \"Time\": true,\n                  \"Value\": false,\n                  \"__name__\": true,\n                  \"instance\": true,\n                  \"job\": true,\n                  \"server\": true,\n                  \"xact_runtime\": true\n                },\n                \"indexByName\": {\n                  \"Time\": 1,\n                  \"Value\": 6,\n                  \"__name__\": 2,\n                  \"instance\": 3,\n                  \"job\": 4,\n                  \"max_elapse_time\": 7,\n                  \"min_elapse_time\": 8,\n                  \"query\": 10,\n                  \"server\": 5,\n                  \"unique_sql_id\": 9,\n                  \"user_name\": 0\n                },\n                \"renameByName\": {\n                  \"Value\": \"calls\",\n                  \"job\": \"\"\n                }\n              }\n            }\n          ],\n          \"type\": \"table\"\n        }\n      ],\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Query【$podname】\",\n      \"type\": \"row\"\n    },\n    {\n      \"collapsed\": true,\n      \"datasource\": {\n        \"uid\": \"$datasource\"\n      },\n      \"gridPos\": {\n        \"h\": 1,\n        \"w\": 24,\n        \"x\": 0,\n        \"y\": 16\n      },\n      \"id\": 72,\n      \"panels\": [\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"description\": \"\",\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"custom\": {\n                \"align\": \"center\",\n                \"displayMode\": \"auto\",\n                \"filterable\": false\n              },\n              \"mappings\": [],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              }\n            },\n            \"overrides\": [\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"schema\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\"\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"datname\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\"\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"relname\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\"\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"Value\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\"\n                  },\n                  {\n                    \"id\": \"unit\",\n                    \"value\": \"decbytes\"\n                  }\n                ]\n              }\n            ]\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 12,\n            \"x\": 0,\n            \"y\": 8\n          },\n          \"id\": 132,\n          \"options\": {\n            \"footer\": {\n              \"fields\": \"\",\n              \"reducer\": [\n                \"sum\"\n              ],\n              \"show\": false\n            },\n            \"showHeader\": true,\n            \"sortBy\": [\n              {\n                \"desc\": true,\n                \"displayName\": \"Value\"\n              }\n            ]\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_tables_size_bytes{datname=~\\\"$datname\\\", pod=~\\\"$podname\\\"}\",\n              \"format\": \"table\",\n              \"instant\": true,\n              \"interval\": \"\",\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"Table Size\",\n          \"transformations\": [\n            {\n              \"id\": \"organize\",\n              \"options\": {\n                \"excludeByName\": {\n                  \"Time\": true,\n                  \"Value\": false,\n                  \"__name__\": true,\n                  \"instance\": true,\n                  \"job\": true,\n                  \"server\": true,\n                  \"xact_runtime\": true\n                },\n                \"indexByName\": {\n                  \"Time\": 0,\n                  \"Value\": 8,\n                  \"__name__\": 1,\n                  \"datname\": 2,\n                  \"instance\": 3,\n                  \"job\": 4,\n                  \"nspname\": 6,\n                  \"relname\": 7,\n                  \"server\": 5\n                },\n                \"renameByName\": {\n                  \"Value\": \"\",\n                  \"nspname\": \"schema\"\n                }\n              }\n            }\n          ],\n          \"type\": \"table\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"description\": \"\",\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"custom\": {\n                \"align\": \"center\",\n                \"displayMode\": \"auto\",\n                \"filterable\": false\n              },\n              \"mappings\": [],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              }\n            },\n            \"overrides\": [\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"schema\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\"\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"datname\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\"\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"relname\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\"\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"Value\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\"\n                  },\n                  {\n                    \"id\": \"unit\",\n                    \"value\": \"decbytes\"\n                  }\n                ]\n              }\n            ]\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 12,\n            \"x\": 12,\n            \"y\": 8\n          },\n          \"id\": 133,\n          \"options\": {\n            \"footer\": {\n              \"fields\": \"\",\n              \"reducer\": [\n                \"sum\"\n              ],\n              \"show\": false\n            },\n            \"showHeader\": true,\n            \"sortBy\": []\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_indexes_size_index_size{datname=~\\\"$datname\\\", pod=~\\\"$podname\\\"}\",\n              \"format\": \"table\",\n              \"instant\": true,\n              \"interval\": \"\",\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"Index Size\",\n          \"transformations\": [\n            {\n              \"id\": \"organize\",\n              \"options\": {\n                \"excludeByName\": {\n                  \"Time\": true,\n                  \"Value\": false,\n                  \"__name__\": true,\n                  \"instance\": true,\n                  \"job\": true,\n                  \"server\": true,\n                  \"xact_runtime\": true\n                },\n                \"indexByName\": {\n                  \"Time\": 0,\n                  \"Value\": 9,\n                  \"__name__\": 1,\n                  \"datname\": 2,\n                  \"index_name\": 8,\n                  \"instance\": 3,\n                  \"job\": 4,\n                  \"schema_name\": 6,\n                  \"server\": 5,\n                  \"table_name\": 7\n                },\n                \"renameByName\": {\n                  \"Value\": \"\",\n                  \"nspname\": \"schema\"\n                }\n              }\n            }\n          ],\n          \"type\": \"table\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"description\": \"\",\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"custom\": {\n                \"align\": \"center\",\n                \"displayMode\": \"auto\",\n                \"filterable\": false\n              },\n              \"mappings\": [],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              }\n            },\n            \"overrides\": [\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"schema\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\"\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"datname\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\"\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"relname\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\"\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"Value\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\"\n                  },\n                  {\n                    \"id\": \"unit\",\n                    \"value\": \"percent\"\n                  }\n                ]\n              }\n            ]\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 24,\n            \"x\": 0,\n            \"y\": 14\n          },\n          \"id\": 134,\n          \"options\": {\n            \"footer\": {\n              \"fields\": \"\",\n              \"reducer\": [\n                \"sum\"\n              ],\n              \"show\": false\n            },\n            \"showHeader\": true,\n            \"sortBy\": []\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_tables_expansion_rate_dead_rate{datname=~\\\"$datname\\\", pod=~\\\"$podname\\\"}\",\n              \"format\": \"table\",\n              \"instant\": true,\n              \"interval\": \"\",\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"Table Expansion Rate\",\n          \"transformations\": [\n            {\n              \"id\": \"organize\",\n              \"options\": {\n                \"excludeByName\": {\n                  \"Time\": true,\n                  \"Value\": false,\n                  \"__name__\": true,\n                  \"instance\": true,\n                  \"job\": true,\n                  \"server\": true,\n                  \"xact_runtime\": true\n                },\n                \"indexByName\": {\n                  \"Time\": 0,\n                  \"Value\": 10,\n                  \"__name__\": 1,\n                  \"datname\": 2,\n                  \"instance\": 3,\n                  \"job\": 4,\n                  \"n_dead_tup\": 9,\n                  \"n_live_tup\": 8,\n                  \"relname\": 7,\n                  \"schemaname\": 6,\n                  \"server\": 5\n                },\n                \"renameByName\": {\n                  \"Value\": \"\",\n                  \"nspname\": \"schema\"\n                }\n              }\n            }\n          ],\n          \"type\": \"table\"\n        },\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"description\": \"\",\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"custom\": {\n                \"align\": \"center\",\n                \"displayMode\": \"auto\",\n                \"filterable\": false\n              },\n              \"mappings\": [],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\"\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              }\n            },\n            \"overrides\": [\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"schema\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\"\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"datname\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\"\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"relname\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\"\n                  }\n                ]\n              },\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"Value\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"custom.width\"\n                  },\n                  {\n                    \"id\": \"unit\",\n                    \"value\": \"decbytes\"\n                  }\n                ]\n              }\n            ]\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 24,\n            \"x\": 0,\n            \"y\": 20\n          },\n          \"id\": 135,\n          \"options\": {\n            \"footer\": {\n              \"fields\": \"\",\n              \"reducer\": [\n                \"sum\"\n              ],\n              \"show\": false\n            },\n            \"showHeader\": true,\n            \"sortBy\": []\n          },\n          \"pluginVersion\": \"8.3.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"uid\": \"$datasource\"\n              },\n              \"exemplar\": true,\n              \"expr\": \"pg_never_used_indexes_index_size{datname=~\\\"$datname\\\", pod=~\\\"$podname\\\"}\",\n              \"format\": \"table\",\n              \"instant\": true,\n              \"interval\": \"\",\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\n            }\n          ],\n          \"title\": \"Never Used Indexes\",\n          \"transformations\": [\n            {\n              \"id\": \"organize\",\n              \"options\": {\n                \"excludeByName\": {\n                  \"Time\": true,\n                  \"Value\": false,\n                  \"__name__\": true,\n                  \"instance\": true,\n                  \"job\": true,\n                  \"server\": true,\n                  \"xact_runtime\": true\n                },\n                \"indexByName\": {\n                  \"Time\": 0,\n                  \"Value\": 9,\n                  \"__name__\": 1,\n                  \"datname\": 2,\n                  \"indexrelname\": 8,\n                  \"instance\": 3,\n                  \"job\": 4,\n                  \"relname\": 7,\n                  \"schemaname\": 6,\n                  \"server\": 5\n                },\n                \"renameByName\": {\n                  \"Value\": \"\",\n                  \"nspname\": \"schema\"\n                }\n              }\n            }\n          ],\n          \"type\": \"table\"\n        }\n      ],\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"uid\": \"$datasource\"\n          },\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Tables and Indexes【$podname】\",\n      \"type\": \"row\"\n    }\n  ],\n  \"refresh\": \"\",\n  \"schemaVersion\": 37,\n  \"style\": \"dark\",\n  \"tags\": [],\n  \"templating\": {\n    \"list\": [\n        {\n        \"current\": {\n          \"selected\": false,\n          \"text\": \"default\",\n          \"value\": \"default\"\n        },\n        \"hide\": 0,\n        \"includeAll\": false,\n        \"label\": \"data source\",\n        \"multi\": false,\n        \"name\": \"datasource\",\n        \"options\": [],\n        \"query\": \"prometheus\",\n        \"queryValue\": \"\",\n        \"refresh\": 1,\n        \"regex\": \"\",\n        \"skipUrlSync\": false,\n        \"type\": \"datasource\"\n      },\n      {\n        \"current\": {\n          \"selected\": false,\n          \"text\": \"All\",\n          \"value\": \"$__all\"\n        },\n        \"datasource\":  {\n          \"uid\": \"$datasource\"\n        },\n        \"definition\": \"label_values(pg_up,kubernetes_pod_name)\",\n        \"hide\": 0,\n        \"includeAll\": true,\n        \"label\": \"Host\",\n        \"multi\": false,\n        \"name\": \"hostname\",\n        \"options\": [],\n        \"query\": {\n          \"query\": \"label_values(pg_up,kubernetes_pod_name)\",\n          \"refId\": \"StandardVariableQuery\"\n        },\n        \"refresh\": 1,\n        \"regex\": \"\",\n        \"skipUrlSync\": false,\n        \"sort\": 1,\n        \"type\": \"query\"\n      },\n      {\n        \"current\": {\n          \"selected\": false,\n          \"text\": \"default\",\n          \"value\": \"default\"\n        },\n        \"datasource\":  {\n          \"uid\": \"$datasource\"\n        },\n        \"definition\": \"label_values(pg_up{pod=~\\\"$hostname\\\"},kubernetes_pod_name)\",\n        \"hide\": 2,\n        \"includeAll\": false,\n        \"label\": \"\",\n        \"multi\": false,\n        \"name\": \"podname\",\n        \"options\": [],\n        \"query\": {\n          \"query\": \"label_values(pg_up{pod=~\\\"$hostname\\\"},kubernetes_pod_name)\",\n          \"refId\": \"StandardVariableQuery\"\n        },\n        \"refresh\": 1,\n        \"regex\": \"\",\n        \"skipUrlSync\": false,\n        \"sort\": 5,\n        \"type\": \"query\"\n      },\n      {\n        \"current\": {\n          \"selected\": true,\n          \"text\": [\n            \"All\"\n          ],\n          \"value\": [\n            \"$__all\"\n          ]\n        },\n        \"datasource\": {\n          \"uid\": \"$datasource\"\n        },\n        \"definition\": \"label_values(datname)\",\n        \"hide\": 2,\n        \"includeAll\": true,\n        \"label\": \"Database\",\n        \"multi\": true,\n        \"name\": \"datname\",\n        \"options\": [],\n        \"query\": {\n          \"query\": \"label_values(datname)\",\n          \"refId\": \"StandardVariableQuery\"\n        },\n        \"refresh\": 1,\n        \"regex\": \"\",\n        \"skipUrlSync\": false,\n        \"sort\": 1,\n        \"tagValuesQuery\": \"\",\n        \"tagsQuery\": \"\",\n        \"type\": \"query\",\n        \"useTags\": false\n      },\n      {\n        \"current\": {\n          \"selected\": false,\n          \"text\": \"2\",\n          \"value\": \"2\"\n        },\n        \"datasource\":  {\n          \"uid\": \"$datasource\"\n        },\n        \"definition\": \"query_result(count(pg_up))\",\n        \"hide\": 2,\n        \"includeAll\": false,\n        \"multi\": false,\n        \"name\": \"total\",\n        \"options\": [],\n        \"query\": {\n          \"query\": \"query_result(count(pg_up))\",\n          \"refId\": \"StandardVariableQuery\"\n        },\n        \"refresh\": 1,\n        \"regex\": \"/{} (.*) .*/\",\n        \"skipUrlSync\": false,\n        \"sort\": 0,\n        \"type\": \"query\"\n      }\n    ]\n  },\n  \"time\": {\n    \"from\": \"now-5m\",\n    \"to\": \"now\"\n  },\n  \"timepicker\": {\n    \"refresh_intervals\": [\n      \"5s\",\n      \"10s\",\n      \"30s\",\n      \"1m\",\n      \"5m\",\n      \"15m\",\n      \"30m\",\n      \"1h\",\n      \"2h\",\n      \"1d\"\n    ],\n    \"time_options\": [\n      \"5m\",\n      \"15m\",\n      \"1h\",\n      \"6h\",\n      \"12h\",\n      \"24h\",\n      \"2d\",\n      \"7d\",\n      \"30d\"\n    ]\n  },\n  \"timezone\": \"\",\n  \"title\": \"MogDB\",\n  \"uid\": \"ZcrYb1T7z\",\n  \"version\": 3,\n  \"weekStart\": \"\"\n}"
---
# Source: mogdb/templates/swithover.yaml
apiVersion: apps.kubeblocks.io/v1alpha1
kind: OpsDefinition
metadata:
  name: mogdb-switchover
spec:
  targetPodTemplates:
  - name: availablePod
    podSelector:
      availability: Available
      selectionPolicy: Any
    vars:
      - name: TARGET_POD_IP
        valueFrom:
          envRef:
            envName: KB_POD_IP
  parametersSchema:
    openAPIV3Schema:
      properties:
        primary:
          description: "old primary instance name(pod Name)."
          type: string
        candidate:
          description: |
            candidate instance name(pod Name). if candidate is not empty, will promote it to primary.
            otherwise promote a randomly selected pod to primary.
          type: string
      type: object
  actions:
  - name: switchover
    failurePolicy: Fail
    workload:
      targetPodTemplate: availablePod
      type: Job
      backoffLimit: 0
      podSpec:
        containers:
          - name: switchover
            image: docker.io/apecloud/kubeblocks-tools:0.8.2
            imagePullPolicy: IfNotPresent
            command:
              - /bin/sh
              - -c
              - |
                set -x
                # do switchover
                echo "INFO: doing switchover.."
                echo "INFO: candidate: ${candidate}"
                kubectl exec -it ${candidate} -c mogdb -- gosu omm gs_ctl switchover

                # check if switchover successfully.
                echo "INFO: start to check if switchover successfully, timeout is 60s"
                executedUnix=$(date +%s)
                while true; do
                  sleep 5
                  if [ ! -z ${candidate} ]; then
                    # if candidate specified, only check it
                    role=$(kubectl get pod ${candidate} -ojson | jq -r '.metadata.labels["kubeblocks.io/role"]')
                    if [ "$role" == "Primary" ] || [ "$role" == "primary" ] || [ "$role" == "leader" ] || [ "$role" == "master" ]; then
                        echo "INFO: switchover successfully, ${candidate} is ${role}"
                        exit 0
                    fi
                  else
                    # check if the candidate instance has been promote to primary
                    pods=$(kubectl get pod -l apps.kubeblocks.io/component-name=${KB_COMP_NAME},app.kubernetes.io/instance=${KB_CLUSTER_NAME} | awk 'NR > 1 {print $1}')
                    for podName in ${pods}; do
                      if [ "${podName}" != "${primary}" ];then
                        role=$(kubectl get pod ${podName} -ojson | jq -r '.metadata.labels["kubeblocks.io/role"]')
                        if [ "$role" == "Primary" ] || [ "$role" == "primary" ] || [ "$role" == "leader" ] || [ "$role" == "master" ]; then
                            echo "INFO: switchover successfully, ${podName} is ${role}"
                            exit 0
                        fi
                      fi
                    done
                  fi
                  currentUnix=$(date +%s)
                  diff_time=$((${currentUnix}-${executedUnix}))
                  if [ ${diff_time} -ge 60 ]; then
                    echo "ERROR: switchover failed."
                    exit 1
                  fi
                done
