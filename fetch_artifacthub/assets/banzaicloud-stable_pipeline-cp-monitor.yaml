---
# Source: pipeline-cp-monitor/charts/prometheus-operator/charts/grafana/templates/podsecuritypolicy.yaml
apiVersion: extensions/v1beta1
kind: PodSecurityPolicy
metadata:
  name: my-pipeline-cp-monitor-grafana
  labels:
    app: grafana
    chart: grafana-1.17.2
    heritage: Helm
    release: my-pipeline-cp-monitor
  annotations:
    seccomp.security.alpha.kubernetes.io/allowedProfileNames: 'docker/default'
    apparmor.security.beta.kubernetes.io/allowedProfileNames: 'runtime/default'
    seccomp.security.alpha.kubernetes.io/defaultProfileName:  'docker/default'
    apparmor.security.beta.kubernetes.io/defaultProfileName:  'runtime/default'
spec:
  privileged: false
  allowPrivilegeEscalation: false
  requiredDropCapabilities:
    - ALL
  volumes:
    - 'configMap'
    - 'emptyDir'
    - 'projected'
    - 'secret'
    - 'downwardAPI'
    - 'persistentVolumeClaim'
  hostNetwork: false
  hostIPC: false
  hostPID: false
  runAsUser:
    rule: 'RunAsAny'
  seLinux:
    rule: 'RunAsAny'
  supplementalGroups:
    rule: 'RunAsAny'
  fsGroup:
    rule: 'RunAsAny'
  readOnlyRootFilesystem: false
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/charts/prometheus-node-exporter/templates/psp.yaml
apiVersion: extensions/v1beta1
kind: PodSecurityPolicy
metadata:
  labels:     
    app: prometheus-node-exporter
    heritage: Helm
    release: my-pipeline-cp-monitor
    chart: prometheus-node-exporter-0.5.1
    jobLabel: node-exporter
  name: my-pipeline-cp-monitor-prometheus-node-exporter
spec:
  privileged: false
  # Required to prevent escalations to root.
  # allowPrivilegeEscalation: false
  # This is redundant with non-root + disallow privilege escalation,
  # but we can provide it for defense in depth.
  #requiredDropCapabilities:
  #  - ALL
  # Allow core volume types.
  volumes:
    - 'configMap'
    - 'emptyDir'
    - 'projected'
    - 'secret'
    - 'downwardAPI'
    - 'persistentVolumeClaim'
    - 'hostPath'
  hostNetwork: true
  hostIPC: false
  hostPID: true
  hostPorts:
    - min: 0
      max: 65535
  runAsUser:
    # Permits the container to run with root privileges as well.
    rule: 'RunAsAny'
  seLinux:
    # This policy assumes the nodes are using AppArmor rather than SELinux.
    rule: 'RunAsAny'
  supplementalGroups:
    rule: 'MustRunAs'
    ranges:
      # Forbid adding the root group.
      - min: 0
        max: 65535
  fsGroup:
    rule: 'MustRunAs'
    ranges:
      # Forbid adding the root group.
      - min: 0
        max: 65535
  readOnlyRootFilesystem: false
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/alertmanager/psp.yaml
apiVersion: policy/v1beta1
kind: PodSecurityPolicy
metadata:
  name: my-pipeline-cp-monitor-pro-alertmanager
  labels:
    app: prometheus-operator-alertmanager
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
spec:
  privileged: false
  # Required to prevent escalations to root.
  # allowPrivilegeEscalation: false
  # This is redundant with non-root + disallow privilege escalation,
  # but we can provide it for defense in depth.
  #requiredDropCapabilities:
  #  - ALL
  # Allow core volume types.
  volumes:
    - 'configMap'
    - 'emptyDir'
    - 'projected'
    - 'secret'
    - 'downwardAPI'
    - 'persistentVolumeClaim'
  hostNetwork: false
  hostIPC: false
  hostPID: false
  runAsUser:
    # Permits the container to run with root privileges as well.
    rule: 'RunAsAny'
  seLinux:
    # This policy assumes the nodes are using AppArmor rather than SELinux.
    rule: 'RunAsAny'
  supplementalGroups:
    rule: 'MustRunAs'
    ranges:
      # Forbid adding the root group.
      - min: 0
        max: 65535
  fsGroup:
    rule: 'MustRunAs'
    ranges:
      # Forbid adding the root group.
      - min: 0
        max: 65535
  readOnlyRootFilesystem: false
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/prometheus-operator/psp.yaml
apiVersion: policy/v1beta1
kind: PodSecurityPolicy
metadata:
  name: my-pipeline-cp-monitor-pro-operator
  labels:
    app: prometheus-operator-operator
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
spec:
  privileged: false
  # Required to prevent escalations to root.
  # allowPrivilegeEscalation: false
  # This is redundant with non-root + disallow privilege escalation,
  # but we can provide it for defense in depth.
  #requiredDropCapabilities:
  #  - ALL
  # Allow core volume types.
  volumes:
    - 'configMap'
    - 'emptyDir'
    - 'projected'
    - 'secret'
    - 'downwardAPI'
    - 'persistentVolumeClaim'
  hostNetwork: false
  hostIPC: false
  hostPID: false
  runAsUser:
    # Permits the container to run with root privileges as well.
    rule: 'RunAsAny'
  seLinux:
    # This policy assumes the nodes are using AppArmor rather than SELinux.
    rule: 'RunAsAny'
  supplementalGroups:
    rule: 'MustRunAs'
    ranges:
      # Forbid adding the root group.
      - min: 0
        max: 65535
  fsGroup:
    rule: 'MustRunAs'
    ranges:
      # Forbid adding the root group.
      - min: 0
        max: 65535
  readOnlyRootFilesystem: false
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/prometheus/psp.yaml
apiVersion: policy/v1beta1
kind: PodSecurityPolicy
metadata:
  name: my-pipeline-cp-monitor-pro-prometheus
  labels:
    app: prometheus-operator-prometheus
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
spec:
  privileged: false
  # Required to prevent escalations to root.
  # allowPrivilegeEscalation: false
  # This is redundant with non-root + disallow privilege escalation,
  # but we can provide it for defense in depth.
  #requiredDropCapabilities:
  #  - ALL
  # Allow core volume types.
  volumes:
    - 'configMap'
    - 'emptyDir'
    - 'projected'
    - 'secret'
    - 'downwardAPI'
    - 'persistentVolumeClaim'
  hostNetwork: false
  hostIPC: false
  hostPID: false
  runAsUser:
    # Permits the container to run with root privileges as well.
    rule: 'RunAsAny'
  seLinux:
    # This policy assumes the nodes are using AppArmor rather than SELinux.
    rule: 'RunAsAny'
  supplementalGroups:
    rule: 'MustRunAs'
    ranges:
      # Forbid adding the root group.
      - min: 0
        max: 65535
  fsGroup:
    rule: 'MustRunAs'
    ranges:
      # Forbid adding the root group.
      - min: 0
        max: 65535
  readOnlyRootFilesystem: false
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/charts/grafana/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  labels:
    app: grafana
    chart: grafana-1.17.2
    heritage: Helm
    release: my-pipeline-cp-monitor
  name: my-pipeline-cp-monitor-grafana
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/charts/kube-state-metrics/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  labels:
    app: kube-state-metrics
    chart: kube-state-metrics-0.11.0
    heritage: Helm
    release: my-pipeline-cp-monitor
  name: my-pipeline-cp-monitor-kube-state-metrics
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/charts/prometheus-node-exporter/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: my-pipeline-cp-monitor-prometheus-node-exporter
  labels:
    app: prometheus-node-exporter
    chart: prometheus-node-exporter-0.5.1    
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
imagePullSecrets: 
  null
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/alertmanager/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: my-pipeline-cp-monitor-pro-alertmanager
  labels:
    app: prometheus-operator-alertmanager
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
imagePullSecrets:
  []
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/prometheus-operator/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: my-pipeline-cp-monitor-pro-operator
  labels:
    app: prometheus-operator-operator
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
imagePullSecrets:
  []
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/prometheus/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: my-pipeline-cp-monitor-pro-prometheus
  labels:
    app: prometheus-operator-prometheus
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
imagePullSecrets:
  []
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/charts/grafana/templates/secret.yaml
apiVersion: v1
kind: Secret
metadata:
  name: my-pipeline-cp-monitor-grafana
  labels:
    app: grafana
    chart: grafana-1.17.2
    release: my-pipeline-cp-monitor
    heritage: Helm
type: Opaque
data:
  admin-user: "YWRtaW4="
  admin-password: "cHJvbS1vcGVyYXRvcg=="
  ldap-toml: ""
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/alertmanager/secret.yaml
apiVersion: v1
kind: Secret
metadata:
  name: alertmanager-my-pipeline-cp-monitor-pro-alertmanager
  labels:
    app: prometheus-operator-alertmanager
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
data:
  alertmanager.yaml: "Z2xvYmFsOgogIHJlc29sdmVfdGltZW91dDogNW0KcmVjZWl2ZXJzOgotIG5hbWU6ICJudWxsIgpyb3V0ZToKICBncm91cF9ieToKICAtIGpvYgogIGdyb3VwX2ludGVydmFsOiA1bQogIGdyb3VwX3dhaXQ6IDMwcwogIHJlY2VpdmVyOiAibnVsbCIKICByZXBlYXRfaW50ZXJ2YWw6IDEyaAogIHJvdXRlczoKICAtIG1hdGNoOgogICAgICBhbGVydG5hbWU6IERlYWRNYW5zU3dpdGNoCiAgICByZWNlaXZlcjogIm51bGwi"
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/charts/grafana/templates/configmap-dashboard-provider.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  labels:
    app: grafana
    chart: grafana-1.17.2
    release: my-pipeline-cp-monitor
    heritage: Helm
  name: my-pipeline-cp-monitor-grafana-config-dashboards
data:
  provider.yaml: |-
    apiVersion: 1
    providers:
    - name: 'default'
      orgId: 1
      folder: ''
      type: file
      disableDeletion: false
      options:
        path: /tmp/dashboards
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/charts/grafana/templates/configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: my-pipeline-cp-monitor-grafana
  labels:
    app: grafana
    chart: grafana-1.17.2
    release: my-pipeline-cp-monitor
    heritage: Helm
data:
  grafana.ini: |
    [analytics]
    check_for_updates = true
    [grafana_net]
    url = https://grafana.net
    [log]
    mode = console
    [paths]
    data = /var/lib/grafana/data
    logs = /var/log/grafana
    plugins = /var/lib/grafana/plugins
    provisioning = /etc/grafana/provisioning
    [server]
    root_url = %(protocol)s://%(domain)s/grafana
  dashboardproviders.yaml: |
    apiVersion: 1
    providers:
    - disableDeletion: false
      editable: true
      folder: ""
      name: default
      options:
        path: /var/lib/grafana/dashboards/default
      orgId: 1
      type: file
  download_dashboards.sh: |
    #!/usr/bin/env sh
    set -euf
    mkdir -p /var/lib/grafana/dashboards/default
    curl -sk \
    --connect-timeout 60 \
    --max-time 60 \
    -H "Accept: application/json" \
    -H "Content-Type: application/json;charset=UTF-8" \https://grafana.com/api/dashboards/5312/revisions/1/download| sed 's|\"datasource\":[^,]*|\"datasource\": \"Prometheus\"|g' \
    > /var/lib/grafana/dashboards/default/cluster.json
    curl -sk \
    --connect-timeout 60 \
    --max-time 60 \
    -H "Accept: application/json" \
    -H "Content-Type: application/json;charset=UTF-8" \https://grafana.com/api/dashboards/741/revisions/1/download| sed 's|\"datasource\":[^,]*|\"datasource\": \"Prometheus\"|g' \
    > /var/lib/grafana/dashboards/default/deployment.json
    curl -sk \
    --connect-timeout 60 \
    --max-time 60 \
    -H "Accept: application/json" \
    -H "Content-Type: application/json;charset=UTF-8" \https://grafana.com/api/dashboards/1621/revisions/1/download| sed 's|\"datasource\":[^,]*|\"datasource\": \"Prometheus\"|g' \
    > /var/lib/grafana/dashboards/default/kubernetes.json
    curl -sk \
    --connect-timeout 60 \
    --max-time 60 \
    -H "Accept: application/json" \
    -H "Content-Type: application/json;charset=UTF-8" \https://s3-eu-west-1.amazonaws.com/banzai-grafana/Mysql.json| sed 's|\"datasource\":[^,]*|\"datasource\": \"Prometheus\"|g' \
    > /var/lib/grafana/dashboards/default/mysql.json
    curl -sk \
    --connect-timeout 60 \
    --max-time 60 \
    -H "Accept: application/json" \
    -H "Content-Type: application/json;charset=UTF-8" \https://grafana.com/api/dashboards/747/revisions/2/download| sed 's|\"datasource\":[^,]*|\"datasource\": \"Prometheus\"|g' \
    > /var/lib/grafana/dashboards/default/pod.json
    curl -sk \
    --connect-timeout 60 \
    --max-time 60 \
    -H "Accept: application/json" \
    -H "Content-Type: application/json;charset=UTF-8" \https://grafana.com/api/dashboards/7700/revisions/3/download| sed 's|\"datasource\":[^,]*|\"datasource\": \"Prometheus\"|g' \
    > /var/lib/grafana/dashboards/default/vault.json
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/charts/grafana/templates/dashboards-json-configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: my-pipeline-cp-monitor-grafana-dashboards-default
  labels:
    app: grafana
    chart: grafana-1.17.2
    release: my-pipeline-cp-monitor
    heritage: Helm
    dashboard-provider: default
data:
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/grafana/configmaps-datasources.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: my-pipeline-cp-monitor-pro-grafana-datasource
  labels:
    pipeline_grafana_datasource: "1"
    app: prometheus-operator-grafana
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
data:
  datasource.yaml: |-
    apiVersion: 1
    datasources:
    - name: Prometheus
      type: prometheus
      url: http://my-pipeline-cp-monitor-pro-prometheus:9090/
      access: proxy
      isDefault: true
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/charts/grafana/templates/clusterrole.yaml
kind: ClusterRole
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  labels:
    app: grafana
    chart: grafana-1.17.2
    release: my-pipeline-cp-monitor
    heritage: Helm
  name: my-pipeline-cp-monitor-grafana-clusterrole
rules:
- apiGroups: [""] # "" indicates the core API group
  resources: ["configmaps"]
  verbs: ["get", "watch", "list"]
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/charts/kube-state-metrics/templates/clusterrole.yaml
apiVersion: rbac.authorization.k8s.io/v1beta1
kind: ClusterRole
metadata:
  labels:
    app: kube-state-metrics
    chart: kube-state-metrics-0.11.0
    heritage: Helm
    release: my-pipeline-cp-monitor
  name: my-pipeline-cp-monitor-kube-state-metrics
rules:

- apiGroups: ["batch"]
  resources:
  - cronjobs
  verbs: ["list", "watch"]

- apiGroups: ["extensions"]
  resources:
  - daemonsets
  verbs: ["list", "watch"]

- apiGroups: ["extensions"]
  resources:
  - deployments
  verbs: ["list", "watch"]

- apiGroups: [""]
  resources:
  - endpoints
  verbs: ["list", "watch"]

- apiGroups: ["autoscaling"]
  resources:
  - horizontalpodautoscalers
  verbs: ["list", "watch"]

- apiGroups: ["batch"]
  resources:
  - jobs
  verbs: ["list", "watch"]

- apiGroups: [""]
  resources:
  - limitranges
  verbs: ["list", "watch"]

- apiGroups: [""]
  resources:
  - namespaces
  verbs: ["list", "watch"]

- apiGroups: [""]
  resources:
  - nodes
  verbs: ["list", "watch"]

- apiGroups: [""]
  resources:
  - persistentvolumeclaims
  verbs: ["list", "watch"]


- apiGroups: [""]
  resources:
  - persistentvolumes
  verbs: ["list", "watch"]


- apiGroups: [""]
  resources:
  - pods
  verbs: ["list", "watch"]

- apiGroups: ["extensions"]
  resources:
  - replicasets
  verbs: ["list", "watch"]

- apiGroups: [""]
  resources:
  - replicationcontrollers
  verbs: ["list", "watch"]

- apiGroups: [""]
  resources:
  - resourcequotas
  verbs: ["list", "watch"]

- apiGroups: [""]
  resources:
  - services
  verbs: ["list", "watch"]

- apiGroups: ["apps"]
  resources:
  - statefulsets
  verbs: ["list", "watch"]
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/charts/prometheus-node-exporter/templates/psp-clusterrole.yaml
kind: ClusterRole
apiVersion: rbac.authorization.k8s.io/v1beta1
metadata:
  labels:     
    app: prometheus-node-exporter
    heritage: Helm
    release: my-pipeline-cp-monitor
    chart: prometheus-node-exporter-0.5.1
    jobLabel: node-exporter
  name: psp-my-pipeline-cp-monitor-prometheus-node-exporter
rules:
- apiGroups: ['extensions']
  resources: ['podsecuritypolicies']
  verbs:     ['use']
  resourceNames:
  - my-pipeline-cp-monitor-prometheus-node-exporter
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/alertmanager/psp-clusterrole.yaml
kind: ClusterRole
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: my-pipeline-cp-monitor-pro-alertmanager
  labels:
    app: prometheus-operator-alertmanager
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
rules:
- apiGroups: ['extensions']
  resources: ['podsecuritypolicies']
  verbs:     ['use']
  resourceNames:
  - my-pipeline-cp-monitor-pro-alertmanager
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/prometheus-operator/clusterrole.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: my-pipeline-cp-monitor-pro-operator
  labels:
    app: prometheus-operator-operator
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
rules:
- apiGroups:
  - apiextensions.k8s.io
  resources:
  - customresourcedefinitions
  verbs:
  - '*'
- apiGroups:
  - monitoring.coreos.com
  resources:
  - alertmanagers
  - prometheuses
  - prometheuses/finalizers
  - alertmanagers/finalizers
  - servicemonitors
  - prometheusrules
  verbs:
  - '*'
- apiGroups:
  - apps
  resources:
  - statefulsets
  verbs:
  - '*'
- apiGroups:
  - ""
  resources:
  - configmaps
  - secrets
  verbs:
  - '*'
- apiGroups:
  - ""
  resources:
  - pods
  verbs:
  - list
  - delete
- apiGroups:
  - ""
  resources:
  - services
  - endpoints
  verbs:
  - get
  - create
  - update
- apiGroups:
  - ""
  resources:
  - nodes
  verbs:
  - list
  - watch
- apiGroups:
  - ""
  resources:
  - namespaces
  verbs:
  - get
  - list
  - watch
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/prometheus-operator/psp-clusterrole.yaml
kind: ClusterRole
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: my-pipeline-cp-monitor-pro-operator-psp
  labels:
    app: prometheus-operator-operator
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
rules:
- apiGroups: ['extensions']
  resources: ['podsecuritypolicies']
  verbs:     ['use']
  resourceNames:
  - my-pipeline-cp-monitor-pro-operator
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/prometheus/clusterrole.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: my-pipeline-cp-monitor-pro-prometheus
  labels:
    app: prometheus-operator-prometheus
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
rules:
- apiGroups:
  - ""
  resources:
  - nodes/metrics
  verbs:
  - get
  - list
  - watch
# This permission are not in the prometheus-operator repo
# they're grabbed from https://github.com/prometheus/prometheus/blob/master/documentation/examples/rbac-setup.yml
- apiGroups: [""]
  resources:
  - nodes
  - nodes/proxy
  - services
  - endpoints
  - pods
  verbs: ["get", "list", "watch"]
- apiGroups:
  - extensions
  resources:
  - ingresses
  verbs: ["get", "list", "watch"]
- nonResourceURLs: ["/metrics"]
  verbs: ["get"]
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/prometheus/psp-clusterrole.yaml
kind: ClusterRole
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: my-pipeline-cp-monitor-pro-prometheus-psp
  labels:
    app: prometheus-operator-prometheus
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
rules:
- apiGroups: ['extensions']
  resources: ['podsecuritypolicies']
  verbs:     ['use']
  resourceNames:
  - my-pipeline-cp-monitor-pro-prometheus
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/charts/grafana/templates/clusterrolebinding.yaml
kind: ClusterRoleBinding
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: my-pipeline-cp-monitor-grafana-clusterrolebinding
  labels:
    app: grafana
    chart: grafana-1.17.2
    release: my-pipeline-cp-monitor
    heritage: Helm
subjects:
  - kind: ServiceAccount
    name: my-pipeline-cp-monitor-grafana
    namespace: default
roleRef:
  kind: ClusterRole
  name: my-pipeline-cp-monitor-grafana-clusterrole
  apiGroup: rbac.authorization.k8s.io
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/charts/kube-state-metrics/templates/clusterrolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1beta1
kind: ClusterRoleBinding
metadata:
  labels:
    app: kube-state-metrics
    chart: kube-state-metrics-0.11.0
    heritage: Helm
    release: my-pipeline-cp-monitor
  name: my-pipeline-cp-monitor-kube-state-metrics
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: my-pipeline-cp-monitor-kube-state-metrics
subjects:
- kind: ServiceAccount
  name: my-pipeline-cp-monitor-kube-state-metrics
  namespace: default
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/charts/prometheus-node-exporter/templates/psp-clusterrolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1beta1
kind: ClusterRoleBinding
metadata:
  labels:     
    app: prometheus-node-exporter
    heritage: Helm
    release: my-pipeline-cp-monitor
    chart: prometheus-node-exporter-0.5.1
    jobLabel: node-exporter
  name: psp-my-pipeline-cp-monitor-prometheus-node-exporter
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: psp-my-pipeline-cp-monitor-prometheus-node-exporter
subjects:
  - kind: ServiceAccount
    name: my-pipeline-cp-monitor-prometheus-node-exporter
    namespace: default
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/alertmanager/psp-clusterrolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: my-pipeline-cp-monitor-pro-alertmanager
  labels:
    app: prometheus-operator-alertmanager
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: my-pipeline-cp-monitor-pro-alertmanager
subjects:
  - kind: ServiceAccount
    name: my-pipeline-cp-monitor-pro-alertmanager
    namespace: default
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/prometheus-operator/clusterrolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: my-pipeline-cp-monitor-pro-operator
  labels:
    app: prometheus-operator-operator
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: my-pipeline-cp-monitor-pro-operator
subjects:
- kind: ServiceAccount
  name: my-pipeline-cp-monitor-pro-operator
  namespace: default
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/prometheus-operator/psp-clusterrolebinding.yaml
kind: ClusterRoleBinding
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: my-pipeline-cp-monitor-pro-operator-psp
  labels:
    app: prometheus-operator-operator
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: my-pipeline-cp-monitor-pro-operator-psp
subjects:
  - kind: ServiceAccount
    name: my-pipeline-cp-monitor-pro-operator
    namespace: default
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/prometheus/clusterrolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: my-pipeline-cp-monitor-pro-prometheus
  labels:
    app: prometheus-operator-prometheus
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: my-pipeline-cp-monitor-pro-prometheus
subjects:
  - kind: ServiceAccount
    name: my-pipeline-cp-monitor-pro-prometheus
    namespace: default
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/prometheus/psp-clusterrolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: my-pipeline-cp-monitor-pro-prometheus-psp
  labels:
    app: prometheus-operator-prometheus
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: my-pipeline-cp-monitor-pro-prometheus-psp
subjects:
  - kind: ServiceAccount
    name: my-pipeline-cp-monitor-pro-prometheus
    namespace: default
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/charts/grafana/templates/role.yaml
apiVersion: rbac.authorization.k8s.io/v1beta1
kind: Role
metadata:
  name: my-pipeline-cp-monitor-grafana
  labels:
    app: grafana
    chart: grafana-1.17.2
    heritage: Helm
    release: my-pipeline-cp-monitor
rules:
- apiGroups:      ['extensions']
  resources:      ['podsecuritypolicies']
  verbs:          ['use']
  resourceNames:  [my-pipeline-cp-monitor-grafana]
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/prometheus/role-config.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  name: my-pipeline-cp-monitor-pro-prometheus-config
  labels:
    app: prometheus-operator-prometheus
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
rules:
- apiGroups:
  - ""
  resources:
  - configmaps
  verbs:
  - get
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/prometheus/role-specificNamespace.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleList
items:
- apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    name: my-pipeline-cp-monitor-pro-prometheus
    labels:
      app: prometheus-operator-prometheus
      
      chart: prometheus-operator-0.1.20
      release: "my-pipeline-cp-monitor"
      heritage: "Helm"
    namespace: "kube-system"
  rules:
  - apiGroups:
    - ""
    resources:
    - nodes
    - services
    - endpoints
    - pods
    verbs:
    - get
    - list
    - watch
- apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    name: my-pipeline-cp-monitor-pro-prometheus
    labels:
      app: prometheus-operator-prometheus
      
      chart: prometheus-operator-0.1.20
      release: "my-pipeline-cp-monitor"
      heritage: "Helm"
    namespace: "default"
  rules:
  - apiGroups:
    - ""
    resources:
    - nodes
    - services
    - endpoints
    - pods
    verbs:
    - get
    - list
    - watch
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/charts/grafana/templates/rolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1beta1
kind: RoleBinding
metadata:
  name: my-pipeline-cp-monitor-grafana
  labels:
    app: grafana
    chart: grafana-1.17.2
    heritage: Helm
    release: my-pipeline-cp-monitor
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: Role
  name: my-pipeline-cp-monitor-grafana
subjects:
- kind: ServiceAccount
  name: my-pipeline-cp-monitor-grafana
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/prometheus/rolebinding-config.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: my-pipeline-cp-monitor-pro-prometheus-config
  labels:
    app: prometheus-operator-prometheus
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: Role
  name: my-pipeline-cp-monitor-pro-prometheus
subjects:
- kind: ServiceAccount
  name: my-pipeline-cp-monitor-pro-prometheus
  namespace: default
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/prometheus/rolebinding-specificNamespace.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBindingList
items:
- apiVersion: rbac.authorization.k8s.io/v1
  kind: RoleBinding
  metadata:
    name: my-pipeline-cp-monitor-pro-prometheus
    labels:
      app: prometheus-operator-prometheus
      
      chart: prometheus-operator-0.1.20
      release: "my-pipeline-cp-monitor"
      heritage: "Helm"
    namespace: "kube-system"
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: Role
    name: my-pipeline-cp-monitor-pro-prometheus
  subjects:
  - kind: ServiceAccount
    name: my-pipeline-cp-monitor-pro-prometheus
    namespace: default
- apiVersion: rbac.authorization.k8s.io/v1
  kind: RoleBinding
  metadata:
    name: my-pipeline-cp-monitor-pro-prometheus
    labels:
      app: prometheus-operator-prometheus
      
      chart: prometheus-operator-0.1.20
      release: "my-pipeline-cp-monitor"
      heritage: "Helm"
    namespace: "default"
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: Role
    name: my-pipeline-cp-monitor-pro-prometheus
  subjects:
  - kind: ServiceAccount
    name: my-pipeline-cp-monitor-pro-prometheus
    namespace: default
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/charts/grafana/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: my-pipeline-cp-monitor-grafana
  labels:
    app: grafana
    chart: grafana-1.17.2
    release: my-pipeline-cp-monitor
    heritage: Helm
spec:
  type: ClusterIP
  ports:
    - name: service
      port: 80
      protocol: TCP
      targetPort: 3000

  selector:
    app: grafana
    release: my-pipeline-cp-monitor
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/charts/kube-state-metrics/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: my-pipeline-cp-monitor-kube-state-metrics
  labels:
    app: kube-state-metrics
    chart: "kube-state-metrics-0.11.0"
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
  annotations:
    prometheus.io/scrape: 'true'
spec:
  type: "ClusterIP"
  ports:
  - name: "http"
    protocol: TCP
    port: 8080
    targetPort: 8080
  selector:
    app: kube-state-metrics
    release: my-pipeline-cp-monitor
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/charts/prometheus-node-exporter/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: my-pipeline-cp-monitor-prometheus-node-exporter
  annotations:
    prometheus.io/scrape: "true"
  labels:     
    app: prometheus-node-exporter
    heritage: Helm
    release: my-pipeline-cp-monitor
    chart: prometheus-node-exporter-0.5.1
    jobLabel: node-exporter
spec:
  type: ClusterIP
  ports:
    - port: 9100
      targetPort: 9100
      protocol: TCP
      name: metrics
  selector:
    app: prometheus-node-exporter
    release: my-pipeline-cp-monitor
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/alertmanager/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: my-pipeline-cp-monitor-pro-alertmanager
  labels:
    app: prometheus-operator-alertmanager
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
spec:
  ports:
    - name: web
      port: 9093
      targetPort: 9093
      protocol: TCP
  selector:
    app: alertmanager
    alertmanager: my-pipeline-cp-monitor-pro-alertmanager
  type: "ClusterIP"
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/exporters/core-dns/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: my-pipeline-cp-monitor-pro-coredns
  labels:
    app: prometheus-operator-coredns
    jobLabel: coredns
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
  namespace: kube-system
spec:
  clusterIP: None
  ports:
    - name: http-metrics
      port: 9153
      protocol: TCP
      targetPort: 9153
  selector:
    
    k8s-app: coredns
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/exporters/kube-controller-manager/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: my-pipeline-cp-monitor-pro-kube-controller-manager
  labels:
    app: prometheus-operator-kube-controller-manager
    jobLabel: kube-controller-manager
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
  namespace: kube-system
spec:
  clusterIP: None
  ports:
    - name: http-metrics
      port: 10252
      protocol: TCP
  selector:
    
    k8s-app: kube-controller-manager
  type: ClusterIP
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/exporters/kube-etcd/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: my-pipeline-cp-monitor-pro-kube-etcd
  labels:
    app: prometheus-operator-kube-etcd
    jobLabel: kube-etcd
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
  namespace: kube-system
spec:
  clusterIP: None
  ports:
    - name: http-metrics
      port: 4001
      protocol: TCP
      targetPort: 4001
  selector:
      
    k8s-app: etcd-server
  type: ClusterIP
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/exporters/kube-scheduler/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: my-pipeline-cp-monitor-pro-kube-scheduler
  labels:
    app: prometheus-operator-kube-scheduler
    jobLabel: kube-scheduler
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
  namespace: kube-system
spec:
  clusterIP: None
  ports:
    - name: http-metrics
      port: 10251
      protocol: TCP
      targetPort: 10251
  selector:
      
    k8s-app: kube-scheduler
  type: ClusterIP
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/prometheus-operator/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: my-pipeline-cp-monitor-pro-operator
  labels:
    app: prometheus-operator-operator
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
spec:
  clusterIP: None
  ports:
  - name: http
    port: 8080
    targetPort: http
  selector:
    app: prometheus-operator-operator
    release: "my-pipeline-cp-monitor"
  type: "ClusterIP"
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/prometheus/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: my-pipeline-cp-monitor-pro-prometheus
  labels:
    app: prometheus-operator-prometheus
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
spec:
  ports:
  - name: web
    port: 9090
    targetPort: web
  selector:
    app: prometheus
    prometheus: my-pipeline-cp-monitor-pro-prometheus
  type: "ClusterIP"
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/charts/prometheus-node-exporter/templates/daemonset.yaml
apiVersion: extensions/v1beta1
kind: DaemonSet
metadata:
  name: my-pipeline-cp-monitor-prometheus-node-exporter
  labels:     
    app: prometheus-node-exporter
    heritage: Helm
    release: my-pipeline-cp-monitor
    chart: prometheus-node-exporter-0.5.1
    jobLabel: node-exporter
spec:
  selector:
    matchLabels:
      app: prometheus-node-exporter
      release: my-pipeline-cp-monitor  
  updateStrategy:
    type: RollingUpdate
    rollingUpdate:
      maxUnavailable: 1      
  template:
    metadata:
      labels:         
        app: prometheus-node-exporter
        heritage: Helm
        release: my-pipeline-cp-monitor
        chart: prometheus-node-exporter-0.5.1
        jobLabel: node-exporter
    spec:
      serviceAccountName: my-pipeline-cp-monitor-prometheus-node-exporter      
      securityContext:
        runAsNonRoot: true
        runAsUser: 65534
      containers:
        - name: node-exporter
          image: "quay.io/prometheus/node-exporter:v0.16.0"
          imagePullPolicy: IfNotPresent
          args:
            - --path.procfs=/host/proc
            - --path.sysfs=/host/sys
            - --web.listen-address=0.0.0.0:9100
            - --collector.filesystem.ignored-mount-points=^/(dev|proc|sys|var/lib/docker/.+)($|/)
            - --collector.filesystem.ignored-fs-types=^(autofs|binfmt_misc|cgroup|configfs|debugfs|devpts|devtmpfs|fusectl|hugetlbfs|mqueue|overlay|proc|procfs|pstore|rpc_pipefs|securityfs|sysfs|tracefs)$
          ports:
            - name: metrics
              containerPort: 9100
              protocol: TCP
          livenessProbe:
            httpGet:
              path: /
              port: 9100
          readinessProbe:
            httpGet:
              path: /
              port: 9100
          resources:
            {}
          volumeMounts:
            - name: proc
              mountPath: /host/proc
              readOnly:  true
            - name: sys
              mountPath: /host/sys
              readOnly: true
      hostNetwork: true
      hostPID: true
      tolerations:
        - effect: NoSchedule
          operator: Exists
      volumes:
        - name: proc
          hostPath:
            path: /proc
        - name: sys
          hostPath:
            path: /sys
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/charts/grafana/templates/deployment.yaml
apiVersion: apps/v1beta2
kind: Deployment
metadata:
  name: my-pipeline-cp-monitor-grafana
  labels:
    app: grafana
    chart: grafana-1.17.2
    release: my-pipeline-cp-monitor
    heritage: Helm
spec:
  replicas: 1
  selector:
    matchLabels:
      app: grafana
      release: my-pipeline-cp-monitor
  strategy:
    type: RollingUpdate    
  template:
    metadata:
      labels:
        app: grafana
        release: my-pipeline-cp-monitor
    spec:
      serviceAccountName: my-pipeline-cp-monitor-grafana
      securityContext:
        fsGroup: 472
        runAsUser: 472
      initContainers:
        - name: download-dashboards
          image: "appropriate/curl:latest"
          imagePullPolicy: IfNotPresent
          command: ["sh", "/etc/grafana/download_dashboards.sh"]
          volumeMounts:
            - name: config
              mountPath: "/etc/grafana/download_dashboards.sh"
              subPath: download_dashboards.sh
            - name: storage
              mountPath: "/var/lib/grafana"
              subPath: 
      containers:
        - name: grafana-sc-dashboard
          image: "kiwigrid/k8s-sidecar:0.0.3"
          imagePullPolicy: IfNotPresent
          env:
            - name: LABEL
              value: "pipeline_grafana_dashboard"
            - name: FOLDER
              value: "/tmp/dashboards"
          resources:
            null
          volumeMounts:
            - name: sc-dashboard-volume
              mountPath: "/tmp/dashboards"
        - name: grafana-sc-datasources
          image: "kiwigrid/k8s-sidecar:0.0.3"
          imagePullPolicy: IfNotPresent
          env:
            - name: LABEL
              value: "pipeline_grafana_datasource"
            - name: FOLDER
              value: "/etc/grafana/provisioning/datasources"
          resources:
            null
          volumeMounts:
            - name: sc-datasources-volume
              mountPath: "/etc/grafana/provisioning/datasources"
        - name: grafana
          image: "grafana/grafana:5.3.1"
          imagePullPolicy: IfNotPresent
          volumeMounts:
            - name: config
              mountPath: "/etc/grafana/grafana.ini"
              subPath: grafana.ini
            - name: ldap
              mountPath: "/etc/grafana/ldap.toml"
              subPath: ldap.toml
            - name: config
              mountPath: "/etc/grafana/provisioning/dashboards/dashboardproviders.yaml"
              subPath: dashboardproviders.yaml
            - name: sc-dashboard-volume
              mountPath: "/tmp/dashboards"
            - name: sc-dashboard-provider
              mountPath: "/etc/grafana/provisioning/dashboards/sc-dashboardproviders.yaml"
              subPath: provider.yaml
            - name: sc-datasources-volume
              mountPath: "/etc/grafana/provisioning/datasources"
            - name: storage
              mountPath: "/var/lib/grafana"
              subPath: 
          ports:
            - name: service
              containerPort: 80
              protocol: TCP
            - name: grafana
              containerPort: 3000
              protocol: TCP
          env:
            - name: GF_SECURITY_ADMIN_USER
              valueFrom:
                secretKeyRef:
                  name: my-pipeline-cp-monitor-grafana
                  key: admin-user
            - name: GF_SECURITY_ADMIN_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: my-pipeline-cp-monitor-grafana
                  key: admin-password
          livenessProbe:
            failureThreshold: 10
            httpGet:
              path: /api/health
              port: 3000
            initialDelaySeconds: 60
            timeoutSeconds: 30
          readinessProbe:
            httpGet:
              path: /api/health
              port: 3000
          resources:
            {}
      volumes:
        - name: config
          configMap:
            name: my-pipeline-cp-monitor-grafana
        - name: dashboards-default
          configMap:
            name: my-pipeline-cp-monitor-grafana-dashboards-default
        - name: ldap
          secret:
            secretName: my-pipeline-cp-monitor-grafana
            items:
              - key: ldap-toml
                path: ldap.toml
        - name: storage
          emptyDir: {}
        - name: sc-dashboard-volume
          emptyDir: {}
        - name: sc-dashboard-provider
          configMap:
            name: my-pipeline-cp-monitor-grafana-config-dashboards
        - name: sc-datasources-volume
          emptyDir: {}
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/charts/kube-state-metrics/templates/deployment.yaml
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: my-pipeline-cp-monitor-kube-state-metrics
  labels:
    app: kube-state-metrics
    chart: "kube-state-metrics-0.11.0"
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
spec:
  replicas: 1
  template:
    metadata:
      labels:
        app: kube-state-metrics
        release: "my-pipeline-cp-monitor"
    spec:
      serviceAccountName: my-pipeline-cp-monitor-kube-state-metrics
      securityContext:
        fsGroup: 65534
        runAsUser: 65534
      containers:
      - name: kube-state-metrics
        args:

        - --collectors=cronjobs


        - --collectors=daemonsets


        - --collectors=deployments


        - --collectors=endpoints


        - --collectors=horizontalpodautoscalers


        - --collectors=jobs


        - --collectors=limitranges


        - --collectors=namespaces


        - --collectors=nodes


        - --collectors=persistentvolumeclaims


        - --collectors=persistentvolumes


        - --collectors=pods


        - --collectors=replicasets


        - --collectors=replicationcontrollers


        - --collectors=resourcequotas


        - --collectors=services


        - --collectors=statefulsets


        imagePullPolicy: IfNotPresent
        image: "quay.io/coreos/kube-state-metrics:v1.4.0"
        ports:
        - containerPort: 8080
        readinessProbe:
          httpGet:
            path: /healthz
            port: 8080
          initialDelaySeconds: 5
          timeoutSeconds: 5
        resources:
            null
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/prometheus-operator/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-pipeline-cp-monitor-pro-operator
  labels:
    app: prometheus-operator-operator
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
spec:
  replicas: 1
  selector:
    matchLabels:
      app: prometheus-operator-operator
      release: "my-pipeline-cp-monitor"
  template:
    metadata:
      labels:
        app: prometheus-operator-operator
        
        chart: prometheus-operator-0.1.20
        release: "my-pipeline-cp-monitor"
        heritage: "Helm"
    spec:
      containers:
        - name: prometheus-operator
          image: "quay.io/coreos/prometheus-operator:v0.25.0"
          imagePullPolicy: "IfNotPresent"
          args:
            - --kubelet-service=kube-system/my-pipeline-cp-monitor-pro-kubelet
            - --logtostderr=true
            - --localhost=127.0.0.1
            - --prometheus-config-reloader=quay.io/coreos/prometheus-config-reloader:v0.25.0
            - --config-reloader-image=quay.io/coreos/configmap-reload:v0.0.1
          ports:
            - containerPort: 8080
              name: http
          resources:
            {}
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
      securityContext:
        runAsNonRoot: true
        runAsUser: 65534
      serviceAccountName: my-pipeline-cp-monitor-pro-operator
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/alertmanager/alertmanager.yaml
apiVersion: monitoring.coreos.com/v1
kind: Alertmanager
metadata:
  name: my-pipeline-cp-monitor-pro-alertmanager
  labels:
    app: prometheus-operator-alertmanager
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
spec:
  baseImage: quay.io/prometheus/alertmanager
  version: v0.15.2
  replicas: 1
  listenLocal: false
  serviceAccountName: my-pipeline-cp-monitor-pro-alertmanager
  externalUrl: http://my-pipeline-cp-monitor-pro-alertmanager.default:9093
  paused: false
  logLevel:  "info"
  retention: "120h"
  routePrefix: "/"
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/grafana/configmap-dashboards.yaml
apiVersion: v1
kind: ConfigMapList
items:
- apiVersion: v1
  kind: ConfigMap
  metadata:
    name: my-pipeline-cp-monitor-pro-grafana-coredns-k8s
    labels:
      pipeline_grafana_dashboard: "1"
      app: prometheus-operator-grafana
      
      chart: prometheus-operator-0.1.20
      release: "my-pipeline-cp-monitor"
      heritage: "Helm"
  data:
    grafana-coredns-k8s.json: "{\n  \"annotations\": {\n    \"list\": [\n      {\n        \"builtIn\": 1,\n        \"datasource\": \"-- Grafana --\",\n        \"enable\": true,\n        \"hide\": true,\n        \"iconColor\": \"rgba(0, 211, 255, 1)\",\n        \"name\": \"Annotations \u0026 Alerts\",\n        \"type\": \"dashboard\"\n      }\n    ]\n  },\n  \"description\": \"A dashboard for the CoreDNS DNS server.\",\n  \"editable\": true,\n  \"gnetId\": 5926,\n  \"graphTooltip\": 0,\n  \"id\": 9,\n  \"iteration\": 1539947521873,\n  \"links\": [],\n  \"panels\": [\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 1,\n      \"grid\": {},\n      \"gridPos\": {\n        \"h\": 7,\n        \"w\": 8,\n        \"x\": 0,\n        \"y\": 0\n      },\n      \"id\": 1,\n      \"legend\": {\n        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [\n        {\n          \"alias\": \"total\",\n          \"yaxis\": 2\n        }\n      ],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n        {\n          \"expr\": \"sum(rate(coredns_dns_request_count_total{instance=~\\\"$instance\\\"}[5m])) by (proto)\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{proto}}\",\n          \"refId\": \"A\",\n          \"step\": 60\n        },\n        {\n          \"expr\": \"sum(rate(coredns_dns_request_count_total{instance=~\\\"$instance\\\"}[5m]))\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"total\",\n          \"refId\": \"B\",\n          \"step\": 60\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Requests (total)\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"sort\": 0,\n        \"value_type\": \"cumulative\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\": [\n        {\n          \"format\": \"pps\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": 0,\n          \"show\": true\n        },\n        {\n          \"format\": \"pps\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": 0,\n          \"show\": true\n        }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n        \"alignLevel\": null\n      }\n    },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 1,\n      \"grid\": {},\n      \"gridPos\": {\n        \"h\": 7,\n        \"w\": 8,\n        \"x\": 8,\n        \"y\": 0\n      },\n      \"id\": 12,\n      \"legend\": {\n        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [\n        {\n          \"alias\": \"total\",\n          \"yaxis\": 2\n        },\n        {\n          \"alias\": \"other\",\n          \"yaxis\": 2\n        }\n      ],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n        {\n          \"expr\": \"sum(rate(coredns_dns_request_type_count_total{instance=~\\\"$instance\\\"}[5m])) by (type)\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{type}}\",\n          \"refId\": \"A\",\n          \"step\": 60\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Requests (by qtype)\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"sort\": 0,\n        \"value_type\": \"cumulative\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\": [\n        {\n          \"format\": \"pps\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": 0,\n          \"show\": true\n        },\n        {\n          \"format\": \"pps\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": 0,\n          \"show\": true\n        }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n        \"alignLevel\": null\n      }\n    },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 1,\n      \"grid\": {},\n      \"gridPos\": {\n        \"h\": 7,\n        \"w\": 8,\n        \"x\": 16,\n        \"y\": 0\n      },\n      \"id\": 2,\n      \"legend\": {\n        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [\n        {\n          \"alias\": \"total\",\n          \"yaxis\": 2\n        }\n      ],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n        {\n          \"expr\": \"sum(rate(coredns_dns_request_count_total{instance=~\\\"$instance\\\"}[5m])) by (zone)\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{zone}}\",\n          \"refId\": \"A\",\n          \"step\": 60\n        },\n        {\n          \"expr\": \"sum(rate(coredns_dns_request_count_total{instance=~\\\"$instance\\\"}[5m]))\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"total\",\n          \"refId\": \"B\",\n          \"step\": 60\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Requests (by zone)\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"sort\": 0,\n        \"value_type\": \"cumulative\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\": [\n        {\n          \"format\": \"pps\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": 0,\n          \"show\": true\n        },\n        {\n          \"format\": \"pps\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": 0,\n          \"show\": true\n        }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n        \"alignLevel\": null\n      }\n    },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 1,\n      \"grid\": {},\n      \"gridPos\": {\n        \"h\": 7,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 7\n      },\n      \"id\": 10,\n      \"legend\": {\n        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [\n        {\n          \"alias\": \"total\",\n          \"yaxis\": 2\n        }\n      ],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n        {\n          \"expr\": \"sum(rate(coredns_dns_request_do_count_total{instance=~\\\"$instance\\\"}[5m]))\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"DO\",\n          \"refId\": \"A\",\n          \"step\": 40\n        },\n        {\n          \"expr\": \"sum(rate(coredns_dns_request_count_total{instance=~\\\"$instance\\\"}[5m]))\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"total\",\n          \"refId\": \"B\",\n          \"step\": 40\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Requests (DO bit)\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"sort\": 0,\n        \"value_type\": \"cumulative\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\": [\n        {\n          \"format\": \"pps\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": 0,\n          \"show\": true\n        },\n        {\n          \"format\": \"pps\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n        }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n        \"alignLevel\": null\n      }\n    },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 1,\n      \"grid\": {},\n      \"gridPos\": {\n        \"h\": 7,\n        \"w\": 6,\n        \"x\": 12,\n        \"y\": 7\n      },\n      \"id\": 9,\n      \"legend\": {\n        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [\n        {\n          \"alias\": \"tcp:90\",\n          \"yaxis\": 2\n        },\n        {\n          \"alias\": \"tcp:99 \",\n          \"yaxis\": 2\n        },\n        {\n          \"alias\": \"tcp:50\",\n          \"yaxis\": 2\n        }\n      ],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n        {\n          \"expr\": \"histogram_quantile(0.99, sum(rate(coredns_dns_request_size_bytes_bucket{instance=~\\\"$instance\\\",proto=\\\"udp\\\"}[5m])) by (le,proto))\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{proto}}:99 \",\n          \"refId\": \"A\",\n          \"step\": 60\n        },\n        {\n          \"expr\": \"histogram_quantile(0.90, sum(rate(coredns_dns_request_size_bytes_bucket{instance=~\\\"$instance\\\",proto=\\\"udp\\\"}[5m])) by (le,proto))\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{proto}}:90\",\n          \"refId\": \"B\",\n          \"step\": 60\n        },\n        {\n          \"expr\": \"histogram_quantile(0.50, sum(rate(coredns_dns_request_size_bytes_bucket{instance=~\\\"$instance\\\",proto=\\\"udp\\\"}[5m])) by (le,proto))\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{proto}}:50\",\n          \"refId\": \"C\",\n          \"step\": 60\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Requests (size, udp)\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"sort\": 0,\n        \"value_type\": \"cumulative\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\": [\n        {\n          \"format\": \"bytes\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": 0,\n          \"show\": true\n        },\n        {\n          \"format\": \"short\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": 0,\n          \"show\": true\n        }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n        \"alignLevel\": null\n      }\n    },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 1,\n      \"grid\": {},\n      \"gridPos\": {\n        \"h\": 7,\n        \"w\": 6,\n        \"x\": 18,\n        \"y\": 7\n      },\n      \"id\": 14,\n      \"legend\": {\n        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [\n        {\n          \"alias\": \"tcp:90\",\n          \"yaxis\": 1\n        },\n        {\n          \"alias\": \"tcp:99 \",\n          \"yaxis\": 1\n        },\n        {\n          \"alias\": \"tcp:50\",\n          \"yaxis\": 1\n        }\n      ],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n        {\n          \"expr\": \"histogram_quantile(0.99, sum(rate(coredns_dns_request_size_bytes_bucket{instance=~\\\"$instance\\\",proto=\\\"tcp\\\"}[5m])) by (le,proto))\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{proto}}:99 \",\n          \"refId\": \"A\",\n          \"step\": 60\n        },\n        {\n          \"expr\": \"histogram_quantile(0.90, sum(rate(coredns_dns_request_size_bytes_bucket{instance=~\\\"$instance\\\",proto=\\\"tcp\\\"}[5m])) by (le,proto))\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{proto}}:90\",\n          \"refId\": \"B\",\n          \"step\": 60\n        },\n        {\n          \"expr\": \"histogram_quantile(0.50, sum(rate(coredns_dns_request_size_bytes_bucket{instance=~\\\"$instance\\\",proto=\\\"tcp\\\"}[5m])) by (le,proto))\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{proto}}:50\",\n          \"refId\": \"C\",\n          \"step\": 60\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Requests (size,tcp)\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"sort\": 0,\n        \"value_type\": \"cumulative\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\": [\n        {\n          \"format\": \"bytes\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": 0,\n          \"show\": true\n        },\n        {\n          \"format\": \"short\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": 0,\n          \"show\": true\n        }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n        \"alignLevel\": null\n      }\n    },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 1,\n      \"grid\": {},\n      \"gridPos\": {\n        \"h\": 7,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 14\n      },\n      \"id\": 5,\n      \"legend\": {\n        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n        {\n          \"expr\": \"sum(rate(coredns_dns_response_rcode_count_total{instance=~\\\"$instance\\\"}[5m])) by (rcode)\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{rcode}}\",\n          \"refId\": \"A\",\n          \"step\": 40\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Responses (by rcode)\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"sort\": 0,\n        \"value_type\": \"cumulative\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\": [\n        {\n          \"format\": \"pps\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": 0,\n          \"show\": true\n        },\n        {\n          \"format\": \"short\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n        }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n        \"alignLevel\": null\n      }\n    },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 1,\n      \"grid\": {},\n      \"gridPos\": {\n        \"h\": 7,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\": 14\n      },\n      \"id\": 3,\n      \"legend\": {\n        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n        {\n          \"expr\": \"histogram_quantile(0.99, sum(rate(coredns_dns_request_duration_seconds_bucket{instance=~\\\"$instance\\\"}[5m])) by (le, job))\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"99%\",\n          \"refId\": \"A\",\n          \"step\": 40\n        },\n        {\n          \"expr\": \"histogram_quantile(0.90, sum(rate(coredns_dns_request_duration_seconds_bucket{instance=~\\\"$instance\\\"}[5m])) by (le))\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"90%\",\n          \"refId\": \"B\",\n          \"step\": 40\n        },\n        {\n          \"expr\": \"histogram_quantile(0.50, sum(rate(coredns_dns_request_duration_seconds_bucket{instance=~\\\"$instance\\\"}[5m])) by (le))\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"50%\",\n          \"refId\": \"C\",\n          \"step\": 40\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Responses (duration)\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"sort\": 0,\n        \"value_type\": \"cumulative\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\": [\n        {\n          \"format\": \"ms\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": 0,\n          \"show\": true\n        },\n        {\n          \"format\": \"short\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n        }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n        \"alignLevel\": null\n      }\n    },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 1,\n      \"grid\": {},\n      \"gridPos\": {\n        \"h\": 7,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 21\n      },\n      \"id\": 8,\n      \"legend\": {\n        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [\n        {\n          \"alias\": \"udp:50%\",\n          \"yaxis\": 1\n        },\n        {\n          \"alias\": \"tcp:50%\",\n          \"yaxis\": 2\n        },\n        {\n          \"alias\": \"tcp:90%\",\n          \"yaxis\": 2\n        },\n        {\n          \"alias\": \"tcp:99%\",\n          \"yaxis\": 2\n        }\n      ],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n        {\n          \"expr\": \"histogram_quantile(0.99, sum(rate(coredns_dns_response_size_bytes_bucket{instance=~\\\"$instance\\\",proto=\\\"udp\\\"}[5m])) by (le,proto)) \",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{proto}}:99%\",\n          \"refId\": \"A\",\n          \"step\": 40\n        },\n        {\n          \"expr\": \"histogram_quantile(0.90, sum(rate(coredns_dns_response_size_bytes_bucket{instance=\\\"$instance\\\",proto=\\\"udp\\\"}[5m])) by (le,proto)) \",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{proto}}:90%\",\n          \"refId\": \"B\",\n          \"step\": 40\n        },\n        {\n          \"expr\": \"histogram_quantile(0.50, sum(rate(coredns_dns_response_size_bytes_bucket{instance=~\\\"$instance\\\",proto=\\\"udp\\\"}[5m])) by (le,proto)) \",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{proto}}:50%\",\n          \"metric\": \"\",\n          \"refId\": \"C\",\n          \"step\": 40\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Responses (size, udp)\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"sort\": 0,\n        \"value_type\": \"cumulative\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\": [\n        {\n          \"format\": \"bytes\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": 0,\n          \"show\": true\n        },\n        {\n          \"format\": \"short\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": 0,\n          \"show\": true\n        }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n        \"alignLevel\": null\n      }\n    },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 1,\n      \"grid\": {},\n      \"gridPos\": {\n        \"h\": 7,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\": 21\n      },\n      \"id\": 13,\n      \"legend\": {\n        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [\n        {\n          \"alias\": \"udp:50%\",\n          \"yaxis\": 1\n        },\n        {\n          \"alias\": \"tcp:50%\",\n          \"yaxis\": 1\n        },\n        {\n          \"alias\": \"tcp:90%\",\n          \"yaxis\": 1\n        },\n        {\n          \"alias\": \"tcp:99%\",\n          \"yaxis\": 1\n        }\n      ],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n        {\n          \"expr\": \"histogram_quantile(0.99, sum(rate(coredns_dns_response_size_bytes_bucket{instance=~\\\"$instance\\\",proto=\\\"tcp\\\"}[5m])) by (le,proto)) \",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{proto}}:99%\",\n          \"refId\": \"A\",\n          \"step\": 40\n        },\n        {\n          \"expr\": \"histogram_quantile(0.90, sum(rate(coredns_dns_response_size_bytes_bucket{instance=~\\\"$instance\\\",proto=\\\"tcp\\\"}[5m])) by (le,proto)) \",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{proto}}:90%\",\n          \"refId\": \"B\",\n          \"step\": 40\n        },\n        {\n          \"expr\": \"histogram_quantile(0.50, sum(rate(coredns_dns_response_size_bytes_bucket{instance=~\\\"$instance\\\",proto=\\\"tcp\\\"}[5m])) by (le, proto)) \",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{proto}}:50%\",\n          \"metric\": \"\",\n          \"refId\": \"C\",\n          \"step\": 40\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Responses (size, tcp)\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"sort\": 0,\n        \"value_type\": \"cumulative\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\": [\n        {\n          \"format\": \"bytes\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": 0,\n          \"show\": true\n        },\n        {\n          \"format\": \"short\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": 0,\n          \"show\": true\n        }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n        \"alignLevel\": null\n      }\n    },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 1,\n      \"grid\": {},\n      \"gridPos\": {\n        \"h\": 7,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 28\n      },\n      \"id\": 15,\n      \"legend\": {\n        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n        {\n          \"expr\": \"sum(coredns_cache_size{instance=~\\\"$instance\\\"}) by (type)\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{type}}\",\n          \"refId\": \"A\",\n          \"step\": 40\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Cache (size)\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"sort\": 0,\n        \"value_type\": \"cumulative\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\": [\n        {\n          \"format\": \"short\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": 0,\n          \"show\": true\n        },\n        {\n          \"format\": \"short\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": 0,\n          \"show\": true\n        }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n        \"alignLevel\": null\n      }\n    },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 1,\n      \"grid\": {},\n      \"gridPos\": {\n        \"h\": 7,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\": 28\n      },\n      \"id\": 16,\n      \"legend\": {\n        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [\n        {\n          \"alias\": \"misses\",\n          \"yaxis\": 2\n        }\n      ],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n        {\n          \"expr\": \"sum(rate(coredns_cache_hits_total{instance=~\\\"$instance\\\"}[5m])) by (type)\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"hits:{{type}}\",\n          \"refId\": \"A\",\n          \"step\": 40\n        },\n        {\n          \"expr\": \"sum(rate(coredns_cache_misses_total{instance=~\\\"$instance\\\"}[5m])) by (type)\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"misses\",\n          \"refId\": \"B\",\n          \"step\": 40\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Cache (hitrate)\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"sort\": 0,\n        \"value_type\": \"cumulative\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\": [\n        {\n          \"format\": \"pps\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": 0,\n          \"show\": true\n        },\n        {\n          \"format\": \"pps\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": 0,\n          \"show\": true\n        }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n        \"alignLevel\": null\n      }\n    }\n  ],\n  \"schemaVersion\": 16,\n  \"style\": \"dark\",\n  \"tags\": [],\n  \"templating\": {\n    \"list\": [\n      {\n        \"allValue\": \".*\",\n        \"current\": {\n          \"selected\": true,\n          \"tags\": [],\n          \"text\": \"172.16.1.8:9153\",\n          \"value\": \"172.16.1.8:9153\"\n        },\n        \"datasource\": \"Prometheus\",\n        \"hide\": 0,\n        \"includeAll\": true,\n        \"label\": \"Instance\",\n        \"multi\": false,\n        \"name\": \"instance\",\n        \"options\": [],\n        \"query\": \"up{job=\\\"coredns\\\"}\",\n        \"refresh\": 1,\n        \"regex\": \".*instance=\\\"(.*?)\\\".*\",\n        \"skipUrlSync\": false,\n        \"sort\": 0,\n        \"tagValuesQuery\": \"\",\n        \"tags\": [],\n        \"tagsQuery\": \"\",\n        \"type\": \"query\",\n        \"useTags\": false\n      }\n    ]\n  },\n  \"time\": {\n    \"from\": \"now-3h\",\n    \"to\": \"now\"\n  },\n  \"timepicker\": {\n    \"now\": true,\n    \"refresh_intervals\": [\n      \"5s\",\n      \"10s\",\n      \"30s\",\n      \"1m\",\n      \"5m\",\n      \"15m\",\n      \"30m\",\n      \"1h\",\n      \"2h\",\n      \"1d\"\n    ],\n    \"time_options\": [\n      \"5m\",\n      \"15m\",\n      \"1h\",\n      \"6h\",\n      \"12h\",\n      \"24h\",\n      \"2d\",\n      \"7d\",\n      \"30d\"\n    ]\n  },\n  \"timezone\": \"utc\",\n  \"title\": \"CoreDNS\",\n  \"uid\": \"vkQ0UHxik\",\n  \"version\": 1\n}\n"
- apiVersion: v1
  kind: ConfigMap
  metadata:
    name: my-pipeline-cp-monitor-pro-grafana-dashboard-etcd
    labels:
      pipeline_grafana_dashboard: "1"
      app: prometheus-operator-grafana
      
      chart: prometheus-operator-0.1.20
      release: "my-pipeline-cp-monitor"
      heritage: "Helm"
  data:
    grafana-dashboard-etcd.json: "{\n  \"annotations\": {\n      \"list\": [\n      {\n          \"builtIn\": 1,\n          \"datasource\": \"-- Grafana --\",\n          \"enable\": true,\n          \"hide\": true,\n          \"iconColor\": \"rgba(0, 211, 255, 1)\",\n          \"name\": \"Annotations \u0026 Alerts\",\n          \"type\": \"dashboard\"\n      }\n      ]\n  },\n  \"description\": \"Etcd Dashboard for Prometheus metrics scraper\",\n  \"editable\": true,\n  \"gnetId\": 3070,\n  \"graphTooltip\": 0,\n  \"id\": 8,\n  \"links\": [],\n  \"panels\": [\n      {\n      \"cacheTimeout\": null,\n      \"colorBackground\": false,\n      \"colorValue\": true,\n      \"colors\": [\n          \"rgba(245, 54, 54, 0.9)\",\n          \"rgba(237, 129, 40, 0.89)\",\n          \"rgba(50, 172, 45, 0.97)\"\n      ],\n      \"datasource\": \"Prometheus\",\n      \"format\": \"none\",\n      \"gauge\": {\n          \"maxValue\": 100,\n          \"minValue\": 0,\n          \"show\": false,\n          \"thresholdLabels\": false,\n          \"thresholdMarkers\": true\n      },\n      \"gridPos\": {\n          \"h\": 7,\n          \"w\": 8,\n          \"x\": 0,\n          \"y\": 0\n      },\n      \"id\": 44,\n      \"interval\": null,\n      \"links\": [],\n      \"mappingType\": 1,\n      \"mappingTypes\": [\n          {\n          \"name\": \"value to text\",\n          \"value\": 1\n          },\n          {\n          \"name\": \"range to text\",\n          \"value\": 2\n          }\n      ],\n      \"maxDataPoints\": 100,\n      \"nullPointMode\": \"connected\",\n      \"nullText\": null,\n      \"postfix\": \"\",\n      \"postfixFontSize\": \"50%\",\n      \"prefix\": \"\",\n      \"prefixFontSize\": \"50%\",\n      \"rangeMaps\": [\n          {\n          \"from\": \"null\",\n          \"text\": \"N/A\",\n          \"to\": \"null\"\n          }\n      ],\n      \"sparkline\": {\n          \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n          \"full\": false,\n          \"lineColor\": \"rgb(31, 120, 193)\",\n          \"show\": false\n      },\n      \"tableColumn\": \"\",\n      \"targets\": [\n          {\n          \"expr\": \"max(etcd_server_has_leader)\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"refId\": \"A\",\n          \"step\": 600\n          }\n      ],\n      \"thresholds\": \"0,1\",\n      \"title\": \"Etcd has a leader?\",\n      \"type\": \"singlestat\",\n      \"valueFontSize\": \"80%\",\n      \"valueMaps\": [\n          {\n          \"op\": \"=\",\n          \"text\": \"YES\",\n          \"value\": \"1\"\n          },\n          {\n          \"op\": \"=\",\n          \"text\": \"NO\",\n          \"value\": \"0\"\n          }\n      ],\n      \"valueName\": \"avg\"\n      },\n      {\n      \"cacheTimeout\": null,\n      \"colorBackground\": false,\n      \"colorValue\": false,\n      \"colors\": [\n          \"rgba(245, 54, 54, 0.9)\",\n          \"rgba(237, 129, 40, 0.89)\",\n          \"rgba(50, 172, 45, 0.97)\"\n      ],\n      \"datasource\": \"Prometheus\",\n      \"format\": \"none\",\n      \"gauge\": {\n          \"maxValue\": 100,\n          \"minValue\": 0,\n          \"show\": false,\n          \"thresholdLabels\": false,\n          \"thresholdMarkers\": true\n      },\n      \"gridPos\": {\n          \"h\": 7,\n          \"w\": 8,\n          \"x\": 8,\n          \"y\": 0\n      },\n      \"id\": 42,\n      \"interval\": null,\n      \"links\": [],\n      \"mappingType\": 1,\n      \"mappingTypes\": [\n          {\n          \"name\": \"value to text\",\n          \"value\": 1\n          },\n          {\n          \"name\": \"range to text\",\n          \"value\": 2\n          }\n      ],\n      \"maxDataPoints\": 100,\n      \"nullPointMode\": \"connected\",\n      \"nullText\": null,\n      \"postfix\": \"\",\n      \"postfixFontSize\": \"50%\",\n      \"prefix\": \"\",\n      \"prefixFontSize\": \"50%\",\n      \"rangeMaps\": [\n          {\n          \"from\": \"null\",\n          \"text\": \"N/A\",\n          \"to\": \"null\"\n          }\n      ],\n      \"sparkline\": {\n          \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n          \"full\": false,\n          \"lineColor\": \"rgb(31, 120, 193)\",\n          \"show\": false\n      },\n      \"tableColumn\": \"\",\n      \"targets\": [\n          {\n          \"expr\": \"max(etcd_server_leader_changes_seen_total)\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"refId\": \"A\",\n          \"step\": 600\n          }\n      ],\n      \"thresholds\": \"\",\n      \"title\": \"The number of leader changes seen\",\n      \"type\": \"singlestat\",\n      \"valueFontSize\": \"80%\",\n      \"valueMaps\": [\n          {\n          \"op\": \"=\",\n          \"text\": \"N/A\",\n          \"value\": \"null\"\n          }\n      ],\n      \"valueName\": \"avg\"\n      },\n      {\n      \"cacheTimeout\": null,\n      \"colorBackground\": false,\n      \"colorValue\": false,\n      \"colors\": [\n          \"rgba(245, 54, 54, 0.9)\",\n          \"rgba(237, 129, 40, 0.89)\",\n          \"rgba(50, 172, 45, 0.97)\"\n      ],\n      \"datasource\": \"Prometheus\",\n      \"format\": \"none\",\n      \"gauge\": {\n          \"maxValue\": 100,\n          \"minValue\": 0,\n          \"show\": false,\n          \"thresholdLabels\": false,\n          \"thresholdMarkers\": true\n      },\n      \"gridPos\": {\n          \"h\": 7,\n          \"w\": 8,\n          \"x\": 16,\n          \"y\": 0\n      },\n      \"id\": 43,\n      \"interval\": null,\n      \"links\": [],\n      \"mappingType\": 1,\n      \"mappingTypes\": [\n          {\n          \"name\": \"value to text\",\n          \"value\": 1\n          },\n          {\n          \"name\": \"range to text\",\n          \"value\": 2\n          }\n      ],\n      \"maxDataPoints\": 100,\n      \"nullPointMode\": \"connected\",\n      \"nullText\": null,\n      \"postfix\": \"\",\n      \"postfixFontSize\": \"50%\",\n      \"prefix\": \"\",\n      \"prefixFontSize\": \"50%\",\n      \"rangeMaps\": [\n          {\n          \"from\": \"null\",\n          \"text\": \"N/A\",\n          \"to\": \"null\"\n          }\n      ],\n      \"sparkline\": {\n          \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n          \"full\": false,\n          \"lineColor\": \"rgb(31, 120, 193)\",\n          \"show\": false\n      },\n      \"tableColumn\": \"\",\n      \"targets\": [\n          {\n          \"expr\": \"max(etcd_server_leader_changes_seen_total)\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"refId\": \"A\",\n          \"step\": 600\n          }\n      ],\n      \"thresholds\": \"\",\n      \"title\": \"The total number of failed proposals seen\",\n      \"type\": \"singlestat\",\n      \"valueFontSize\": \"80%\",\n      \"valueMaps\": [\n          {\n          \"op\": \"=\",\n          \"text\": \"N/A\",\n          \"value\": \"null\"\n          }\n      ],\n      \"valueName\": \"avg\"\n      },\n      {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 0,\n      \"gridPos\": {\n          \"h\": 7,\n          \"w\": 12,\n          \"x\": 0,\n          \"y\": 7\n      },\n      \"id\": 23,\n      \"legend\": {\n          \"avg\": false,\n          \"current\": false,\n          \"max\": false,\n          \"min\": false,\n          \"show\": false,\n          \"total\": false,\n          \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n          {\n          \"expr\": \"sum(rate(grpc_server_started_total{grpc_type=\\\"unary\\\"}[5m]))\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"RPC Rate\",\n          \"metric\": \"grpc_server_started_total\",\n          \"refId\": \"A\",\n          \"step\": 60\n          },\n          {\n          \"expr\": \"sum(rate(grpc_server_handled_total{grpc_type=\\\"unary\\\",grpc_code!=\\\"OK\\\"}[5m]))\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"RPC Failed Rate\",\n          \"metric\": \"grpc_server_handled_total\",\n          \"refId\": \"B\",\n          \"step\": 60\n          }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"RPC Rate\",\n      \"tooltip\": {\n          \"msResolution\": false,\n          \"shared\": true,\n          \"sort\": 0,\n          \"value_type\": \"individual\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n          \"buckets\": null,\n          \"mode\": \"time\",\n          \"name\": null,\n          \"show\": true,\n          \"values\": []\n      },\n      \"yaxes\": [\n          {\n          \"format\": \"ops\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          },\n          {\n          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          }\n      ],\n      \"yaxis\": {\n          \"align\": false,\n          \"alignLevel\": null\n      }\n      },\n      {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 0,\n      \"gridPos\": {\n          \"h\": 7,\n          \"w\": 12,\n          \"x\": 12,\n          \"y\": 7\n      },\n      \"id\": 41,\n      \"legend\": {\n          \"avg\": false,\n          \"current\": false,\n          \"max\": false,\n          \"min\": false,\n          \"show\": false,\n          \"total\": false,\n          \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"stack\": true,\n      \"steppedLine\": false,\n      \"targets\": [\n          {\n          \"expr\": \"sum(grpc_server_started_total{grpc_service=\\\"etcdserverpb.Watch\\\",grpc_type=\\\"bidi_stream\\\"}) - sum(grpc_server_handled_total{grpc_service=\\\"etcdserverpb.Watch\\\",grpc_type=\\\"bidi_stream\\\"})\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"Watch Streams\",\n          \"metric\": \"grpc_server_handled_total\",\n          \"refId\": \"A\",\n          \"step\": 60\n          },\n          {\n          \"expr\": \"sum(grpc_server_started_total{grpc_service=\\\"etcdserverpb.Lease\\\",grpc_type=\\\"bidi_stream\\\"}) - sum(grpc_server_handled_total{grpc_service=\\\"etcdserverpb.Lease\\\",grpc_type=\\\"bidi_stream\\\"})\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"Lease Streams\",\n          \"metric\": \"grpc_server_handled_total\",\n          \"refId\": \"B\",\n          \"step\": 60\n          }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Active Streams\",\n      \"tooltip\": {\n          \"msResolution\": false,\n          \"shared\": true,\n          \"sort\": 0,\n          \"value_type\": \"individual\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n          \"buckets\": null,\n          \"mode\": \"time\",\n          \"name\": null,\n          \"show\": true,\n          \"values\": []\n      },\n      \"yaxes\": [\n          {\n          \"format\": \"short\",\n          \"label\": \"\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          },\n          {\n          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          }\n      ],\n      \"yaxis\": {\n          \"align\": false,\n          \"alignLevel\": null\n      }\n      },\n      {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"decimals\": null,\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 0,\n      \"grid\": {},\n      \"gridPos\": {\n          \"h\": 7,\n          \"w\": 8,\n          \"x\": 0,\n          \"y\": 14\n      },\n      \"id\": 1,\n      \"legend\": {\n          \"avg\": false,\n          \"current\": false,\n          \"max\": false,\n          \"min\": false,\n          \"show\": false,\n          \"total\": false,\n          \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n          {\n          \"expr\": \"etcd_debugging_mvcc_db_total_size_in_bytes\",\n          \"format\": \"time_series\",\n          \"hide\": false,\n          \"interval\": \"\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{instance}} DB Size\",\n          \"metric\": \"\",\n          \"refId\": \"A\",\n          \"step\": 120\n          }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"DB Size\",\n      \"tooltip\": {\n          \"msResolution\": false,\n          \"shared\": true,\n          \"sort\": 0,\n          \"value_type\": \"cumulative\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n          \"buckets\": null,\n          \"mode\": \"time\",\n          \"name\": null,\n          \"show\": true,\n          \"values\": []\n      },\n      \"yaxes\": [\n          {\n          \"format\": \"bytes\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          },\n          {\n          \"format\": \"short\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": false\n          }\n      ],\n      \"yaxis\": {\n          \"align\": false,\n          \"alignLevel\": null\n      }\n      },\n      {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 0,\n      \"grid\": {},\n      \"gridPos\": {\n          \"h\": 7,\n          \"w\": 8,\n          \"x\": 8,\n          \"y\": 14\n      },\n      \"id\": 3,\n      \"legend\": {\n          \"avg\": false,\n          \"current\": false,\n          \"max\": false,\n          \"min\": false,\n          \"show\": false,\n          \"total\": false,\n          \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 1,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": true,\n      \"targets\": [\n          {\n          \"expr\": \"histogram_quantile(0.99, sum(rate(etcd_disk_wal_fsync_duration_seconds_bucket[5m])) by (instance, le))\",\n          \"format\": \"time_series\",\n          \"hide\": false,\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{instance}} WAL fsync\",\n          \"metric\": \"etcd_disk_wal_fsync_duration_seconds_bucket\",\n          \"refId\": \"A\",\n          \"step\": 120\n          },\n          {\n          \"expr\": \"histogram_quantile(0.99, sum(rate(etcd_disk_backend_commit_duration_seconds_bucket[5m])) by (instance, le))\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{instance}} DB fsync\",\n          \"metric\": \"etcd_disk_backend_commit_duration_seconds_bucket\",\n          \"refId\": \"B\",\n          \"step\": 120\n          }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Disk Sync Duration\",\n      \"tooltip\": {\n          \"msResolution\": false,\n          \"shared\": true,\n          \"sort\": 0,\n          \"value_type\": \"cumulative\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n          \"buckets\": null,\n          \"mode\": \"time\",\n          \"name\": null,\n          \"show\": true,\n          \"values\": []\n      },\n      \"yaxes\": [\n          {\n          \"format\": \"s\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          },\n          {\n          \"format\": \"short\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": false\n          }\n      ],\n      \"yaxis\": {\n          \"align\": false,\n          \"alignLevel\": null\n      }\n      },\n      {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 0,\n      \"gridPos\": {\n          \"h\": 7,\n          \"w\": 8,\n          \"x\": 16,\n          \"y\": 14\n      },\n      \"id\": 29,\n      \"legend\": {\n          \"avg\": false,\n          \"current\": false,\n          \"max\": false,\n          \"min\": false,\n          \"show\": false,\n          \"total\": false,\n          \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n          {\n          \"expr\": \"process_resident_memory_bytes\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{instance}} Resident Memory\",\n          \"metric\": \"process_resident_memory_bytes\",\n          \"refId\": \"A\",\n          \"step\": 120\n          }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Memory\",\n      \"tooltip\": {\n          \"msResolution\": false,\n          \"shared\": true,\n          \"sort\": 0,\n          \"value_type\": \"individual\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n          \"buckets\": null,\n          \"mode\": \"time\",\n          \"name\": null,\n          \"show\": true,\n          \"values\": []\n      },\n      \"yaxes\": [\n          {\n          \"format\": \"bytes\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          },\n          {\n          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          }\n      ],\n      \"yaxis\": {\n          \"align\": false,\n          \"alignLevel\": null\n      }\n      },\n      {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 5,\n      \"gridPos\": {\n          \"h\": 7,\n          \"w\": 6,\n          \"x\": 0,\n          \"y\": 21\n      },\n      \"id\": 22,\n      \"legend\": {\n          \"avg\": false,\n          \"current\": false,\n          \"max\": false,\n          \"min\": false,\n          \"show\": false,\n          \"total\": false,\n          \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"stack\": true,\n      \"steppedLine\": false,\n      \"targets\": [\n          {\n          \"expr\": \"rate(etcd_network_client_grpc_received_bytes_total[5m])\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{instance}} Client Traffic In\",\n          \"metric\": \"etcd_network_client_grpc_received_bytes_total\",\n          \"refId\": \"A\",\n          \"step\": 120\n          }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Client Traffic In\",\n      \"tooltip\": {\n          \"msResolution\": false,\n          \"shared\": true,\n          \"sort\": 0,\n          \"value_type\": \"individual\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n          \"buckets\": null,\n          \"mode\": \"time\",\n          \"name\": null,\n          \"show\": true,\n          \"values\": []\n      },\n      \"yaxes\": [\n          {\n          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          },\n          {\n          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          }\n      ],\n      \"yaxis\": {\n          \"align\": false,\n          \"alignLevel\": null\n      }\n      },\n      {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 5,\n      \"gridPos\": {\n          \"h\": 7,\n          \"w\": 6,\n          \"x\": 6,\n          \"y\": 21\n      },\n      \"id\": 21,\n      \"legend\": {\n          \"avg\": false,\n          \"current\": false,\n          \"max\": false,\n          \"min\": false,\n          \"show\": false,\n          \"total\": false,\n          \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"stack\": true,\n      \"steppedLine\": false,\n      \"targets\": [\n          {\n          \"expr\": \"rate(etcd_network_client_grpc_sent_bytes_total[5m])\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{instance}} Client Traffic Out\",\n          \"metric\": \"etcd_network_client_grpc_sent_bytes_total\",\n          \"refId\": \"A\",\n          \"step\": 120\n          }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Client Traffic Out\",\n      \"tooltip\": {\n          \"msResolution\": false,\n          \"shared\": true,\n          \"sort\": 0,\n          \"value_type\": \"individual\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n          \"buckets\": null,\n          \"mode\": \"time\",\n          \"name\": null,\n          \"show\": true,\n          \"values\": []\n      },\n      \"yaxes\": [\n          {\n          \"format\": \"Bps\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          },\n          {\n          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          }\n      ],\n      \"yaxis\": {\n          \"align\": false,\n          \"alignLevel\": null\n      }\n      },\n      {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 0,\n      \"gridPos\": {\n          \"h\": 7,\n          \"w\": 6,\n          \"x\": 12,\n          \"y\": 21\n      },\n      \"id\": 20,\n      \"legend\": {\n          \"avg\": false,\n          \"current\": false,\n          \"max\": false,\n          \"min\": false,\n          \"show\": false,\n          \"total\": false,\n          \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n          {\n          \"expr\": \"sum(rate(etcd_network_peer_received_bytes_total[5m])) by (instance)\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{instance}} Peer Traffic In\",\n          \"metric\": \"etcd_network_peer_received_bytes_total\",\n          \"refId\": \"A\",\n          \"step\": 120\n          }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Peer Traffic In\",\n      \"tooltip\": {\n          \"msResolution\": false,\n          \"shared\": true,\n          \"sort\": 0,\n          \"value_type\": \"individual\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n          \"buckets\": null,\n          \"mode\": \"time\",\n          \"name\": null,\n          \"show\": true,\n          \"values\": []\n      },\n      \"yaxes\": [\n          {\n          \"format\": \"Bps\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          },\n          {\n          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          }\n      ],\n      \"yaxis\": {\n          \"align\": false,\n          \"alignLevel\": null\n      }\n      },\n      {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"decimals\": null,\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 0,\n      \"grid\": {},\n      \"gridPos\": {\n          \"h\": 7,\n          \"w\": 6,\n          \"x\": 18,\n          \"y\": 21\n      },\n      \"id\": 16,\n      \"legend\": {\n          \"avg\": false,\n          \"current\": false,\n          \"max\": false,\n          \"min\": false,\n          \"show\": false,\n          \"total\": false,\n          \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n          {\n          \"expr\": \"sum(rate(etcd_network_peer_sent_bytes_total[5m])) by (instance)\",\n          \"format\": \"time_series\",\n          \"hide\": false,\n          \"interval\": \"\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{instance}} Peer Traffic Out\",\n          \"metric\": \"etcd_network_peer_sent_bytes_total\",\n          \"refId\": \"A\",\n          \"step\": 120\n          }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Peer Traffic Out\",\n      \"tooltip\": {\n          \"msResolution\": false,\n          \"shared\": true,\n          \"sort\": 0,\n          \"value_type\": \"cumulative\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n          \"buckets\": null,\n          \"mode\": \"time\",\n          \"name\": null,\n          \"show\": true,\n          \"values\": []\n      },\n      \"yaxes\": [\n          {\n          \"format\": \"Bps\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          },\n          {\n          \"format\": \"short\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          }\n      ],\n      \"yaxis\": {\n          \"align\": false,\n          \"alignLevel\": null\n      }\n      },\n      {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 0,\n      \"gridPos\": {\n          \"h\": 7,\n          \"w\": 12,\n          \"x\": 0,\n          \"y\": 28\n      },\n      \"id\": 40,\n      \"legend\": {\n          \"avg\": false,\n          \"current\": false,\n          \"max\": false,\n          \"min\": false,\n          \"show\": false,\n          \"total\": false,\n          \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n          {\n          \"expr\": \"sum(rate(etcd_server_proposals_failed_total[5m]))\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"Proposal Failure Rate\",\n          \"metric\": \"etcd_server_proposals_failed_total\",\n          \"refId\": \"A\",\n          \"step\": 60\n          },\n          {\n          \"expr\": \"sum(etcd_server_proposals_pending)\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"Proposal Pending Total\",\n          \"metric\": \"etcd_server_proposals_pending\",\n          \"refId\": \"B\",\n          \"step\": 60\n          },\n          {\n          \"expr\": \"sum(rate(etcd_server_proposals_committed_total[5m]))\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"Proposal Commit Rate\",\n          \"metric\": \"etcd_server_proposals_committed_total\",\n          \"refId\": \"C\",\n          \"step\": 60\n          },\n          {\n          \"expr\": \"sum(rate(etcd_server_proposals_applied_total[5m]))\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"Proposal Apply Rate\",\n          \"refId\": \"D\",\n          \"step\": 60\n          }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Raft Proposals\",\n      \"tooltip\": {\n          \"msResolution\": false,\n          \"shared\": true,\n          \"sort\": 0,\n          \"value_type\": \"individual\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n          \"buckets\": null,\n          \"mode\": \"time\",\n          \"name\": null,\n          \"show\": true,\n          \"values\": []\n      },\n      \"yaxes\": [\n          {\n          \"format\": \"short\",\n          \"label\": \"\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          },\n          {\n          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          }\n      ],\n      \"yaxis\": {\n          \"align\": false,\n          \"alignLevel\": null\n      }\n      },\n      {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"decimals\": 0,\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 0,\n      \"gridPos\": {\n          \"h\": 7,\n          \"w\": 12,\n          \"x\": 12,\n          \"y\": 28\n      },\n      \"id\": 19,\n      \"legend\": {\n          \"alignAsTable\": false,\n          \"avg\": false,\n          \"current\": false,\n          \"max\": false,\n          \"min\": false,\n          \"rightSide\": false,\n          \"show\": false,\n          \"total\": false,\n          \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n          {\n          \"expr\": \"changes(etcd_server_leader_changes_seen_total[1d])\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{instance}} Total Leader Elections Per Day\",\n          \"metric\": \"etcd_server_leader_changes_seen_total\",\n          \"refId\": \"A\",\n          \"step\": 60\n          }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Total Leader Elections Per Day\",\n      \"tooltip\": {\n          \"msResolution\": false,\n          \"shared\": true,\n          \"sort\": 0,\n          \"value_type\": \"individual\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n          \"buckets\": null,\n          \"mode\": \"time\",\n          \"name\": null,\n          \"show\": true,\n          \"values\": []\n      },\n      \"yaxes\": [\n          {\n          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          },\n          {\n          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          }\n      ],\n      \"yaxis\": {\n          \"align\": false,\n          \"alignLevel\": null\n      }\n      },\n      {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"description\": \"proposals_committed_total records the total number of consensus proposals committed. This gauge should increase over time if the cluster is healthy. Several healthy members of an etcd cluster may have different total committed proposals at once. This discrepancy may be due to recovering from peers after starting, lagging behind the leader, or being the leader and therefore having the most commits. It is important to monitor this metric across all the members in the cluster; a consistently large lag between a single member and its leader indicates that member is slow or unhealthy.\\n\\nproposals_applied_total records the total number of consensus proposals applied. The etcd server applies every committed proposal asynchronously. The difference between proposals_committed_total and proposals_applied_total should usually be small (within a few thousands even under high load). If the difference between them continues to rise, it indicates that the etcd server is overloaded. This might happen when applying expensive queries like heavy range queries or large txn operations.\",\n      \"fill\": 1,\n      \"gridPos\": {\n          \"h\": 7,\n          \"w\": 12,\n          \"x\": 0,\n          \"y\": 35\n      },\n      \"id\": 2,\n      \"legend\": {\n          \"alignAsTable\": true,\n          \"avg\": true,\n          \"current\": true,\n          \"max\": true,\n          \"min\": false,\n          \"rightSide\": false,\n          \"show\": true,\n          \"total\": false,\n          \"values\": true\n      },\n      \"lines\": true,\n      \"linewidth\": 1,\n      \"links\": [],\n      \"nullPointMode\": \"null\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n          {\n          \"expr\": \"sum(rate(etcd_server_proposals_committed_total[5m]))\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"total number of consensus proposals committed\",\n          \"metric\": \"\",\n          \"refId\": \"A\",\n          \"step\": 60\n          },\n          {\n          \"expr\": \"sum(rate(etcd_server_proposals_applied_total[5m]))\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"total number of consensus proposals applied\",\n          \"metric\": \"\",\n          \"refId\": \"B\",\n          \"step\": 60\n          }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"The total number of consensus proposals committed\",\n      \"tooltip\": {\n          \"shared\": true,\n          \"sort\": 0,\n          \"value_type\": \"individual\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n          \"buckets\": null,\n          \"mode\": \"time\",\n          \"name\": null,\n          \"show\": true,\n          \"values\": []\n      },\n      \"yaxes\": [\n          {\n          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          },\n          {\n          \"format\": \"short\",\n          \"label\": \"\",\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          }\n      ],\n      \"yaxis\": {\n          \"align\": false,\n          \"alignLevel\": null\n      }\n      },\n      {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"description\": \"indicates how many proposals are queued to commit. Rising pending proposals suggests there is a high client load or the member cannot commit proposals.\",\n      \"fill\": 1,\n      \"gridPos\": {\n          \"h\": 7,\n          \"w\": 12,\n          \"x\": 12,\n          \"y\": 35\n      },\n      \"id\": 5,\n      \"legend\": {\n          \"avg\": false,\n          \"current\": false,\n          \"max\": false,\n          \"min\": false,\n          \"show\": true,\n          \"total\": false,\n          \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 1,\n      \"links\": [],\n      \"nullPointMode\": \"null\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n          {\n          \"expr\": \"sum(etcd_server_proposals_pending)\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"Proposals pending\",\n          \"refId\": \"A\",\n          \"step\": 60\n          }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Proposals pending\",\n      \"tooltip\": {\n          \"shared\": true,\n          \"sort\": 0,\n          \"value_type\": \"individual\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n          \"buckets\": null,\n          \"mode\": \"time\",\n          \"name\": null,\n          \"show\": true,\n          \"values\": []\n      },\n      \"yaxes\": [\n          {\n          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          },\n          {\n          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          }\n      ],\n      \"yaxis\": {\n          \"align\": false,\n          \"alignLevel\": null\n      }\n      },\n      {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"fill\": 1,\n      \"gridPos\": {\n          \"h\": 7,\n          \"w\": 24,\n          \"x\": 0,\n          \"y\": 42\n      },\n      \"id\": 7,\n      \"legend\": {\n          \"avg\": false,\n          \"current\": false,\n          \"max\": false,\n          \"min\": false,\n          \"show\": true,\n          \"total\": false,\n          \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 1,\n      \"links\": [],\n      \"nullPointMode\": \"null\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n          {\n          \"expr\": \"sum(rate(etcd_disk_wal_fsync_duration_seconds_sum[1m]))\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"\\tThe latency distributions of fsync called by wal\",\n          \"refId\": \"A\",\n          \"step\": 30\n          },\n          {\n          \"expr\": \"sum(rate(etcd_disk_backend_commit_duration_seconds_sum[1m]))\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"The latency distributions of commit called by backend\",\n          \"refId\": \"B\",\n          \"step\": 30\n          }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Disks operations\",\n      \"tooltip\": {\n          \"shared\": true,\n          \"sort\": 0,\n          \"value_type\": \"individual\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n          \"buckets\": null,\n          \"mode\": \"time\",\n          \"name\": null,\n          \"show\": true,\n          \"values\": []\n      },\n      \"yaxes\": [\n          {\n          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          },\n          {\n          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          }\n      ],\n      \"yaxis\": {\n          \"align\": false,\n          \"alignLevel\": null\n      }\n      },\n      {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"fill\": 1,\n      \"gridPos\": {\n          \"h\": 7,\n          \"w\": 24,\n          \"x\": 0,\n          \"y\": 49\n      },\n      \"id\": 8,\n      \"legend\": {\n          \"avg\": false,\n          \"current\": false,\n          \"max\": false,\n          \"min\": false,\n          \"show\": true,\n          \"total\": false,\n          \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 1,\n      \"links\": [],\n      \"nullPointMode\": \"null\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n          {\n          \"expr\": \"sum(rate(etcd_network_client_grpc_received_bytes_total[1m]))\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"The total number of bytes received by grpc clients\",\n          \"refId\": \"A\",\n          \"step\": 30\n          },\n          {\n          \"expr\": \"sum(rate(etcd_network_client_grpc_sent_bytes_total[1m]))\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"The total number of bytes sent to grpc clients\",\n          \"refId\": \"B\",\n          \"step\": 30\n          }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Network\",\n      \"tooltip\": {\n          \"shared\": true,\n          \"sort\": 0,\n          \"value_type\": \"individual\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n          \"buckets\": null,\n          \"mode\": \"time\",\n          \"name\": null,\n          \"show\": true,\n          \"values\": []\n      },\n      \"yaxes\": [\n          {\n          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          },\n          {\n          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          }\n      ],\n      \"yaxis\": {\n          \"align\": false,\n          \"alignLevel\": null\n      }\n      },\n      {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"Prometheus\",\n      \"description\": \"Abnormally high snapshot duration (snapshot_save_total_duration_seconds) indicates disk issues and might cause the cluster to be unstable.\",\n      \"fill\": 1,\n      \"gridPos\": {\n          \"h\": 7,\n          \"w\": 24,\n          \"x\": 0,\n          \"y\": 56\n      },\n      \"id\": 9,\n      \"legend\": {\n          \"avg\": false,\n          \"current\": false,\n          \"max\": false,\n          \"min\": false,\n          \"show\": true,\n          \"total\": false,\n          \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 1,\n      \"links\": [],\n      \"nullPointMode\": \"null\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n          {\n          \"expr\": \"sum(rate(etcd_debugging_snap_save_total_duration_seconds_sum[1m]))\",\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"The total latency distributions of save called by snapshot\",\n          \"refId\": \"A\",\n          \"step\": 30\n          }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Snapshot duration\",\n      \"tooltip\": {\n          \"shared\": true,\n          \"sort\": 0,\n          \"value_type\": \"individual\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n          \"buckets\": null,\n          \"mode\": \"time\",\n          \"name\": null,\n          \"show\": true,\n          \"values\": []\n      },\n      \"yaxes\": [\n          {\n          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          },\n          {\n          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\": true\n          }\n      ],\n      \"yaxis\": {\n          \"align\": false,\n          \"alignLevel\": null\n      }\n      }\n  ],\n  \"schemaVersion\": 16,\n  \"style\": \"dark\",\n  \"tags\": [],\n  \"templating\": {\n      \"list\": []\n  },\n  \"time\": {\n      \"from\": \"now-6h\",\n      \"to\": \"now\"\n  },\n  \"timepicker\": {\n      \"refresh_intervals\": [\n      \"5s\",\n      \"10s\",\n      \"30s\",\n      \"1m\",\n      \"5m\",\n      \"15m\",\n      \"30m\",\n      \"1h\",\n      \"2h\",\n      \"1d\"\n      ],\n      \"time_options\": [\n      \"5m\",\n      \"15m\",\n      \"1h\",\n      \"6h\",\n      \"12h\",\n      \"24h\",\n      \"2d\",\n      \"7d\",\n      \"30d\"\n      ]\n  },\n  \"timezone\": \"browser\",\n  \"title\": \"Etcd\",\n  \"uid\": \"bd5tYVxmk\",\n  \"version\": 1\n}\n"
- apiVersion: v1
  kind: ConfigMap
  metadata:
    name: my-pipeline-cp-monitor-pro-grafana-dashboard-k8s-cluster-rsrc-u
    labels:
      pipeline_grafana_dashboard: "1"
      app: prometheus-operator-grafana
      
      chart: prometheus-operator-0.1.20
      release: "my-pipeline-cp-monitor"
      heritage: "Helm"
  data:
    grafana-dashboard-k8s-cluster-rsrc-use.json: "{\n    \"annotations\": {\n        \"list\": [\n\n        ]\n    },\n    \"editable\": true,\n    \"gnetId\": null,\n    \"graphTooltip\": 0,\n    \"hideControls\": false,\n    \"links\": [\n\n    ],\n    \"refresh\": \"10s\",\n    \"rows\": [\n        {\n            \"collapse\": false,\n            \"height\": \"250px\",\n            \"panels\": [\n                {\n                    \"aliasColors\": {\n\n                    },\n                    \"bars\": false,\n                    \"dashLength\": 10,\n                    \"dashes\": false,\n                    \"datasource\": \"$datasource\",\n                    \"fill\": 10,\n                    \"id\": 0,\n                    \"legend\": {\n                        \"avg\": false,\n                        \"current\": false,\n                        \"max\": false,\n                        \"min\": false,\n                        \"show\": true,\n                        \"total\": false,\n                        \"values\": false\n                    },\n                    \"lines\": true,\n                    \"linewidth\": 0,\n                    \"links\": [\n\n                    ],\n                    \"nullPointMode\": \"null as zero\",\n                    \"percentage\": false,\n                    \"pointradius\": 5,\n                    \"points\": false,\n                    \"renderer\": \"flot\",\n                    \"seriesOverrides\": [\n\n                    ],\n                    \"spaceLength\": 10,\n                    \"span\": 6,\n                    \"stack\": true,\n                    \"steppedLine\": false,\n                    \"targets\": [\n                        {\n                            \"expr\": \"node:node_cpu_utilisation:avg1m * node:node_num_cpu:sum / scalar(sum(node:node_num_cpu:sum))\",\n                            \"format\": \"time_series\",\n                            \"intervalFactor\": 2,\n                            \"legendFormat\": \"{{node}}\",\n                            \"legendLink\": \"/d/4ac4f123aae0ff6dbaf4f4f66120033b/k8s-node-rsrc-use\",\n                            \"step\": 10\n                        }\n                    ],\n                    \"thresholds\": [\n\n                    ],\n                    \"timeFrom\": null,\n                    \"timeShift\": null,\n                    \"title\": \"CPU Utilisation\",\n                    \"tooltip\": {\n                        \"shared\": true,\n                        \"sort\": 0,\n                        \"value_type\": \"individual\"\n                    },\n                    \"type\": \"graph\",\n                    \"xaxis\": {\n                        \"buckets\": null,\n                        \"mode\": \"time\",\n                        \"name\": null,\n                        \"show\": true,\n                        \"values\": [\n\n                        ]\n                    },\n                    \"yaxes\": [\n                        {\n                            \"format\": \"percentunit\",\n                            \"label\": null,\n                            \"logBase\": 1,\n                            \"max\": 1,\n                            \"min\": 0,\n                            \"show\": true\n                        },\n                        {\n                            \"format\": \"short\",\n                            \"label\": null,\n                            \"logBase\": 1,\n                            \"max\": null,\n                            \"min\": null,\n                            \"show\": false\n                        }\n                    ]\n                },\n                {\n                    \"aliasColors\": {\n\n                    },\n                    \"bars\": false,\n                    \"dashLength\": 10,\n                    \"dashes\": false,\n                    \"datasource\": \"$datasource\",\n                    \"fill\": 10,\n                    \"id\": 1,\n                    \"legend\": {\n                        \"avg\": false,\n                        \"current\": false,\n                        \"max\": false,\n                        \"min\": false,\n                        \"show\": true,\n                        \"total\": false,\n                        \"values\": false\n                    },\n                    \"lines\": true,\n                    \"linewidth\": 0,\n                    \"links\": [\n\n                    ],\n                    \"nullPointMode\": \"null as zero\",\n                    \"percentage\": false,\n                    \"pointradius\": 5,\n                    \"points\": false,\n                    \"renderer\": \"flot\",\n                    \"seriesOverrides\": [\n\n                    ],\n                    \"spaceLength\": 10,\n                    \"span\": 6,\n                    \"stack\": true,\n                    \"steppedLine\": false,\n                    \"targets\": [\n                        {\n                            \"expr\": \"node:node_cpu_saturation_load1: / scalar(sum(min(kube_pod_info) by (node)))\",\n                            \"format\": \"time_series\",\n                            \"intervalFactor\": 2,\n                            \"legendFormat\": \"{{node}}\",\n                            \"legendLink\": \"/d/4ac4f123aae0ff6dbaf4f4f66120033b/k8s-node-rsrc-use\",\n                            \"step\": 10\n                        }\n                    ],\n                    \"thresholds\": [\n\n                    ],\n                    \"timeFrom\": null,\n                    \"timeShift\": null,\n                    \"title\": \"CPU Saturation (Load1)\",\n                    \"tooltip\": {\n                        \"shared\": true,\n                        \"sort\": 0,\n                        \"value_type\": \"individual\"\n                    },\n                    \"type\": \"graph\",\n                    \"xaxis\": {\n                        \"buckets\": null,\n                        \"mode\": \"time\",\n                        \"name\": null,\n                        \"show\": true,\n                        \"values\": [\n\n                        ]\n                    },\n                    \"yaxes\": [\n                        {\n                            \"format\": \"percentunit\",\n                            \"label\": null,\n                            \"logBase\": 1,\n                            \"max\": 1,\n                            \"min\": 0,\n                            \"show\": true\n                        },\n                        {\n                            \"format\": \"short\",\n                            \"label\": null,\n                            \"logBase\": 1,\n                            \"max\": null,\n                            \"min\": null,\n                            \"show\": false\n                        }\n                    ]\n                }\n            ],\n            \"repeat\": null,\n            \"repeatIteration\": null,\n            \"repeatRowId\": null,\n            \"showTitle\": true,\n            \"title\": \"CPU\",\n            \"titleSize\": \"h6\"\n        },\n        {\n            \"collapse\": false,\n            \"height\": \"250px\",\n            \"panels\": [\n                {\n                    \"aliasColors\": {\n\n                    },\n                    \"bars\": false,\n                    \"dashLength\": 10,\n                    \"dashes\": false,\n                    \"datasource\": \"$datasource\",\n                    \"fill\": 10,\n                    \"id\": 2,\n                    \"legend\": {\n                        \"avg\": false,\n                        \"current\": false,\n                        \"max\": false,\n                        \"min\": false,\n                        \"show\": true,\n                        \"total\": false,\n                        \"values\": false\n                    },\n                    \"lines\": true,\n                    \"linewidth\": 0,\n                    \"links\": [\n\n                    ],\n                    \"nullPointMode\": \"null as zero\",\n                    \"percentage\": false,\n                    \"pointradius\": 5,\n                    \"points\": false,\n                    \"renderer\": \"flot\",\n                    \"seriesOverrides\": [\n\n                    ],\n                    \"spaceLength\": 10,\n                    \"span\": 6,\n                    \"stack\": true,\n                    \"steppedLine\": false,\n                    \"targets\": [\n                        {\n                            \"expr\": \"node:node_memory_utilisation:ratio\",\n                            \"format\": \"time_series\",\n                            \"intervalFactor\": 2,\n                            \"legendFormat\": \"{{node}}\",\n                            \"legendLink\": \"/d/4ac4f123aae0ff6dbaf4f4f66120033b/k8s-node-rsrc-use\",\n                            \"step\": 10\n                        }\n                    ],\n                    \"thresholds\": [\n\n                    ],\n                    \"timeFrom\": null,\n                    \"timeShift\": null,\n                    \"title\": \"Memory Utilisation\",\n                    \"tooltip\": {\n                        \"shared\": true,\n                        \"sort\": 0,\n                        \"value_type\": \"individual\"\n                    },\n                    \"type\": \"graph\",\n                    \"xaxis\": {\n                        \"buckets\": null,\n                        \"mode\": \"time\",\n                        \"name\": null,\n                        \"show\": true,\n                        \"values\": [\n\n                        ]\n                    },\n                    \"yaxes\": [\n                        {\n                            \"format\": \"percentunit\",\n                            \"label\": null,\n                            \"logBase\": 1,\n                            \"max\": 1,\n                            \"min\": 0,\n                            \"show\": true\n                        },\n                        {\n                            \"format\": \"short\",\n                            \"label\": null,\n                            \"logBase\": 1,\n                            \"max\": null,\n                            \"min\": null,\n                            \"show\": false\n                        }\n                    ]\n                },\n                {\n                    \"aliasColors\": {\n\n                    },\n                    \"bars\": false,\n                    \"dashLength\": 10,\n                    \"dashes\": false,\n                    \"datasource\": \"$datasource\",\n                    \"fill\": 10,\n                    \"id\": 3,\n                    \"legend\": {\n                        \"avg\": false,\n                        \"current\": false,\n                        \"max\": false,\n                        \"min\": false,\n                        \"show\": true,\n                        \"total\": false,\n                        \"values\": false\n                    },\n                    \"lines\": true,\n                    \"linewidth\": 0,\n                    \"links\": [\n\n                    ],\n                    \"nullPointMode\": \"null as zero\",\n                    \"percentage\": false,\n                    \"pointradius\": 5,\n                    \"points\": false,\n                    \"renderer\": \"flot\",\n                    \"seriesOverrides\": [\n\n                    ],\n                    \"spaceLength\": 10,\n                    \"span\": 6,\n                    \"stack\": true,\n                    \"steppedLine\": false,\n                    \"targets\": [\n                        {\n                            \"expr\": \"node:node_memory_swap_io_bytes:sum_rate\",\n                            \"format\": \"time_series\",\n                            \"intervalFactor\": 2,\n                            \"legendFormat\": \"{{node}}\",\n                            \"legendLink\": \"/d/4ac4f123aae0ff6dbaf4f4f66120033b/k8s-node-rsrc-use\",\n                            \"step\": 10\n                        }\n                    ],\n                    \"thresholds\": [\n\n                    ],\n                    \"timeFrom\": null,\n                    \"timeShift\": null,\n                    \"title\": \"Memory Saturation (Swap I/O)\",\n                    \"tooltip\": {\n                        \"shared\": true,\n                        \"sort\": 0,\n                        \"value_type\": \"individual\"\n                    },\n                    \"type\": \"graph\",\n                    \"xaxis\": {\n                        \"buckets\": null,\n                        \"mode\": \"time\",\n                        \"name\": null,\n                        \"show\": true,\n                        \"values\": [\n\n                        ]\n                    },\n                    \"yaxes\": [\n                        {\n                            \"format\": \"Bps\",\n                            \"label\": null,\n                            \"logBase\": 1,\n                            \"max\": null,\n                            \"min\": 0,\n                            \"show\": true\n                        },\n                        {\n                            \"format\": \"short\",\n                            \"label\": null,\n                            \"logBase\": 1,\n                            \"max\": null,\n                            \"min\": null,\n                            \"show\": false\n                        }\n                    ]\n                }\n            ],\n            \"repeat\": null,\n            \"repeatIteration\": null,\n            \"repeatRowId\": null,\n            \"showTitle\": true,\n            \"title\": \"Memory\",\n            \"titleSize\": \"h6\"\n        },\n        {\n            \"collapse\": false,\n            \"height\": \"250px\",\n            \"panels\": [\n                {\n                    \"aliasColors\": {\n\n                    },\n                    \"bars\": false,\n                    \"dashLength\": 10,\n                    \"dashes\": false,\n                    \"datasource\": \"$datasource\",\n                    \"fill\": 10,\n                    \"id\": 4,\n                    \"legend\": {\n                        \"avg\": false,\n                        \"current\": false,\n                        \"max\": false,\n                        \"min\": false,\n                        \"show\": true,\n                        \"total\": false,\n                        \"values\": false\n                    },\n                    \"lines\": true,\n                    \"linewidth\": 0,\n                    \"links\": [\n\n                    ],\n                    \"nullPointMode\": \"null as zero\",\n                    \"percentage\": false,\n                    \"pointradius\": 5,\n                    \"points\": false,\n                    \"renderer\": \"flot\",\n                    \"seriesOverrides\": [\n\n                    ],\n                    \"spaceLength\": 10,\n                    \"span\": 6,\n                    \"stack\": true,\n                    \"steppedLine\": false,\n                    \"targets\": [\n                        {\n                            \"expr\": \"node:node_disk_utilisation:avg_irate / scalar(:kube_pod_info_node_count:)\",\n                            \"format\": \"time_series\",\n                            \"intervalFactor\": 2,\n                            \"legendFormat\": \"{{node}}\",\n                            \"legendLink\": \"/d/4ac4f123aae0ff6dbaf4f4f66120033b/k8s-node-rsrc-use\",\n                            \"step\": 10\n                        }\n                    ],\n                    \"thresholds\": [\n\n                    ],\n                    \"timeFrom\": null,\n                    \"timeShift\": null,\n                    \"title\": \"Disk IO Utilisation\",\n                    \"tooltip\": {\n                        \"shared\": true,\n                        \"sort\": 0,\n                        \"value_type\": \"individual\"\n                    },\n                    \"type\": \"graph\",\n                    \"xaxis\": {\n                        \"buckets\": null,\n                        \"mode\": \"time\",\n                        \"name\": null,\n                        \"show\": true,\n                        \"values\": [\n\n                        ]\n                    },\n                    \"yaxes\": [\n                        {\n                            \"format\": \"percentunit\",\n                            \"label\": null,\n                            \"logBase\": 1,\n                            \"max\": 1,\n                            \"min\": 0,\n                            \"show\": true\n                        },\n                        {\n                            \"format\": \"short\",\n                            \"label\": null,\n                            \"logBase\": 1,\n                            \"max\": null,\n                            \"min\": null,\n                            \"show\": false\n                        }\n                    ]\n                },\n                {\n                    \"aliasColors\": {\n\n                    },\n                    \"bars\": false,\n                    \"dashLength\": 10,\n                    \"dashes\": false,\n                    \"datasource\": \"$datasource\",\n                    \"fill\": 10,\n                    \"id\": 5,\n                    \"legend\": {\n                        \"avg\": false,\n                        \"current\": false,\n                        \"max\": false,\n                        \"min\": false,\n                        \"show\": true,\n                        \"total\": false,\n                        \"values\": false\n                    },\n                    \"lines\": true,\n                    \"linewidth\": 0,\n                    \"links\": [\n\n                    ],\n                    \"nullPointMode\": \"null as zero\",\n                    \"percentage\": false,\n                    \"pointradius\": 5,\n                    \"points\": false,\n                    \"renderer\": \"flot\",\n                    \"seriesOverrides\": [\n\n                    ],\n                    \"spaceLength\": 10,\n                    \"span\": 6,\n                    \"stack\": true,\n                    \"steppedLine\": false,\n                    \"targets\": [\n                        {\n                            \"expr\": \"node:node_disk_saturation:avg_irate / scalar(:kube_pod_info_node_count:)\",\n                            \"format\": \"time_series\",\n                            \"intervalFactor\": 2,\n                            \"legendFormat\": \"{{node}}\",\n                            \"legendLink\": \"/d/4ac4f123aae0ff6dbaf4f4f66120033b/k8s-node-rsrc-use\",\n                            \"step\": 10\n                        }\n                    ],\n                    \"thresholds\": [\n\n                    ],\n                    \"timeFrom\": null,\n                    \"timeShift\": null,\n                    \"title\": \"Disk IO Saturation\",\n                    \"tooltip\": {\n                        \"shared\": true,\n                        \"sort\": 0,\n                        \"value_type\": \"individual\"\n                    },\n                    \"type\": \"graph\",\n                    \"xaxis\": {\n                        \"buckets\": null,\n                        \"mode\": \"time\",\n                        \"name\": null,\n                        \"show\": true,\n                        \"values\": [\n\n                        ]\n                    },\n                    \"yaxes\": [\n                        {\n                            \"format\": \"percentunit\",\n                            \"label\": null,\n                            \"logBase\": 1,\n                            \"max\": 1,\n                            \"min\": 0,\n                            \"show\": true\n                        },\n                        {\n                            \"format\": \"short\",\n                            \"label\": null,\n                            \"logBase\": 1,\n                            \"max\": null,\n                            \"min\": null,\n                            \"show\": false\n                        }\n                    ]\n                }\n            ],\n            \"repeat\": null,\n            \"repeatIteration\": null,\n            \"repeatRowId\": null,\n            \"showTitle\": true,\n            \"title\": \"Disk\",\n            \"titleSize\": \"h6\"\n        },\n        {\n            \"collapse\": false,\n            \"height\": \"250px\",\n            \"panels\": [\n                {\n                    \"aliasColors\": {\n\n                    },\n                    \"bars\": false,\n                    \"dashLength\": 10,\n                    \"dashes\": false,\n                    \"datasource\": \"$datasource\",\n                    \"fill\": 10,\n                    \"id\": 6,\n                    \"legend\": {\n                        \"avg\": false,\n                        \"current\": false,\n                        \"max\": false,\n                        \"min\": false,\n                        \"show\": true,\n                        \"total\": false,\n                        \"values\": false\n                    },\n                    \"lines\": true,\n                    \"linewidth\": 0,\n                    \"links\": [\n\n                    ],\n                    \"nullPointMode\": \"null as zero\",\n                    \"percentage\": false,\n                    \"pointradius\": 5,\n                    \"points\": false,\n                    \"renderer\": \"flot\",\n                    \"seriesOverrides\": [\n\n                    ],\n                    \"spaceLength\": 10,\n                    \"span\": 6,\n                    \"stack\": true,\n                    \"steppedLine\": false,\n                    \"targets\": [\n                        {\n                            \"expr\": \"node:node_net_utilisation:sum_irate\",\n                            \"format\": \"time_series\",\n                            \"intervalFactor\": 2,\n                            \"legendFormat\": \"{{node}}\",\n                            \"legendLink\": \"/d/4ac4f123aae0ff6dbaf4f4f66120033b/k8s-node-rsrc-use\",\n                            \"step\": 10\n                        }\n                    ],\n                    \"thresholds\": [\n\n                    ],\n                    \"timeFrom\": null,\n                    \"timeShift\": null,\n                    \"title\": \"Net Utilisation (Transmitted)\",\n                    \"tooltip\": {\n                        \"shared\": true,\n                        \"sort\": 0,\n                        \"value_type\": \"individual\"\n                    },\n                    \"type\": \"graph\",\n                    \"xaxis\": {\n                        \"buckets\": null,\n                        \"mode\": \"time\",\n                        \"name\": null,\n                        \"show\": true,\n                        \"values\": [\n\n                        ]\n                    },\n                    \"yaxes\": [\n                        {\n                            \"format\": \"Bps\",\n                            \"label\": null,\n                            \"logBase\": 1,\n                            \"max\": null,\n                            \"min\": 0,\n                            \"show\": true\n                        },\n                        {\n                            \"format\": \"short\",\n                            \"label\": null,\n                            \"logBase\": 1,\n                            \"max\": null,\n                            \"min\": null,\n                            \"show\": false\n                        }\n                    ]\n                },\n                {\n                    \"aliasColors\": {\n\n                    },\n                    \"bars\": false,\n                    \"dashLength\": 10,\n                    \"dashes\": false,\n                    \"datasource\": \"$datasource\",\n                    \"fill\": 10,\n                    \"id\": 7,\n                    \"legend\": {\n                        \"avg\": false,\n                        \"current\": false,\n                        \"max\": false,\n                        \"min\": false,\n                        \"show\": true,\n                        \"total\": false,\n                        \"values\": false\n                    },\n                    \"lines\": true,\n                    \"linewidth\": 0,\n                    \"links\": [\n\n                    ],\n                    \"nullPointMode\": \"null as zero\",\n                    \"percentage\": false,\n                    \"pointradius\": 5,\n                    \"points\": false,\n                    \"renderer\": \"flot\",\n                    \"seriesOverrides\": [\n\n                    ],\n                    \"spaceLength\": 10,\n                    \"span\": 6,\n                    \"stack\": true,\n                    \"steppedLine\": false,\n                    \"targets\": [\n                        {\n                            \"expr\": \"node:node_net_saturation:sum_irate\",\n                            \"format\": \"time_series\",\n                            \"intervalFactor\": 2,\n                            \"legendFormat\": \"{{node}}\",\n                            \"legendLink\": \"/d/4ac4f123aae0ff6dbaf4f4f66120033b/k8s-node-rsrc-use\",\n                            \"step\": 10\n                        }\n                    ],\n                    \"thresholds\": [\n\n                    ],\n                    \"timeFrom\": null,\n                    \"timeShift\": null,\n                    \"title\": \"Net Saturation (Dropped)\",\n                    \"tooltip\": {\n                        \"shared\": true,\n                        \"sort\": 0,\n                        \"value_type\": \"individual\"\n                    },\n                    \"type\": \"graph\",\n                    \"xaxis\": {\n                        \"buckets\": null,\n                        \"mode\": \"time\",\n                        \"name\": null,\n                        \"show\": true,\n                        \"values\": [\n\n                        ]\n                    },\n                    \"yaxes\": [\n                        {\n                            \"format\": \"Bps\",\n                            \"label\": null,\n                            \"logBase\": 1,\n                            \"max\": null,\n                            \"min\": 0,\n                            \"show\": true\n                        },\n                        {\n                            \"format\": \"short\",\n                            \"label\": null,\n                            \"logBase\": 1,\n                            \"max\": null,\n                            \"min\": null,\n                            \"show\": false\n                        }\n                    ]\n                }\n            ],\n            \"repeat\": null,\n            \"repeatIteration\": null,\n            \"repeatRowId\": null,\n            \"showTitle\": true,\n            \"title\": \"Network\",\n            \"titleSize\": \"h6\"\n        },\n        {\n            \"collapse\": false,\n            \"height\": \"250px\",\n            \"panels\": [\n                {\n                    \"aliasColors\": {\n\n                    },\n                    \"bars\": false,\n                    \"dashLength\": 10,\n                    \"dashes\": false,\n                    \"datasource\": \"$datasource\",\n                    \"fill\": 10,\n                    \"id\": 8,\n                    \"legend\": {\n                        \"avg\": false,\n                        \"current\": false,\n                        \"max\": false,\n                        \"min\": false,\n                        \"show\": true,\n                        \"total\": false,\n                        \"values\": false\n                    },\n                    \"lines\": true,\n                    \"linewidth\": 0,\n                    \"links\": [\n\n                    ],\n                    \"nullPointMode\": \"null as zero\",\n                    \"percentage\": false,\n                    \"pointradius\": 5,\n                    \"points\": false,\n                    \"renderer\": \"flot\",\n                    \"seriesOverrides\": [\n\n                    ],\n                    \"spaceLength\": 10,\n                    \"span\": 12,\n                    \"stack\": true,\n                    \"steppedLine\": false,\n                    \"targets\": [\n                        {\n                            \"expr\": \"sum(max(node_filesystem_size{fstype=\\u007e\\\"ext[234]|btrfs|xfs|zfs\\\"} - node_filesystem_avail{fstype=\\u007e\\\"ext[234]|btrfs|xfs|zfs\\\"}) by (device,pod,namespace)) by (pod,namespace)\\n/ scalar(sum(max(node_filesystem_size{fstype=\\u007e\\\"ext[234]|btrfs|xfs|zfs\\\"}) by (device,pod,namespace)))\\n* on (namespace, pod) group_left (node) node_namespace_pod:kube_pod_info:\\n\",\n                            \"format\": \"time_series\",\n                            \"intervalFactor\": 2,\n                            \"legendFormat\": \"{{node}}\",\n                            \"legendLink\": \"/d/4ac4f123aae0ff6dbaf4f4f66120033b/k8s-node-rsrc-use\",\n                            \"step\": 10\n                        }\n                    ],\n                    \"thresholds\": [\n\n                    ],\n                    \"timeFrom\": null,\n                    \"timeShift\": null,\n                    \"title\": \"Disk Capacity\",\n                    \"tooltip\": {\n                        \"shared\": true,\n                        \"sort\": 0,\n                        \"value_type\": \"individual\"\n                    },\n                    \"type\": \"graph\",\n                    \"xaxis\": {\n                        \"buckets\": null,\n                        \"mode\": \"time\",\n                        \"name\": null,\n                        \"show\": true,\n                        \"values\": [\n\n                        ]\n                    },\n                    \"yaxes\": [\n                        {\n                            \"format\": \"percentunit\",\n                            \"label\": null,\n                            \"logBase\": 1,\n                            \"max\": 1,\n                            \"min\": 0,\n                            \"show\": true\n                        },\n                        {\n                            \"format\": \"short\",\n                            \"label\": null,\n                            \"logBase\": 1,\n                            \"max\": null,\n                            \"min\": null,\n                            \"show\": false\n                        }\n                    ]\n                }\n            ],\n            \"repeat\": null,\n            \"repeatIteration\": null,\n            \"repeatRowId\": null,\n            \"showTitle\": true,\n            \"title\": \"Storage\",\n            \"titleSize\": \"h6\"\n        }\n    ],\n    \"schemaVersion\": 14,\n    \"style\": \"dark\",\n    \"tags\": [\n\n    ],\n    \"templating\": {\n        \"list\": [\n            {\n                \"current\": {\n                    \"text\": \"Prometheus\",\n                    \"value\": \"Prometheus\"\n                },\n                \"hide\": 0,\n                \"label\": null,\n                \"name\": \"datasource\",\n                \"options\": [\n\n                ],\n                \"query\": \"prometheus\",\n                \"refresh\": 1,\n                \"regex\": \"\",\n                \"type\": \"datasource\"\n            }\n        ]\n    },\n    \"time\": {\n        \"from\": \"now-1h\",\n        \"to\": \"now\"\n    },\n    \"timepicker\": {\n        \"refresh_intervals\": [\n            \"5s\",\n            \"10s\",\n            \"30s\",\n            \"1m\",\n            \"5m\",\n            \"15m\",\n            \"30m\",\n            \"1h\",\n            \"2h\",\n            \"1d\"\n        ],\n        \"time_options\": [\n            \"5m\",\n            \"15m\",\n            \"1h\",\n            \"6h\",\n            \"12h\",\n            \"24h\",\n            \"2d\",\n            \"7d\",\n            \"30d\"\n        ]\n    },\n    \"timezone\": \"\",\n    \"title\": \"K8s / USE Method / Cluster\",\n    \"uid\": \"a6e7d1362e1ddbb79db21d5bb40d7137\",\n    \"version\": 0\n}"
- apiVersion: v1
  kind: ConfigMap
  metadata:
    name: my-pipeline-cp-monitor-pro-grafana-dashboard-k8s-node-rsrc-use
    labels:
      pipeline_grafana_dashboard: "1"
      app: prometheus-operator-grafana
      
      chart: prometheus-operator-0.1.20
      release: "my-pipeline-cp-monitor"
      heritage: "Helm"
  data:
    grafana-dashboard-k8s-node-rsrc-use.json: "{\n  \"annotations\": {\n      \"list\": [\n\n      ]\n  },\n  \"editable\": true,\n  \"gnetId\": null,\n  \"graphTooltip\": 0,\n  \"hideControls\": false,\n  \"links\": [\n\n  ],\n  \"refresh\": \"10s\",\n  \"rows\": [\n      {\n          \"collapse\": false,\n          \"height\": \"250px\",\n          \"panels\": [\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"id\": 0,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 6,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"node:node_cpu_utilisation:avg1m{node=\\\"$node\\\"}\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"Utilisation\",\n                          \"legendLink\": null,\n                          \"step\": 10\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"CPU Utilisation\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"graph\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"percentunit\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              },\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"id\": 1,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 6,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"node:node_cpu_saturation_load1:{node=\\\"$node\\\"}\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"Saturation\",\n                          \"legendLink\": null,\n                          \"step\": 10\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"CPU Saturation (Load1)\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"graph\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"percentunit\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": true,\n          \"title\": \"CPU\",\n          \"titleSize\": \"h6\"\n      },\n      {\n          \"collapse\": false,\n          \"height\": \"250px\",\n          \"panels\": [\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"id\": 2,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 6,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"node:node_memory_utilisation:{node=\\\"$node\\\"}\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"Memory\",\n                          \"legendLink\": null,\n                          \"step\": 10\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"Memory Utilisation\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"graph\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"percentunit\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              },\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"id\": 3,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 6,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"node:node_memory_swap_io_bytes:sum_rate{node=\\\"$node\\\"}\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"Swap IO\",\n                          \"legendLink\": null,\n                          \"step\": 10\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"Memory Saturation (Swap I/O)\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"graph\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"Bps\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": true,\n          \"title\": \"Memory\",\n          \"titleSize\": \"h6\"\n      },\n      {\n          \"collapse\": false,\n          \"height\": \"250px\",\n          \"panels\": [\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"id\": 4,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 6,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"node:node_disk_utilisation:avg_irate{node=\\\"$node\\\"}\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"Utilisation\",\n                          \"legendLink\": null,\n                          \"step\": 10\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"Disk IO Utilisation\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"graph\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"percentunit\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              },\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"id\": 5,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 6,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"node:node_disk_saturation:avg_irate{node=\\\"$node\\\"}\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"Saturation\",\n                          \"legendLink\": null,\n                          \"step\": 10\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"Disk IO Saturation\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"graph\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"percentunit\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": true,\n          \"title\": \"Disk\",\n          \"titleSize\": \"h6\"\n      },\n      {\n          \"collapse\": false,\n          \"height\": \"250px\",\n          \"panels\": [\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"id\": 6,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 6,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"node:node_net_utilisation:sum_irate{node=\\\"$node\\\"}\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"Utilisation\",\n                          \"legendLink\": null,\n                          \"step\": 10\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"Net Utilisation (Transmitted)\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"graph\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"Bps\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              },\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"id\": 7,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 6,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"node:node_net_saturation:sum_irate{node=\\\"$node\\\"}\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"Saturation\",\n                          \"legendLink\": null,\n                          \"step\": 10\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"Net Saturation (Dropped)\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"graph\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"Bps\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": true,\n          \"title\": \"Net\",\n          \"titleSize\": \"h6\"\n      },\n      {\n          \"collapse\": false,\n          \"height\": \"250px\",\n          \"panels\": [\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"id\": 8,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 12,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"node:node_filesystem_usage:\\n* on (namespace, pod) group_left (node) node_namespace_pod:kube_pod_info:{node=\\\"$node\\\"}\\n\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"{{device}}\",\n                          \"legendLink\": null,\n                          \"step\": 10\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"Disk Utilisation\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"graph\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"percentunit\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": true,\n          \"title\": \"Disk\",\n          \"titleSize\": \"h6\"\n      }\n  ],\n  \"schemaVersion\": 14,\n  \"style\": \"dark\",\n  \"tags\": [\n\n  ],\n  \"templating\": {\n      \"list\": [\n          {\n              \"current\": {\n                  \"text\": \"Prometheus\",\n                  \"value\": \"Prometheus\"\n              },\n              \"hide\": 0,\n              \"label\": null,\n              \"name\": \"datasource\",\n              \"options\": [\n\n              ],\n              \"query\": \"prometheus\",\n              \"refresh\": 1,\n              \"regex\": \"\",\n              \"type\": \"datasource\"\n          },\n          {\n              \"allValue\": null,\n              \"current\": {\n                  \"text\": \"prod\",\n                  \"value\": \"prod\"\n              },\n              \"datasource\": \"$datasource\",\n              \"hide\": 0,\n              \"includeAll\": false,\n              \"label\": \"node\",\n              \"multi\": false,\n              \"name\": \"node\",\n              \"options\": [\n\n              ],\n              \"query\": \"label_values(kube_node_info, node)\",\n              \"refresh\": 1,\n              \"regex\": \"\",\n              \"sort\": 2,\n              \"tagValuesQuery\": \"\",\n              \"tags\": [\n\n              ],\n              \"tagsQuery\": \"\",\n              \"type\": \"query\",\n              \"useTags\": false\n          }\n      ]\n  },\n  \"time\": {\n      \"from\": \"now-1h\",\n      \"to\": \"now\"\n  },\n  \"timepicker\": {\n      \"refresh_intervals\": [\n          \"5s\",\n          \"10s\",\n          \"30s\",\n          \"1m\",\n          \"5m\",\n          \"15m\",\n          \"30m\",\n          \"1h\",\n          \"2h\",\n          \"1d\"\n      ],\n      \"time_options\": [\n          \"5m\",\n          \"15m\",\n          \"1h\",\n          \"6h\",\n          \"12h\",\n          \"24h\",\n          \"2d\",\n          \"7d\",\n          \"30d\"\n      ]\n  },\n  \"timezone\": \"\",\n  \"title\": \"K8s / USE Method / Node\",\n  \"uid\": \"4ac4f123aae0ff6dbaf4f4f66120033b\",\n  \"version\": 0\n}"
- apiVersion: v1
  kind: ConfigMap
  metadata:
    name: my-pipeline-cp-monitor-pro-grafana-dashboard-k8s-resources-clus
    labels:
      pipeline_grafana_dashboard: "1"
      app: prometheus-operator-grafana
      
      chart: prometheus-operator-0.1.20
      release: "my-pipeline-cp-monitor"
      heritage: "Helm"
  data:
    grafana-dashboard-k8s-resources-cluster.json: "{\n  \"annotations\": {\n      \"list\": [\n\n      ]\n  },\n  \"editable\": true,\n  \"gnetId\": null,\n  \"graphTooltip\": 0,\n  \"hideControls\": false,\n  \"links\": [\n\n  ],\n  \"refresh\": \"10s\",\n  \"rows\": [\n      {\n          \"collapse\": false,\n          \"height\": \"100px\",\n          \"panels\": [\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"format\": \"percentunit\",\n                  \"id\": 0,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 2,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"1 - avg(rate(node_cpu{mode=\\\"idle\\\"}[1m]))\",\n                          \"format\": \"time_series\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"refId\": \"A\"\n                      }\n                  ],\n                  \"thresholds\": \"70,80\",\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"CPU Utilisation\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"singlestat\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              },\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"format\": \"percentunit\",\n                  \"id\": 1,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 2,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"sum(kube_pod_container_resource_requests_cpu_cores) / sum(node:node_num_cpu:sum)\",\n                          \"format\": \"time_series\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"refId\": \"A\"\n                      }\n                  ],\n                  \"thresholds\": \"70,80\",\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"CPU Requests Commitment\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"singlestat\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              },\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"format\": \"percentunit\",\n                  \"id\": 2,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 2,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"sum(kube_pod_container_resource_limits_cpu_cores) / sum(node:node_num_cpu:sum)\",\n                          \"format\": \"time_series\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"refId\": \"A\"\n                      }\n                  ],\n                  \"thresholds\": \"70,80\",\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"CPU Limits Commitment\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"singlestat\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              },\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"format\": \"percentunit\",\n                  \"id\": 3,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 2,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"1 - sum(:node_memory_MemFreeCachedBuffers:sum) / sum(:node_memory_MemTotal:sum)\",\n                          \"format\": \"time_series\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"refId\": \"A\"\n                      }\n                  ],\n                  \"thresholds\": \"70,80\",\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"Memory Utilisation\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"singlestat\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              },\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"format\": \"percentunit\",\n                  \"id\": 4,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 2,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"sum(kube_pod_container_resource_requests_memory_bytes) / sum(:node_memory_MemTotal:sum)\",\n                          \"format\": \"time_series\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"refId\": \"A\"\n                      }\n                  ],\n                  \"thresholds\": \"70,80\",\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"Memory Requests Commitment\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"singlestat\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              },\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"format\": \"percentunit\",\n                  \"id\": 5,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 2,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"sum(kube_pod_container_resource_limits_memory_bytes) / sum(:node_memory_MemTotal:sum)\",\n                          \"format\": \"time_series\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"refId\": \"A\"\n                      }\n                  ],\n                  \"thresholds\": \"70,80\",\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"Memory Limits Commitment\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"singlestat\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": false,\n          \"title\": \"Headlines\",\n          \"titleSize\": \"h6\"\n      },\n      {\n          \"collapse\": false,\n          \"height\": \"250px\",\n          \"panels\": [\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 10,\n                  \"id\": 6,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 0,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 12,\n                  \"stack\": true,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"sum(namespace_pod_name_container_name:container_cpu_usage_seconds_total:sum_rate) by (namespace)\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"{{namespace}}\",\n                          \"legendLink\": null,\n                          \"step\": 10\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"CPU Usage\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"graph\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": true,\n          \"title\": \"CPU\",\n          \"titleSize\": \"h6\"\n      },\n      {\n          \"collapse\": false,\n          \"height\": \"250px\",\n          \"panels\": [\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"id\": 7,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 12,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"styles\": [\n                      {\n                          \"alias\": \"Time\",\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"pattern\": \"Time\",\n                          \"type\": \"hidden\"\n                      },\n                      {\n                          \"alias\": \"CPU Usage\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #A\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"short\"\n                      },\n                      {\n                          \"alias\": \"CPU Requests\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #B\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"short\"\n                      },\n                      {\n                          \"alias\": \"CPU Requests %\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #C\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"percentunit\"\n                      },\n                      {\n                          \"alias\": \"CPU Limits\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #D\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"short\"\n                      },\n                      {\n                          \"alias\": \"CPU Limits %\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #E\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"percentunit\"\n                      },\n                      {\n                          \"alias\": \"Namespace\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": true,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"/d/85a562078cdf77779eaa1add43ccec1e/k8s-resources-namespace?var-datasource=$datasource\u0026var-namespace=$__cell\",\n                          \"pattern\": \"namespace\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"short\"\n                      },\n                      {\n                          \"alias\": \"\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"pattern\": \"/.*/\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"string\",\n                          \"unit\": \"short\"\n                      }\n                  ],\n                  \"targets\": [\n                      {\n                          \"expr\": \"sum(namespace_pod_name_container_name:container_cpu_usage_seconds_total:sum_rate) by (namespace)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"A\",\n                          \"step\": 10\n                      },\n                      {\n                          \"expr\": \"sum(kube_pod_container_resource_requests_cpu_cores) by (namespace)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"B\",\n                          \"step\": 10\n                      },\n                      {\n                          \"expr\": \"sum(namespace_pod_name_container_name:container_cpu_usage_seconds_total:sum_rate) by (namespace) / sum(kube_pod_container_resource_requests_cpu_cores) by (namespace)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"C\",\n                          \"step\": 10\n                      },\n                      {\n                          \"expr\": \"sum(kube_pod_container_resource_limits_cpu_cores) by (namespace)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"D\",\n                          \"step\": 10\n                      },\n                      {\n                          \"expr\": \"sum(namespace_pod_name_container_name:container_cpu_usage_seconds_total:sum_rate) by (namespace) / sum(kube_pod_container_resource_limits_cpu_cores) by (namespace)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"E\",\n                          \"step\": 10\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"CPU Quota\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"transform\": \"table\",\n                  \"type\": \"table\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": true,\n          \"title\": \"CPU Quota\",\n          \"titleSize\": \"h6\"\n      },\n      {\n          \"collapse\": false,\n          \"height\": \"250px\",\n          \"panels\": [\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 10,\n                  \"id\": 8,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 0,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 12,\n                  \"stack\": true,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"sum(container_memory_rss{container_name!=\\\"\\\"}) by (namespace)\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"{{namespace}}\",\n                          \"legendLink\": null,\n                          \"step\": 10\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"Memory Usage (w/o cache)\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"graph\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"decbytes\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": true,\n          \"title\": \"Memory\",\n          \"titleSize\": \"h6\"\n      },\n      {\n          \"collapse\": false,\n          \"height\": \"250px\",\n          \"panels\": [\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"id\": 9,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 12,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"styles\": [\n                      {\n                          \"alias\": \"Time\",\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"pattern\": \"Time\",\n                          \"type\": \"hidden\"\n                      },\n                      {\n                          \"alias\": \"Memory Usage\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #A\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"decbytes\"\n                      },\n                      {\n                          \"alias\": \"Memory Requests\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #B\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"decbytes\"\n                      },\n                      {\n                          \"alias\": \"Memory Requests %\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #C\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"percentunit\"\n                      },\n                      {\n                          \"alias\": \"Memory Limits\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #D\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"decbytes\"\n                      },\n                      {\n                          \"alias\": \"Memory Limits %\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #E\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"percentunit\"\n                      },\n                      {\n                          \"alias\": \"Namespace\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": true,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"/d/85a562078cdf77779eaa1add43ccec1e/k8s-resources-namespace?var-datasource=$datasource\u0026var-namespace=$__cell\",\n                          \"pattern\": \"namespace\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"short\"\n                      },\n                      {\n                          \"alias\": \"\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"pattern\": \"/.*/\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"string\",\n                          \"unit\": \"short\"\n                      }\n                  ],\n                  \"targets\": [\n                      {\n                          \"expr\": \"sum(container_memory_rss{container_name!=\\\"\\\"}) by (namespace)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"A\",\n                          \"step\": 10\n                      },\n                      {\n                          \"expr\": \"sum(kube_pod_container_resource_requests_memory_bytes) by (namespace)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"B\",\n                          \"step\": 10\n                      },\n                      {\n                          \"expr\": \"sum(container_memory_rss{container_name!=\\\"\\\"}) by (namespace) / sum(kube_pod_container_resource_requests_memory_bytes) by (namespace)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"C\",\n                          \"step\": 10\n                      },\n                      {\n                          \"expr\": \"sum(kube_pod_container_resource_limits_memory_bytes) by (namespace)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"D\",\n                          \"step\": 10\n                      },\n                      {\n                          \"expr\": \"sum(container_memory_rss{container_name!=\\\"\\\"}) by (namespace) / sum(kube_pod_container_resource_limits_memory_bytes) by (namespace)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"E\",\n                          \"step\": 10\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"Requests by Namespace\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"transform\": \"table\",\n                  \"type\": \"table\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": true,\n          \"title\": \"Memory Requests\",\n          \"titleSize\": \"h6\"\n      }\n  ],\n  \"schemaVersion\": 14,\n  \"style\": \"dark\",\n  \"tags\": [\n\n  ],\n  \"templating\": {\n      \"list\": [\n          {\n              \"current\": {\n                  \"text\": \"Prometheus\",\n                  \"value\": \"Prometheus\"\n              },\n              \"hide\": 0,\n              \"label\": null,\n              \"name\": \"datasource\",\n              \"options\": [\n\n              ],\n              \"query\": \"prometheus\",\n              \"refresh\": 1,\n              \"regex\": \"\",\n              \"type\": \"datasource\"\n          }\n      ]\n  },\n  \"time\": {\n      \"from\": \"now-1h\",\n      \"to\": \"now\"\n  },\n  \"timepicker\": {\n      \"refresh_intervals\": [\n          \"5s\",\n          \"10s\",\n          \"30s\",\n          \"1m\",\n          \"5m\",\n          \"15m\",\n          \"30m\",\n          \"1h\",\n          \"2h\",\n          \"1d\"\n      ],\n      \"time_options\": [\n          \"5m\",\n          \"15m\",\n          \"1h\",\n          \"6h\",\n          \"12h\",\n          \"24h\",\n          \"2d\",\n          \"7d\",\n          \"30d\"\n      ]\n  },\n  \"timezone\": \"\",\n  \"title\": \"K8s / Compute Resources / Cluster\",\n  \"uid\": \"efa86fd1d0c121a26444b636a3f509a8\",\n  \"version\": 0\n}"
- apiVersion: v1
  kind: ConfigMap
  metadata:
    name: my-pipeline-cp-monitor-pro-grafana-dashboard-k8s-resources-name
    labels:
      pipeline_grafana_dashboard: "1"
      app: prometheus-operator-grafana
      
      chart: prometheus-operator-0.1.20
      release: "my-pipeline-cp-monitor"
      heritage: "Helm"
  data:
    grafana-dashboard-k8s-resources-namespace.json: "{\n  \"annotations\": {\n      \"list\": [\n\n      ]\n  },\n  \"editable\": true,\n  \"gnetId\": null,\n  \"graphTooltip\": 0,\n  \"hideControls\": false,\n  \"links\": [\n\n  ],\n  \"refresh\": \"10s\",\n  \"rows\": [\n      {\n          \"collapse\": false,\n          \"height\": \"250px\",\n          \"panels\": [\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 10,\n                  \"id\": 0,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 0,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 12,\n                  \"stack\": true,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"sum(namespace_pod_name_container_name:container_cpu_usage_seconds_total:sum_rate{namespace=\\\"$namespace\\\"}) by (pod_name)\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"{{pod_name}}\",\n                          \"legendLink\": null,\n                          \"step\": 10\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"CPU Usage\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"graph\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": true,\n          \"title\": \"CPU Usage\",\n          \"titleSize\": \"h6\"\n      },\n      {\n          \"collapse\": false,\n          \"height\": \"250px\",\n          \"panels\": [\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"id\": 1,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 12,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"styles\": [\n                      {\n                          \"alias\": \"Time\",\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"pattern\": \"Time\",\n                          \"type\": \"hidden\"\n                      },\n                      {\n                          \"alias\": \"CPU Usage\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #A\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"short\"\n                      },\n                      {\n                          \"alias\": \"CPU Requests\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #B\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"short\"\n                      },\n                      {\n                          \"alias\": \"CPU Requests %\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #C\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"percentunit\"\n                      },\n                      {\n                          \"alias\": \"CPU Limits\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #D\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"short\"\n                      },\n                      {\n                          \"alias\": \"CPU Limits %\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #E\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"percentunit\"\n                      },\n                      {\n                          \"alias\": \"Pod\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": true,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"/d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource\u0026var-namespace=$namespace\u0026var-pod=$__cell\",\n                          \"pattern\": \"pod\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"short\"\n                      },\n                      {\n                          \"alias\": \"\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"pattern\": \"/.*/\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"string\",\n                          \"unit\": \"short\"\n                      }\n                  ],\n                  \"targets\": [\n                      {\n                          \"expr\": \"sum(label_replace(namespace_pod_name_container_name:container_cpu_usage_seconds_total:sum_rate{namespace=\\\"$namespace\\\"}, \\\"pod\\\", \\\"$1\\\", \\\"pod_name\\\", \\\"(.*)\\\")) by (pod)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"A\",\n                          \"step\": 10\n                      },\n                      {\n                          \"expr\": \"sum(kube_pod_container_resource_requests_cpu_cores{namespace=\\\"$namespace\\\"}) by (pod)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"B\",\n                          \"step\": 10\n                      },\n                      {\n                          \"expr\": \"sum(label_replace(namespace_pod_name_container_name:container_cpu_usage_seconds_total:sum_rate{namespace=\\\"$namespace\\\"}, \\\"pod\\\", \\\"$1\\\", \\\"pod_name\\\", \\\"(.*)\\\")) by (pod) / sum(kube_pod_container_resource_requests_cpu_cores{namespace=\\\"$namespace\\\"}) by (pod)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"C\",\n                          \"step\": 10\n                      },\n                      {\n                          \"expr\": \"sum(kube_pod_container_resource_limits_cpu_cores{namespace=\\\"$namespace\\\"}) by (pod)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"D\",\n                          \"step\": 10\n                      },\n                      {\n                          \"expr\": \"sum(label_replace(namespace_pod_name_container_name:container_cpu_usage_seconds_total:sum_rate{namespace=\\\"$namespace\\\"}, \\\"pod\\\", \\\"$1\\\", \\\"pod_name\\\", \\\"(.*)\\\")) by (pod) / sum(kube_pod_container_resource_limits_cpu_cores{namespace=\\\"$namespace\\\"}) by (pod)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"E\",\n                          \"step\": 10\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"CPU Quota\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"transform\": \"table\",\n                  \"type\": \"table\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": true,\n          \"title\": \"CPU Quota\",\n          \"titleSize\": \"h6\"\n      },\n      {\n          \"collapse\": false,\n          \"height\": \"250px\",\n          \"panels\": [\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 10,\n                  \"id\": 2,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 0,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 12,\n                  \"stack\": true,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"sum(container_memory_usage_bytes{namespace=\\\"$namespace\\\", container_name!=\\\"\\\"}) by (pod_name)\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"{{pod_name}}\",\n                          \"legendLink\": null,\n                          \"step\": 10\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"Memory Usage\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"graph\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"decbytes\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": true,\n          \"title\": \"Memory Usage\",\n          \"titleSize\": \"h6\"\n      },\n      {\n          \"collapse\": false,\n          \"height\": \"250px\",\n          \"panels\": [\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"id\": 3,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 12,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"styles\": [\n                      {\n                          \"alias\": \"Time\",\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"pattern\": \"Time\",\n                          \"type\": \"hidden\"\n                      },\n                      {\n                          \"alias\": \"Memory Usage\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #A\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"decbytes\"\n                      },\n                      {\n                          \"alias\": \"Memory Requests\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #B\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"decbytes\"\n                      },\n                      {\n                          \"alias\": \"Memory Requests %\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #C\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"percentunit\"\n                      },\n                      {\n                          \"alias\": \"Memory Limits\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #D\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"decbytes\"\n                      },\n                      {\n                          \"alias\": \"Memory Limits %\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #E\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"percentunit\"\n                      },\n                      {\n                          \"alias\": \"Pod\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": true,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"/d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource\u0026var-namespace=$namespace\u0026var-pod=$__cell\",\n                          \"pattern\": \"pod\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"short\"\n                      },\n                      {\n                          \"alias\": \"\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"pattern\": \"/.*/\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"string\",\n                          \"unit\": \"short\"\n                      }\n                  ],\n                  \"targets\": [\n                      {\n                          \"expr\": \"sum(label_replace(container_memory_usage_bytes{namespace=\\\"$namespace\\\",container_name!=\\\"\\\"}, \\\"pod\\\", \\\"$1\\\", \\\"pod_name\\\", \\\"(.*)\\\")) by (pod)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"A\",\n                          \"step\": 10\n                      },\n                      {\n                          \"expr\": \"sum(kube_pod_container_resource_requests_memory_bytes{namespace=\\\"$namespace\\\"}) by (pod)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"B\",\n                          \"step\": 10\n                      },\n                      {\n                          \"expr\": \"sum(label_replace(container_memory_usage_bytes{namespace=\\\"$namespace\\\",container_name!=\\\"\\\"}, \\\"pod\\\", \\\"$1\\\", \\\"pod_name\\\", \\\"(.*)\\\")) by (pod) / sum(kube_pod_container_resource_requests_memory_bytes{namespace=\\\"$namespace\\\"}) by (pod)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"C\",\n                          \"step\": 10\n                      },\n                      {\n                          \"expr\": \"sum(kube_pod_container_resource_limits_memory_bytes{namespace=\\\"$namespace\\\"}) by (pod)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"D\",\n                          \"step\": 10\n                      },\n                      {\n                          \"expr\": \"sum(label_replace(container_memory_usage_bytes{namespace=\\\"$namespace\\\",container_name!=\\\"\\\"}, \\\"pod\\\", \\\"$1\\\", \\\"pod_name\\\", \\\"(.*)\\\")) by (pod) / sum(kube_pod_container_resource_limits_memory_bytes{namespace=\\\"$namespace\\\"}) by (pod)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"E\",\n                          \"step\": 10\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"Memory Quota\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"transform\": \"table\",\n                  \"type\": \"table\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": true,\n          \"title\": \"Memory Quota\",\n          \"titleSize\": \"h6\"\n      }\n  ],\n  \"schemaVersion\": 14,\n  \"style\": \"dark\",\n  \"tags\": [\n\n  ],\n  \"templating\": {\n      \"list\": [\n          {\n              \"current\": {\n                  \"text\": \"Prometheus\",\n                  \"value\": \"Prometheus\"\n              },\n              \"hide\": 0,\n              \"label\": null,\n              \"name\": \"datasource\",\n              \"options\": [\n\n              ],\n              \"query\": \"prometheus\",\n              \"refresh\": 1,\n              \"regex\": \"\",\n              \"type\": \"datasource\"\n          },\n          {\n              \"allValue\": null,\n              \"current\": {\n                  \"text\": \"prod\",\n                  \"value\": \"prod\"\n              },\n              \"datasource\": \"$datasource\",\n              \"hide\": 0,\n              \"includeAll\": false,\n              \"label\": \"namespace\",\n              \"multi\": false,\n              \"name\": \"namespace\",\n              \"options\": [\n\n              ],\n              \"query\": \"label_values(kube_pod_info, namespace)\",\n              \"refresh\": 1,\n              \"regex\": \"\",\n              \"sort\": 2,\n              \"tagValuesQuery\": \"\",\n              \"tags\": [\n\n              ],\n              \"tagsQuery\": \"\",\n              \"type\": \"query\",\n              \"useTags\": false\n          }\n      ]\n  },\n  \"time\": {\n      \"from\": \"now-1h\",\n      \"to\": \"now\"\n  },\n  \"timepicker\": {\n      \"refresh_intervals\": [\n          \"5s\",\n          \"10s\",\n          \"30s\",\n          \"1m\",\n          \"5m\",\n          \"15m\",\n          \"30m\",\n          \"1h\",\n          \"2h\",\n          \"1d\"\n      ],\n      \"time_options\": [\n          \"5m\",\n          \"15m\",\n          \"1h\",\n          \"6h\",\n          \"12h\",\n          \"24h\",\n          \"2d\",\n          \"7d\",\n          \"30d\"\n      ]\n  },\n  \"timezone\": \"\",\n  \"title\": \"K8s / Compute Resources / Namespace\",\n  \"uid\": \"85a562078cdf77779eaa1add43ccec1e\",\n  \"version\": 0\n}"
- apiVersion: v1
  kind: ConfigMap
  metadata:
    name: my-pipeline-cp-monitor-pro-grafana-dashboard-k8s-resources-pod
    labels:
      pipeline_grafana_dashboard: "1"
      app: prometheus-operator-grafana
      
      chart: prometheus-operator-0.1.20
      release: "my-pipeline-cp-monitor"
      heritage: "Helm"
  data:
    grafana-dashboard-k8s-resources-pod.json: "{\n  \"annotations\": {\n      \"list\": [\n\n      ]\n  },\n  \"editable\": true,\n  \"gnetId\": null,\n  \"graphTooltip\": 0,\n  \"hideControls\": false,\n  \"links\": [\n\n  ],\n  \"refresh\": \"10s\",\n  \"rows\": [\n      {\n          \"collapse\": false,\n          \"height\": \"250px\",\n          \"panels\": [\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 10,\n                  \"id\": 0,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 0,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 12,\n                  \"stack\": true,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"sum(namespace_pod_name_container_name:container_cpu_usage_seconds_total:sum_rate{namespace=\\\"$namespace\\\", pod_name=\\\"$pod\\\", container_name!=\\\"POD\\\"}) by (container_name)\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"{{container_name}}\",\n                          \"legendLink\": null,\n                          \"step\": 10\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"CPU Usage\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"graph\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": true,\n          \"title\": \"CPU Usage\",\n          \"titleSize\": \"h6\"\n      },\n      {\n          \"collapse\": false,\n          \"height\": \"250px\",\n          \"panels\": [\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"id\": 1,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 12,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"styles\": [\n                      {\n                          \"alias\": \"Time\",\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"pattern\": \"Time\",\n                          \"type\": \"hidden\"\n                      },\n                      {\n                          \"alias\": \"CPU Usage\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #A\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"short\"\n                      },\n                      {\n                          \"alias\": \"CPU Requests\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #B\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"short\"\n                      },\n                      {\n                          \"alias\": \"CPU Requests %\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #C\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"percentunit\"\n                      },\n                      {\n                          \"alias\": \"CPU Limits\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #D\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"short\"\n                      },\n                      {\n                          \"alias\": \"CPU Limits %\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #E\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"percentunit\"\n                      },\n                      {\n                          \"alias\": \"Container\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"container\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"short\"\n                      },\n                      {\n                          \"alias\": \"\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"pattern\": \"/.*/\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"string\",\n                          \"unit\": \"short\"\n                      }\n                  ],\n                  \"targets\": [\n                      {\n                          \"expr\": \"sum(label_replace(namespace_pod_name_container_name:container_cpu_usage_seconds_total:sum_rate{namespace=\\\"$namespace\\\", pod_name=\\\"$pod\\\", container_name!=\\\"POD\\\"}, \\\"container\\\", \\\"$1\\\", \\\"container_name\\\", \\\"(.*)\\\")) by (container)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"A\",\n                          \"step\": 10\n                      },\n                      {\n                          \"expr\": \"sum(kube_pod_container_resource_requests_cpu_cores{namespace=\\\"$namespace\\\", pod=\\\"$pod\\\"}) by (container)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"B\",\n                          \"step\": 10\n                      },\n                      {\n                          \"expr\": \"sum(label_replace(namespace_pod_name_container_name:container_cpu_usage_seconds_total:sum_rate{namespace=\\\"$namespace\\\", pod_name=\\\"$pod\\\"}, \\\"container\\\", \\\"$1\\\", \\\"container_name\\\", \\\"(.*)\\\")) by (container) / sum(kube_pod_container_resource_requests_cpu_cores{namespace=\\\"$namespace\\\", pod=\\\"$pod\\\"}) by (container)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"C\",\n                          \"step\": 10\n                      },\n                      {\n                          \"expr\": \"sum(kube_pod_container_resource_limits_cpu_cores{namespace=\\\"$namespace\\\", pod=\\\"$pod\\\"}) by (container)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"D\",\n                          \"step\": 10\n                      },\n                      {\n                          \"expr\": \"sum(label_replace(namespace_pod_name_container_name:container_cpu_usage_seconds_total:sum_rate{namespace=\\\"$namespace\\\", pod_name=\\\"$pod\\\"}, \\\"container\\\", \\\"$1\\\", \\\"container_name\\\", \\\"(.*)\\\")) by (container) / sum(kube_pod_container_resource_limits_cpu_cores{namespace=\\\"$namespace\\\", pod=\\\"$pod\\\"}) by (container)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"E\",\n                          \"step\": 10\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"CPU Quota\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"transform\": \"table\",\n                  \"type\": \"table\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": true,\n          \"title\": \"CPU Quota\",\n          \"titleSize\": \"h6\"\n      },\n      {\n          \"collapse\": false,\n          \"height\": \"250px\",\n          \"panels\": [\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 10,\n                  \"id\": 2,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 0,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 12,\n                  \"stack\": true,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"sum(container_memory_usage_bytes{namespace=\\\"$namespace\\\", pod_name=\\\"$pod\\\", container_name!=\\\"POD\\\", container_name!=\\\"\\\"}) by (container_name)\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"{{container_name}}\",\n                          \"legendLink\": null,\n                          \"step\": 10\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"Memory Usage\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"graph\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": true,\n          \"title\": \"Memory Usage\",\n          \"titleSize\": \"h6\"\n      },\n      {\n          \"collapse\": false,\n          \"height\": \"250px\",\n          \"panels\": [\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"id\": 3,\n                  \"legend\": {\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null as zero\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 12,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"styles\": [\n                      {\n                          \"alias\": \"Time\",\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"pattern\": \"Time\",\n                          \"type\": \"hidden\"\n                      },\n                      {\n                          \"alias\": \"Memory Usage\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #A\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"decbytes\"\n                      },\n                      {\n                          \"alias\": \"Memory Requests\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #B\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"decbytes\"\n                      },\n                      {\n                          \"alias\": \"Memory Requests %\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #C\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"percentunit\"\n                      },\n                      {\n                          \"alias\": \"Memory Limits\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #D\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"decbytes\"\n                      },\n                      {\n                          \"alias\": \"Memory Limits %\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"Value #E\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"percentunit\"\n                      },\n                      {\n                          \"alias\": \"Container\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"link\": false,\n                          \"linkTooltip\": \"Drill down\",\n                          \"linkUrl\": \"\",\n                          \"pattern\": \"container\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"number\",\n                          \"unit\": \"short\"\n                      },\n                      {\n                          \"alias\": \"\",\n                          \"colorMode\": null,\n                          \"colors\": [\n\n                          ],\n                          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n                          \"decimals\": 2,\n                          \"pattern\": \"/.*/\",\n                          \"thresholds\": [\n\n                          ],\n                          \"type\": \"string\",\n                          \"unit\": \"short\"\n                      }\n                  ],\n                  \"targets\": [\n                      {\n                          \"expr\": \"sum(label_replace(container_memory_usage_bytes{namespace=\\\"$namespace\\\", pod_name=\\\"$pod\\\", container_name!=\\\"POD\\\", container_name!=\\\"\\\"}, \\\"container\\\", \\\"$1\\\", \\\"container_name\\\", \\\"(.*)\\\")) by (container)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"A\",\n                          \"step\": 10\n                      },\n                      {\n                          \"expr\": \"sum(kube_pod_container_resource_requests_memory_bytes{namespace=\\\"$namespace\\\", pod=\\\"$pod\\\"}) by (container)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"B\",\n                          \"step\": 10\n                      },\n                      {\n                          \"expr\": \"sum(label_replace(container_memory_usage_bytes{namespace=\\\"$namespace\\\", pod_name=\\\"$pod\\\"}, \\\"container\\\", \\\"$1\\\", \\\"container_name\\\", \\\"(.*)\\\")) by (container) / sum(kube_pod_container_resource_requests_memory_bytes{namespace=\\\"$namespace\\\", pod=\\\"$pod\\\"}) by (container)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"C\",\n                          \"step\": 10\n                      },\n                      {\n                          \"expr\": \"sum(kube_pod_container_resource_limits_memory_bytes{namespace=\\\"$namespace\\\", pod=\\\"$pod\\\", container!=\\\"\\\"}) by (container)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"D\",\n                          \"step\": 10\n                      },\n                      {\n                          \"expr\": \"sum(label_replace(container_memory_usage_bytes{namespace=\\\"$namespace\\\", pod_name=\\\"$pod\\\", container_name!=\\\"\\\"}, \\\"container\\\", \\\"$1\\\", \\\"container_name\\\", \\\"(.*)\\\")) by (container) / sum(kube_pod_container_resource_limits_memory_bytes{namespace=\\\"$namespace\\\", pod=\\\"$pod\\\"}) by (container)\",\n                          \"format\": \"table\",\n                          \"instant\": true,\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\",\n                          \"refId\": \"E\",\n                          \"step\": 10\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"Memory Quota\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"transform\": \"table\",\n                  \"type\": \"table\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": false\n                      }\n                  ]\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": true,\n          \"title\": \"Memory Quota\",\n          \"titleSize\": \"h6\"\n      }\n  ],\n  \"schemaVersion\": 14,\n  \"style\": \"dark\",\n  \"tags\": [\n\n  ],\n  \"templating\": {\n      \"list\": [\n          {\n              \"current\": {\n                  \"text\": \"Prometheus\",\n                  \"value\": \"Prometheus\"\n              },\n              \"hide\": 0,\n              \"label\": null,\n              \"name\": \"datasource\",\n              \"options\": [\n\n              ],\n              \"query\": \"prometheus\",\n              \"refresh\": 1,\n              \"regex\": \"\",\n              \"type\": \"datasource\"\n          },\n          {\n              \"allValue\": null,\n              \"current\": {\n                  \"text\": \"prod\",\n                  \"value\": \"prod\"\n              },\n              \"datasource\": \"$datasource\",\n              \"hide\": 0,\n              \"includeAll\": false,\n              \"label\": \"namespace\",\n              \"multi\": false,\n              \"name\": \"namespace\",\n              \"options\": [\n\n              ],\n              \"query\": \"label_values(kube_pod_info, namespace)\",\n              \"refresh\": 1,\n              \"regex\": \"\",\n              \"sort\": 2,\n              \"tagValuesQuery\": \"\",\n              \"tags\": [\n\n              ],\n              \"tagsQuery\": \"\",\n              \"type\": \"query\",\n              \"useTags\": false\n          },\n          {\n              \"allValue\": null,\n              \"current\": {\n                  \"text\": \"prod\",\n                  \"value\": \"prod\"\n              },\n              \"datasource\": \"$datasource\",\n              \"hide\": 0,\n              \"includeAll\": false,\n              \"label\": \"pod\",\n              \"multi\": false,\n              \"name\": \"pod\",\n              \"options\": [\n\n              ],\n              \"query\": \"label_values(kube_pod_info{namespace=\\\"$namespace\\\"}, pod)\",\n              \"refresh\": 1,\n              \"regex\": \"\",\n              \"sort\": 2,\n              \"tagValuesQuery\": \"\",\n              \"tags\": [\n\n              ],\n              \"tagsQuery\": \"\",\n              \"type\": \"query\",\n              \"useTags\": false\n          }\n      ]\n  },\n  \"time\": {\n      \"from\": \"now-1h\",\n      \"to\": \"now\"\n  },\n  \"timepicker\": {\n      \"refresh_intervals\": [\n          \"5s\",\n          \"10s\",\n          \"30s\",\n          \"1m\",\n          \"5m\",\n          \"15m\",\n          \"30m\",\n          \"1h\",\n          \"2h\",\n          \"1d\"\n      ],\n      \"time_options\": [\n          \"5m\",\n          \"15m\",\n          \"1h\",\n          \"6h\",\n          \"12h\",\n          \"24h\",\n          \"2d\",\n          \"7d\",\n          \"30d\"\n      ]\n  },\n  \"timezone\": \"\",\n  \"title\": \"K8s / Compute Resources / Pod\",\n  \"uid\": \"6581e46e4e5c7ba40a07646395ef7b23\",\n  \"version\": 0\n}"
- apiVersion: v1
  kind: ConfigMap
  metadata:
    name: my-pipeline-cp-monitor-pro-grafana-dashboard-nodes
    labels:
      pipeline_grafana_dashboard: "1"
      app: prometheus-operator-grafana
      
      chart: prometheus-operator-0.1.20
      release: "my-pipeline-cp-monitor"
      heritage: "Helm"
  data:
    grafana-dashboard-nodes.json: "{\n  \"annotations\": {\n      \"list\": [\n\n      ]\n  },\n  \"editable\": false,\n  \"gnetId\": null,\n  \"graphTooltip\": 0,\n  \"hideControls\": false,\n  \"id\": null,\n  \"links\": [\n\n  ],\n  \"refresh\": \"\",\n  \"rows\": [\n      {\n          \"collapse\": false,\n          \"collapsed\": false,\n          \"panels\": [\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"gridPos\": {\n\n                  },\n                  \"id\": 2,\n                  \"legend\": {\n                      \"alignAsTable\": false,\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"rightSide\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"repeat\": null,\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 6,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"max(node_load1{job=\\\"node-exporter\\\", instance=\\\"$instance\\\"})\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"load 1m\",\n                          \"refId\": \"A\"\n                      },\n                      {\n                          \"expr\": \"max(node_load5{job=\\\"node-exporter\\\", instance=\\\"$instance\\\"})\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"load 5m\",\n                          \"refId\": \"B\"\n                      },\n                      {\n                          \"expr\": \"max(node_load15{job=\\\"node-exporter\\\", instance=\\\"$instance\\\"})\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"load 15m\",\n                          \"refId\": \"C\"\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"System load\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"graph\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"percentunit\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"percentunit\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": true\n                      }\n                  ]\n              },\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"gridPos\": {\n\n                  },\n                  \"id\": 3,\n                  \"legend\": {\n                      \"alignAsTable\": false,\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"rightSide\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"repeat\": null,\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 6,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"avg by (cpu) (irate(node_cpu{job=\\\"node-exporter\\\", mode!=\\\"idle\\\", instance=\\\"$instance\\\"}[5m])) * 100\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"{{cpu}}\",\n                          \"refId\": \"A\"\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"System load\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"graph\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"percentunit\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"percentunit\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": true\n                      }\n                  ]\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": false,\n          \"title\": \"Dashboard Row\",\n          \"titleSize\": \"h6\",\n          \"type\": \"row\"\n      },\n      {\n          \"collapse\": false,\n          \"collapsed\": false,\n          \"panels\": [\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"gridPos\": {\n\n                  },\n                  \"id\": 4,\n                  \"legend\": {\n                      \"alignAsTable\": \"true\",\n                      \"avg\": \"true\",\n                      \"current\": \"true\",\n                      \"max\": \"false\",\n                      \"min\": \"false\",\n                      \"rightSide\": \"true\",\n                      \"show\": \"true\",\n                      \"total\": \"false\",\n                      \"values\": \"true\"\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"repeat\": null,\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 9,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"avg (sum by (cpu) (irate(node_cpu{job=\\\"node-exporter\\\", mode!=\\\"idle\\\", instance=\\\"$instance\\\"}[2m])) ) * 100\\n\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 10,\n                          \"legendFormat\": \"{{ cpu }}\",\n                          \"refId\": \"A\"\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"CPU Utilisation\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"graph\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"percent\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": 100,\n                          \"min\": 0,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"percent\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": 100,\n                          \"min\": 0,\n                          \"show\": true\n                      }\n                  ]\n              },\n              {\n                  \"cacheTimeout\": null,\n                  \"colorBackground\": false,\n                  \"colorValue\": false,\n                  \"colors\": [\n                      \"rgba(50, 172, 45, 0.97)\",\n                      \"rgba(237, 129, 40, 0.89)\",\n                      \"rgba(245, 54, 54, 0.9)\"\n                  ],\n                  \"datasource\": \"$datasource\",\n                  \"format\": \"percent\",\n                  \"gauge\": {\n                      \"maxValue\": 100,\n                      \"minValue\": 0,\n                      \"show\": true,\n                      \"thresholdLabels\": false,\n                      \"thresholdMarkers\": true\n                  },\n                  \"gridPos\": {\n\n                  },\n                  \"id\": 5,\n                  \"interval\": null,\n                  \"links\": [\n\n                  ],\n                  \"mappingType\": 1,\n                  \"mappingTypes\": [\n                      {\n                          \"name\": \"value to text\",\n                          \"value\": 1\n                      },\n                      {\n                          \"name\": \"range to text\",\n                          \"value\": 2\n                      }\n                  ],\n                  \"maxDataPoints\": 100,\n                  \"nullPointMode\": \"connected\",\n                  \"nullText\": null,\n                  \"postfix\": \"\",\n                  \"postfixFontSize\": \"50%\",\n                  \"prefix\": \"\",\n                  \"prefixFontSize\": \"50%\",\n                  \"rangeMaps\": [\n                      {\n                          \"from\": \"null\",\n                          \"text\": \"N/A\",\n                          \"to\": \"null\"\n                      }\n                  ],\n                  \"span\": 3,\n                  \"sparkline\": {\n                      \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n                      \"full\": false,\n                      \"lineColor\": \"rgb(31, 120, 193)\",\n                      \"show\": false\n                  },\n                  \"tableColumn\": \"\",\n                  \"targets\": [\n                      {\n                          \"expr\": \"avg(sum by (cpu) (irate(node_cpu{job=\\\"node-exporter\\\", mode!=\\\"idle\\\", instance=\\\"$instance\\\"}[2m]))) * 100\\n\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\"\n                      }\n                  ],\n                  \"thresholds\": \"80, 90\",\n                  \"title\": \"CPU Usage\",\n                  \"type\": \"singlestat\",\n                  \"valueFontSize\": \"80%\",\n                  \"valueMaps\": [\n                      {\n                          \"op\": \"=\",\n                          \"text\": \"N/A\",\n                          \"value\": \"null\"\n                      }\n                  ],\n                  \"valueName\": \"current\"\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": false,\n          \"title\": \"Dashboard Row\",\n          \"titleSize\": \"h6\",\n          \"type\": \"row\"\n      },\n      {\n          \"collapse\": false,\n          \"collapsed\": false,\n          \"panels\": [\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"gridPos\": {\n\n                  },\n                  \"id\": 6,\n                  \"legend\": {\n                      \"alignAsTable\": false,\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"rightSide\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"repeat\": null,\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 9,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"max(\\n  node_memory_MemTotal{job=\\\"node-exporter\\\", instance=\\\"$instance\\\"}\\n  - node_memory_MemFree{job=\\\"node-exporter\\\", instance=\\\"$instance\\\"}\\n  - node_memory_Buffers{job=\\\"node-exporter\\\", instance=\\\"$instance\\\"}\\n  - node_memory_Cached{job=\\\"node-exporter\\\", instance=\\\"$instance\\\"}\\n)\\n\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"memory used\",\n                          \"refId\": \"A\"\n                      },\n                      {\n                          \"expr\": \"max(node_memory_Buffers{job=\\\"node-exporter\\\", instance=\\\"$instance\\\"})\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"memory buffers\",\n                          \"refId\": \"B\"\n                      },\n                      {\n                          \"expr\": \"max(node_memory_Cached{job=\\\"node-exporter\\\", instance=\\\"$instance\\\"})\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"memory cached\",\n                          \"refId\": \"C\"\n                      },\n                      {\n                          \"expr\": \"max(node_memory_MemFree{job=\\\"node-exporter\\\", instance=\\\"$instance\\\"})\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"memory free\",\n                          \"refId\": \"D\"\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"Memory Usage\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"graph\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"bytes\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"bytes\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": true\n                      }\n                  ]\n              },\n              {\n                  \"cacheTimeout\": null,\n                  \"colorBackground\": false,\n                  \"colorValue\": false,\n                  \"colors\": [\n                      \"rgba(50, 172, 45, 0.97)\",\n                      \"rgba(237, 129, 40, 0.89)\",\n                      \"rgba(245, 54, 54, 0.9)\"\n                  ],\n                  \"datasource\": \"$datasource\",\n                  \"format\": \"percent\",\n                  \"gauge\": {\n                      \"maxValue\": 100,\n                      \"minValue\": 0,\n                      \"show\": true,\n                      \"thresholdLabels\": false,\n                      \"thresholdMarkers\": true\n                  },\n                  \"gridPos\": {\n\n                  },\n                  \"id\": 7,\n                  \"interval\": null,\n                  \"links\": [\n\n                  ],\n                  \"mappingType\": 1,\n                  \"mappingTypes\": [\n                      {\n                          \"name\": \"value to text\",\n                          \"value\": 1\n                      },\n                      {\n                          \"name\": \"range to text\",\n                          \"value\": 2\n                      }\n                  ],\n                  \"maxDataPoints\": 100,\n                  \"nullPointMode\": \"connected\",\n                  \"nullText\": null,\n                  \"postfix\": \"\",\n                  \"postfixFontSize\": \"50%\",\n                  \"prefix\": \"\",\n                  \"prefixFontSize\": \"50%\",\n                  \"rangeMaps\": [\n                      {\n                          \"from\": \"null\",\n                          \"text\": \"N/A\",\n                          \"to\": \"null\"\n                      }\n                  ],\n                  \"span\": 3,\n                  \"sparkline\": {\n                      \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n                      \"full\": false,\n                      \"lineColor\": \"rgb(31, 120, 193)\",\n                      \"show\": false\n                  },\n                  \"tableColumn\": \"\",\n                  \"targets\": [\n                      {\n                          \"expr\": \"max(\\n  (\\n    (\\n      node_memory_MemTotal{job=\\\"node-exporter\\\", instance=\\\"$instance\\\"}\\n    - node_memory_MemFree{job=\\\"node-exporter\\\", instance=\\\"$instance\\\"}\\n    - node_memory_Buffers{job=\\\"node-exporter\\\", instance=\\\"$instance\\\"}\\n    - node_memory_Cached{job=\\\"node-exporter\\\", instance=\\\"$instance\\\"}\\n    )\\n    / node_memory_MemTotal{job=\\\"node-exporter\\\", instance=\\\"$instance\\\"}\\n  ) * 100)\\n\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\"\n                      }\n                  ],\n                  \"thresholds\": \"80, 90\",\n                  \"title\": \"Memory Usage\",\n                  \"type\": \"singlestat\",\n                  \"valueFontSize\": \"80%\",\n                  \"valueMaps\": [\n                      {\n                          \"op\": \"=\",\n                          \"text\": \"N/A\",\n                          \"value\": \"null\"\n                      }\n                  ],\n                  \"valueName\": \"current\"\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": false,\n          \"title\": \"Dashboard Row\",\n          \"titleSize\": \"h6\",\n          \"type\": \"row\"\n      },\n      {\n          \"collapse\": false,\n          \"collapsed\": false,\n          \"panels\": [\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"gridPos\": {\n\n                  },\n                  \"id\": 8,\n                  \"legend\": {\n                      \"alignAsTable\": false,\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"rightSide\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"repeat\": null,\n                  \"seriesOverrides\": [\n                      {\n                          \"alias\": \"read\",\n                          \"yaxis\": 1\n                      },\n                      {\n                          \"alias\": \"io time\",\n                          \"yaxis\": 2\n                      }\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 6,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"max(rate(node_disk_bytes_read{job=\\\"node-exporter\\\", instance=\\\"$instance\\\"}[2m]))\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"read\",\n                          \"refId\": \"A\"\n                      },\n                      {\n                          \"expr\": \"max(rate(node_disk_bytes_written{job=\\\"node-exporter\\\", instance=\\\"$instance\\\"}[2m]))\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"written\",\n                          \"refId\": \"B\"\n                      },\n                      {\n                          \"expr\": \"max(rate(node_disk_io_time_ms{job=\\\"node-exporter\\\",  instance=\\\"$instance\\\"}[2m]))\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"io time\",\n                          \"refId\": \"C\"\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"Disk I/O\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"graph\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"bytes\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"ms\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": true\n                      }\n                  ]\n              },\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"gridPos\": {\n\n                  },\n                  \"id\": 9,\n                  \"legend\": {\n                      \"alignAsTable\": false,\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"rightSide\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"repeat\": null,\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 6,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"node:node_filesystem_usage:\\n\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"{{device}}\",\n                          \"refId\": \"A\"\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"Disk Space Usage\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"graph\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"percentunit\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"percentunit\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": true\n                      }\n                  ]\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": false,\n          \"title\": \"Dashboard Row\",\n          \"titleSize\": \"h6\",\n          \"type\": \"row\"\n      },\n      {\n          \"collapse\": false,\n          \"collapsed\": false,\n          \"panels\": [\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"gridPos\": {\n\n                  },\n                  \"id\": 10,\n                  \"legend\": {\n                      \"alignAsTable\": false,\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"rightSide\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"repeat\": null,\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 6,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"max(rate(node_network_receive_bytes{job=\\\"node-exporter\\\", instance=\\\"$instance\\\", device!\\u007e\\\"lo\\\"}[5m]))\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"{{device}}\",\n                          \"refId\": \"A\"\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"Network Received\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"graph\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"bytes\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"bytes\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": true\n                      }\n                  ]\n              },\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"gridPos\": {\n\n                  },\n                  \"id\": 11,\n                  \"legend\": {\n                      \"alignAsTable\": false,\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"rightSide\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"repeat\": null,\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"span\": 6,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"max(rate(node_network_transmit_bytes{job=\\\"node-exporter\\\", instance=\\\"$instance\\\", device!\\u007e\\\"lo\\\"}[5m]))\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"{{device}}\",\n                          \"refId\": \"A\"\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"Network Transmitted\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"graph\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"bytes\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"bytes\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": true\n                      }\n                  ]\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": false,\n          \"title\": \"Dashboard Row\",\n          \"titleSize\": \"h6\",\n          \"type\": \"row\"\n      }\n  ],\n  \"schemaVersion\": 14,\n  \"style\": \"dark\",\n  \"tags\": [\n\n  ],\n  \"templating\": {\n      \"list\": [\n          {\n              \"current\": {\n                  \"text\": \"Prometheus\",\n                  \"value\": \"Prometheus\"\n              },\n              \"hide\": 0,\n              \"label\": null,\n              \"name\": \"datasource\",\n              \"options\": [\n\n              ],\n              \"query\": \"prometheus\",\n              \"refresh\": 1,\n              \"regex\": \"\",\n              \"type\": \"datasource\"\n          },\n          {\n              \"allValue\": null,\n              \"current\": {\n\n              },\n              \"datasource\": \"$datasource\",\n              \"hide\": 0,\n              \"includeAll\": false,\n              \"label\": null,\n              \"multi\": false,\n              \"name\": \"instance\",\n              \"options\": [\n\n              ],\n              \"query\": \"label_values(node_boot_time{job=\\\"node-exporter\\\"}, instance)\",\n              \"refresh\": 2,\n              \"regex\": \"\",\n              \"sort\": 0,\n              \"tagValuesQuery\": \"\",\n              \"tags\": [\n\n              ],\n              \"tagsQuery\": \"\",\n              \"type\": \"query\",\n              \"useTags\": false\n          }\n      ]\n  },\n  \"time\": {\n      \"from\": \"now-1h\",\n      \"to\": \"now\"\n  },\n  \"timepicker\": {\n      \"refresh_intervals\": [\n          \"5s\",\n          \"10s\",\n          \"30s\",\n          \"1m\",\n          \"5m\",\n          \"15m\",\n          \"30m\",\n          \"1h\",\n          \"2h\",\n          \"1d\"\n      ],\n      \"time_options\": [\n          \"5m\",\n          \"15m\",\n          \"1h\",\n          \"6h\",\n          \"12h\",\n          \"24h\",\n          \"2d\",\n          \"7d\",\n          \"30d\"\n      ]\n  },\n  \"timezone\": \"\",\n  \"title\": \"Nodes\",\n  \"uid\": \"fa49a4706d07a042595b664c87fb33ea\",\n  \"version\": 0\n}\n"
- apiVersion: v1
  kind: ConfigMap
  metadata:
    name: my-pipeline-cp-monitor-pro-grafana-dashboard-statefulset
    labels:
      pipeline_grafana_dashboard: "1"
      app: prometheus-operator-grafana
      
      chart: prometheus-operator-0.1.20
      release: "my-pipeline-cp-monitor"
      heritage: "Helm"
  data:
    grafana-dashboard-statefulset.json: "{\n  \"annotations\": {\n      \"list\": [\n\n      ]\n  },\n  \"editable\": false,\n  \"gnetId\": null,\n  \"graphTooltip\": 0,\n  \"hideControls\": false,\n  \"id\": null,\n  \"links\": [\n\n  ],\n  \"refresh\": \"\",\n  \"rows\": [\n      {\n          \"collapse\": false,\n          \"collapsed\": false,\n          \"panels\": [\n              {\n                  \"cacheTimeout\": null,\n                  \"colorBackground\": false,\n                  \"colorValue\": false,\n                  \"colors\": [\n                      \"#299c46\",\n                      \"rgba(237, 129, 40, 0.89)\",\n                      \"#d44a3a\"\n                  ],\n                  \"datasource\": \"$datasource\",\n                  \"format\": \"none\",\n                  \"gauge\": {\n                      \"maxValue\": 100,\n                      \"minValue\": 0,\n                      \"show\": false,\n                      \"thresholdLabels\": false,\n                      \"thresholdMarkers\": true\n                  },\n                  \"gridPos\": {\n\n                  },\n                  \"id\": 2,\n                  \"interval\": null,\n                  \"links\": [\n\n                  ],\n                  \"mappingType\": 1,\n                  \"mappingTypes\": [\n                      {\n                          \"name\": \"value to text\",\n                          \"value\": 1\n                      },\n                      {\n                          \"name\": \"range to text\",\n                          \"value\": 2\n                      }\n                  ],\n                  \"maxDataPoints\": 100,\n                  \"nullPointMode\": \"connected\",\n                  \"nullText\": null,\n                  \"postfix\": \"cores\",\n                  \"postfixFontSize\": \"50%\",\n                  \"prefix\": \"\",\n                  \"prefixFontSize\": \"50%\",\n                  \"rangeMaps\": [\n                      {\n                          \"from\": \"null\",\n                          \"text\": \"N/A\",\n                          \"to\": \"null\"\n                      }\n                  ],\n                  \"span\": 4,\n                  \"sparkline\": {\n                      \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n                      \"lineColor\": \"rgb(31, 120, 193)\",\n                      \"show\": true\n                  },\n                  \"tableColumn\": \"\",\n                  \"targets\": [\n                      {\n                          \"expr\": \"sum(rate(container_cpu_usage_seconds_total{job=\\\"kubelet\\\", namespace=\\\"$namespace\\\", pod_name=\\u007e\\\"$statefulset.*\\\"}[3m]))\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\"\n                      }\n                  ],\n                  \"thresholds\": \"\",\n                  \"title\": \"CPU\",\n                  \"type\": \"singlestat\",\n                  \"valueFontSize\": \"80%\",\n                  \"valueMaps\": [\n                      {\n                          \"op\": \"=\",\n                          \"text\": \"0\",\n                          \"value\": \"null\"\n                      }\n                  ],\n                  \"valueName\": \"current\"\n              },\n              {\n                  \"cacheTimeout\": null,\n                  \"colorBackground\": false,\n                  \"colorValue\": false,\n                  \"colors\": [\n                      \"#299c46\",\n                      \"rgba(237, 129, 40, 0.89)\",\n                      \"#d44a3a\"\n                  ],\n                  \"datasource\": \"$datasource\",\n                  \"format\": \"none\",\n                  \"gauge\": {\n                      \"maxValue\": 100,\n                      \"minValue\": 0,\n                      \"show\": false,\n                      \"thresholdLabels\": false,\n                      \"thresholdMarkers\": true\n                  },\n                  \"gridPos\": {\n\n                  },\n                  \"id\": 3,\n                  \"interval\": null,\n                  \"links\": [\n\n                  ],\n                  \"mappingType\": 1,\n                  \"mappingTypes\": [\n                      {\n                          \"name\": \"value to text\",\n                          \"value\": 1\n                      },\n                      {\n                          \"name\": \"range to text\",\n                          \"value\": 2\n                      }\n                  ],\n                  \"maxDataPoints\": 100,\n                  \"nullPointMode\": \"connected\",\n                  \"nullText\": null,\n                  \"postfix\": \"GB\",\n                  \"postfixFontSize\": \"50%\",\n                  \"prefix\": \"\",\n                  \"prefixFontSize\": \"50%\",\n                  \"rangeMaps\": [\n                      {\n                          \"from\": \"null\",\n                          \"text\": \"N/A\",\n                          \"to\": \"null\"\n                      }\n                  ],\n                  \"span\": 4,\n                  \"sparkline\": {\n                      \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n                      \"lineColor\": \"rgb(31, 120, 193)\",\n                      \"show\": true\n                  },\n                  \"tableColumn\": \"\",\n                  \"targets\": [\n                      {\n                          \"expr\": \"sum(container_memory_usage_bytes{job=\\\"kubelet\\\", namespace=\\\"$namespace\\\", pod_name=\\u007e\\\"$statefulset.*\\\"}) / 1024^3\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\"\n                      }\n                  ],\n                  \"thresholds\": \"\",\n                  \"title\": \"Memory\",\n                  \"type\": \"singlestat\",\n                  \"valueFontSize\": \"80%\",\n                  \"valueMaps\": [\n                      {\n                          \"op\": \"=\",\n                          \"text\": \"0\",\n                          \"value\": \"null\"\n                      }\n                  ],\n                  \"valueName\": \"current\"\n              },\n              {\n                  \"cacheTimeout\": null,\n                  \"colorBackground\": false,\n                  \"colorValue\": false,\n                  \"colors\": [\n                      \"#299c46\",\n                      \"rgba(237, 129, 40, 0.89)\",\n                      \"#d44a3a\"\n                  ],\n                  \"datasource\": \"$datasource\",\n                  \"format\": \"none\",\n                  \"gauge\": {\n                      \"maxValue\": 100,\n                      \"minValue\": 0,\n                      \"show\": false,\n                      \"thresholdLabels\": false,\n                      \"thresholdMarkers\": true\n                  },\n                  \"gridPos\": {\n\n                  },\n                  \"id\": 4,\n                  \"interval\": null,\n                  \"links\": [\n\n                  ],\n                  \"mappingType\": 1,\n                  \"mappingTypes\": [\n                      {\n                          \"name\": \"value to text\",\n                          \"value\": 1\n                      },\n                      {\n                          \"name\": \"range to text\",\n                          \"value\": 2\n                      }\n                  ],\n                  \"maxDataPoints\": 100,\n                  \"nullPointMode\": \"connected\",\n                  \"nullText\": null,\n                  \"postfix\": \"Bps\",\n                  \"postfixFontSize\": \"50%\",\n                  \"prefix\": \"\",\n                  \"prefixFontSize\": \"50%\",\n                  \"rangeMaps\": [\n                      {\n                          \"from\": \"null\",\n                          \"text\": \"N/A\",\n                          \"to\": \"null\"\n                      }\n                  ],\n                  \"span\": 4,\n                  \"sparkline\": {\n                      \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n                      \"lineColor\": \"rgb(31, 120, 193)\",\n                      \"show\": true\n                  },\n                  \"tableColumn\": \"\",\n                  \"targets\": [\n                      {\n                          \"expr\": \"sum(rate(container_network_transmit_bytes_total{job=\\\"kubelet\\\", namespace=\\\"$namespace\\\", pod_name=\\u007e\\\"$statefulset.*\\\"}[3m])) + sum(rate(container_network_receive_bytes_total{namespace=\\\"$namespace\\\",pod_name=\\u007e\\\"$statefulset.*\\\"}[3m]))\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\"\n                      }\n                  ],\n                  \"thresholds\": \"\",\n                  \"title\": \"Network\",\n                  \"type\": \"singlestat\",\n                  \"valueFontSize\": \"80%\",\n                  \"valueMaps\": [\n                      {\n                          \"op\": \"=\",\n                          \"text\": \"0\",\n                          \"value\": \"null\"\n                      }\n                  ],\n                  \"valueName\": \"current\"\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": false,\n          \"title\": \"Dashboard Row\",\n          \"titleSize\": \"h6\",\n          \"type\": \"row\"\n      },\n      {\n          \"collapse\": false,\n          \"collapsed\": false,\n          \"height\": \"100px\",\n          \"panels\": [\n              {\n                  \"cacheTimeout\": null,\n                  \"colorBackground\": false,\n                  \"colorValue\": false,\n                  \"colors\": [\n                      \"#299c46\",\n                      \"rgba(237, 129, 40, 0.89)\",\n                      \"#d44a3a\"\n                  ],\n                  \"datasource\": \"$datasource\",\n                  \"format\": \"none\",\n                  \"gauge\": {\n                      \"maxValue\": 100,\n                      \"minValue\": 0,\n                      \"show\": false,\n                      \"thresholdLabels\": false,\n                      \"thresholdMarkers\": true\n                  },\n                  \"gridPos\": {\n\n                  },\n                  \"id\": 5,\n                  \"interval\": null,\n                  \"links\": [\n\n                  ],\n                  \"mappingType\": 1,\n                  \"mappingTypes\": [\n                      {\n                          \"name\": \"value to text\",\n                          \"value\": 1\n                      },\n                      {\n                          \"name\": \"range to text\",\n                          \"value\": 2\n                      }\n                  ],\n                  \"maxDataPoints\": 100,\n                  \"nullPointMode\": \"connected\",\n                  \"nullText\": null,\n                  \"postfix\": \"\",\n                  \"postfixFontSize\": \"50%\",\n                  \"prefix\": \"\",\n                  \"prefixFontSize\": \"50%\",\n                  \"rangeMaps\": [\n                      {\n                          \"from\": \"null\",\n                          \"text\": \"N/A\",\n                          \"to\": \"null\"\n                      }\n                  ],\n                  \"span\": 3,\n                  \"sparkline\": {\n                      \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n                      \"full\": false,\n                      \"lineColor\": \"rgb(31, 120, 193)\",\n                      \"show\": false\n                  },\n                  \"tableColumn\": \"\",\n                  \"targets\": [\n                      {\n                          \"expr\": \"max(kube_statefulset_replicas{job=\\\"kube-state-metrics\\\", namespace=\\\"$namespace\\\", statefulset=\\\"$statefulset\\\"}) without (instance, pod)\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\"\n                      }\n                  ],\n                  \"thresholds\": \"\",\n                  \"title\": \"Desired Replicas\",\n                  \"type\": \"singlestat\",\n                  \"valueFontSize\": \"80%\",\n                  \"valueMaps\": [\n                      {\n                          \"op\": \"=\",\n                          \"text\": \"0\",\n                          \"value\": \"null\"\n                      }\n                  ],\n                  \"valueName\": \"current\"\n              },\n              {\n                  \"cacheTimeout\": null,\n                  \"colorBackground\": false,\n                  \"colorValue\": false,\n                  \"colors\": [\n                      \"#299c46\",\n                      \"rgba(237, 129, 40, 0.89)\",\n                      \"#d44a3a\"\n                  ],\n                  \"datasource\": \"$datasource\",\n                  \"format\": \"none\",\n                  \"gauge\": {\n                      \"maxValue\": 100,\n                      \"minValue\": 0,\n                      \"show\": false,\n                      \"thresholdLabels\": false,\n                      \"thresholdMarkers\": true\n                  },\n                  \"gridPos\": {\n\n                  },\n                  \"id\": 6,\n                  \"interval\": null,\n                  \"links\": [\n\n                  ],\n                  \"mappingType\": 1,\n                  \"mappingTypes\": [\n                      {\n                          \"name\": \"value to text\",\n                          \"value\": 1\n                      },\n                      {\n                          \"name\": \"range to text\",\n                          \"value\": 2\n                      }\n                  ],\n                  \"maxDataPoints\": 100,\n                  \"nullPointMode\": \"connected\",\n                  \"nullText\": null,\n                  \"postfix\": \"\",\n                  \"postfixFontSize\": \"50%\",\n                  \"prefix\": \"\",\n                  \"prefixFontSize\": \"50%\",\n                  \"rangeMaps\": [\n                      {\n                          \"from\": \"null\",\n                          \"text\": \"N/A\",\n                          \"to\": \"null\"\n                      }\n                  ],\n                  \"span\": 3,\n                  \"sparkline\": {\n                      \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n                      \"full\": false,\n                      \"lineColor\": \"rgb(31, 120, 193)\",\n                      \"show\": false\n                  },\n                  \"tableColumn\": \"\",\n                  \"targets\": [\n                      {\n                          \"expr\": \"min(kube_statefulset_status_replicas_current{job=\\\"kube-state-metrics\\\", namespace=\\\"$namespace\\\", statefulset=\\\"$statefulset\\\"}) without (instance, pod)\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\"\n                      }\n                  ],\n                  \"thresholds\": \"\",\n                  \"title\": \"Replicas of current version\",\n                  \"type\": \"singlestat\",\n                  \"valueFontSize\": \"80%\",\n                  \"valueMaps\": [\n                      {\n                          \"op\": \"=\",\n                          \"text\": \"0\",\n                          \"value\": \"null\"\n                      }\n                  ],\n                  \"valueName\": \"current\"\n              },\n              {\n                  \"cacheTimeout\": null,\n                  \"colorBackground\": false,\n                  \"colorValue\": false,\n                  \"colors\": [\n                      \"#299c46\",\n                      \"rgba(237, 129, 40, 0.89)\",\n                      \"#d44a3a\"\n                  ],\n                  \"datasource\": \"$datasource\",\n                  \"format\": \"none\",\n                  \"gauge\": {\n                      \"maxValue\": 100,\n                      \"minValue\": 0,\n                      \"show\": false,\n                      \"thresholdLabels\": false,\n                      \"thresholdMarkers\": true\n                  },\n                  \"gridPos\": {\n\n                  },\n                  \"id\": 7,\n                  \"interval\": null,\n                  \"links\": [\n\n                  ],\n                  \"mappingType\": 1,\n                  \"mappingTypes\": [\n                      {\n                          \"name\": \"value to text\",\n                          \"value\": 1\n                      },\n                      {\n                          \"name\": \"range to text\",\n                          \"value\": 2\n                      }\n                  ],\n                  \"maxDataPoints\": 100,\n                  \"nullPointMode\": \"connected\",\n                  \"nullText\": null,\n                  \"postfix\": \"\",\n                  \"postfixFontSize\": \"50%\",\n                  \"prefix\": \"\",\n                  \"prefixFontSize\": \"50%\",\n                  \"rangeMaps\": [\n                      {\n                          \"from\": \"null\",\n                          \"text\": \"N/A\",\n                          \"to\": \"null\"\n                      }\n                  ],\n                  \"span\": 3,\n                  \"sparkline\": {\n                      \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n                      \"full\": false,\n                      \"lineColor\": \"rgb(31, 120, 193)\",\n                      \"show\": false\n                  },\n                  \"tableColumn\": \"\",\n                  \"targets\": [\n                      {\n                          \"expr\": \"max(kube_statefulset_status_observed_generation{job=\\\"kube-state-metrics\\\",  namespace=\\\"$namespace\\\", statefulset=\\\"$statefulset\\\"}) without (instance, pod)\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\"\n                      }\n                  ],\n                  \"thresholds\": \"\",\n                  \"title\": \"Observed Generation\",\n                  \"type\": \"singlestat\",\n                  \"valueFontSize\": \"80%\",\n                  \"valueMaps\": [\n                      {\n                          \"op\": \"=\",\n                          \"text\": \"0\",\n                          \"value\": \"null\"\n                      }\n                  ],\n                  \"valueName\": \"current\"\n              },\n              {\n                  \"cacheTimeout\": null,\n                  \"colorBackground\": false,\n                  \"colorValue\": false,\n                  \"colors\": [\n                      \"#299c46\",\n                      \"rgba(237, 129, 40, 0.89)\",\n                      \"#d44a3a\"\n                  ],\n                  \"datasource\": \"$datasource\",\n                  \"format\": \"none\",\n                  \"gauge\": {\n                      \"maxValue\": 100,\n                      \"minValue\": 0,\n                      \"show\": false,\n                      \"thresholdLabels\": false,\n                      \"thresholdMarkers\": true\n                  },\n                  \"gridPos\": {\n\n                  },\n                  \"id\": 8,\n                  \"interval\": null,\n                  \"links\": [\n\n                  ],\n                  \"mappingType\": 1,\n                  \"mappingTypes\": [\n                      {\n                          \"name\": \"value to text\",\n                          \"value\": 1\n                      },\n                      {\n                          \"name\": \"range to text\",\n                          \"value\": 2\n                      }\n                  ],\n                  \"maxDataPoints\": 100,\n                  \"nullPointMode\": \"connected\",\n                  \"nullText\": null,\n                  \"postfix\": \"\",\n                  \"postfixFontSize\": \"50%\",\n                  \"prefix\": \"\",\n                  \"prefixFontSize\": \"50%\",\n                  \"rangeMaps\": [\n                      {\n                          \"from\": \"null\",\n                          \"text\": \"N/A\",\n                          \"to\": \"null\"\n                      }\n                  ],\n                  \"span\": 3,\n                  \"sparkline\": {\n                      \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n                      \"full\": false,\n                      \"lineColor\": \"rgb(31, 120, 193)\",\n                      \"show\": false\n                  },\n                  \"tableColumn\": \"\",\n                  \"targets\": [\n                      {\n                          \"expr\": \"max(kube_statefulset_metadata_generation{job=\\\"kube-state-metrics\\\", statefulset=\\\"$statefulset\\\", namespace=\\\"$namespace\\\"}) without (instance, pod)\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"\"\n                      }\n                  ],\n                  \"thresholds\": \"\",\n                  \"title\": \"Metadata Generation\",\n                  \"type\": \"singlestat\",\n                  \"valueFontSize\": \"80%\",\n                  \"valueMaps\": [\n                      {\n                          \"op\": \"=\",\n                          \"text\": \"0\",\n                          \"value\": \"null\"\n                      }\n                  ],\n                  \"valueName\": \"current\"\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": false,\n          \"title\": \"Dashboard Row\",\n          \"titleSize\": \"h6\",\n          \"type\": \"row\"\n      },\n      {\n          \"collapse\": false,\n          \"collapsed\": false,\n          \"panels\": [\n              {\n                  \"aliasColors\": {\n\n                  },\n                  \"bars\": false,\n                  \"dashLength\": 10,\n                  \"dashes\": false,\n                  \"datasource\": \"$datasource\",\n                  \"fill\": 1,\n                  \"gridPos\": {\n\n                  },\n                  \"id\": 9,\n                  \"legend\": {\n                      \"alignAsTable\": false,\n                      \"avg\": false,\n                      \"current\": false,\n                      \"max\": false,\n                      \"min\": false,\n                      \"rightSide\": false,\n                      \"show\": true,\n                      \"total\": false,\n                      \"values\": false\n                  },\n                  \"lines\": true,\n                  \"linewidth\": 1,\n                  \"links\": [\n\n                  ],\n                  \"nullPointMode\": \"null\",\n                  \"percentage\": false,\n                  \"pointradius\": 5,\n                  \"points\": false,\n                  \"renderer\": \"flot\",\n                  \"repeat\": null,\n                  \"seriesOverrides\": [\n\n                  ],\n                  \"spaceLength\": 10,\n                  \"stack\": false,\n                  \"steppedLine\": false,\n                  \"targets\": [\n                      {\n                          \"expr\": \"max(kube_statefulset_replicas{job=\\\"kube-state-metrics\\\", statefulset=\\\"$statefulset\\\",namespace=\\\"$namespace\\\"}) without (instance, pod)\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"replicas specified\",\n                          \"refId\": \"A\"\n                      },\n                      {\n                          \"expr\": \"max(kube_statefulset_status_replicas{job=\\\"kube-state-metrics\\\", statefulset=\\\"$statefulset\\\",namespace=\\\"$namespace\\\"}) without (instance, pod)\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"replicas created\",\n                          \"refId\": \"B\"\n                      },\n                      {\n                          \"expr\": \"min(kube_statefulset_status_replicas_ready{job=\\\"kube-state-metrics\\\", statefulset=\\\"$statefulset\\\",namespace=\\\"$namespace\\\"}) without (instance, pod)\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"ready\",\n                          \"refId\": \"C\"\n                      },\n                      {\n                          \"expr\": \"min(kube_statefulset_status_replicas_current{job=\\\"kube-state-metrics\\\", statefulset=\\\"$statefulset\\\",namespace=\\\"$namespace\\\"}) without (instance, pod)\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"replicas of current version\",\n                          \"refId\": \"D\"\n                      },\n                      {\n                          \"expr\": \"min(kube_statefulset_status_replicas_updated{job=\\\"kube-state-metrics\\\", statefulset=\\\"$statefulset\\\",namespace=\\\"$namespace\\\"}) without (instance, pod)\",\n                          \"format\": \"time_series\",\n                          \"intervalFactor\": 2,\n                          \"legendFormat\": \"updated\",\n                          \"refId\": \"E\"\n                      }\n                  ],\n                  \"thresholds\": [\n\n                  ],\n                  \"timeFrom\": null,\n                  \"timeShift\": null,\n                  \"title\": \"Replicas\",\n                  \"tooltip\": {\n                      \"shared\": true,\n                      \"sort\": 0,\n                      \"value_type\": \"individual\"\n                  },\n                  \"type\": \"graph\",\n                  \"xaxis\": {\n                      \"buckets\": null,\n                      \"mode\": \"time\",\n                      \"name\": null,\n                      \"show\": true,\n                      \"values\": [\n\n                      ]\n                  },\n                  \"yaxes\": [\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": true\n                      },\n                      {\n                          \"format\": \"short\",\n                          \"label\": null,\n                          \"logBase\": 1,\n                          \"max\": null,\n                          \"min\": null,\n                          \"show\": true\n                      }\n                  ]\n              }\n          ],\n          \"repeat\": null,\n          \"repeatIteration\": null,\n          \"repeatRowId\": null,\n          \"showTitle\": false,\n          \"title\": \"Dashboard Row\",\n          \"titleSize\": \"h6\",\n          \"type\": \"row\"\n      }\n  ],\n  \"schemaVersion\": 14,\n  \"style\": \"dark\",\n  \"tags\": [\n\n  ],\n  \"templating\": {\n      \"list\": [\n          {\n              \"current\": {\n                  \"text\": \"Prometheus\",\n                  \"value\": \"Prometheus\"\n              },\n              \"hide\": 0,\n              \"label\": null,\n              \"name\": \"datasource\",\n              \"options\": [\n\n              ],\n              \"query\": \"prometheus\",\n              \"refresh\": 1,\n              \"regex\": \"\",\n              \"type\": \"datasource\"\n          },\n          {\n              \"allValue\": null,\n              \"current\": {\n\n              },\n              \"datasource\": \"$datasource\",\n              \"hide\": 0,\n              \"includeAll\": false,\n              \"label\": \"Namespace\",\n              \"multi\": false,\n              \"name\": \"namespace\",\n              \"options\": [\n\n              ],\n              \"query\": \"label_values(kube_statefulset_metadata_generation{job=\\\"kube-state-metrics\\\"}, namespace)\",\n              \"refresh\": 2,\n              \"regex\": \"\",\n              \"sort\": 0,\n              \"tagValuesQuery\": \"\",\n              \"tags\": [\n\n              ],\n              \"tagsQuery\": \"\",\n              \"type\": \"query\",\n              \"useTags\": false\n          },\n          {\n              \"allValue\": null,\n              \"current\": {\n\n              },\n              \"datasource\": \"$datasource\",\n              \"hide\": 0,\n              \"includeAll\": false,\n              \"label\": \"Name\",\n              \"multi\": false,\n              \"name\": \"statefulset\",\n              \"options\": [\n\n              ],\n              \"query\": \"label_values(kube_statefulset_metadata_generation{job=\\\"kube-state-metrics\\\", namespace=\\\"$namespace\\\"}, statefulset)\",\n              \"refresh\": 2,\n              \"regex\": \"\",\n              \"sort\": 0,\n              \"tagValuesQuery\": \"\",\n              \"tags\": [\n\n              ],\n              \"tagsQuery\": \"\",\n              \"type\": \"query\",\n              \"useTags\": false\n          }\n      ]\n  },\n  \"time\": {\n      \"from\": \"now-1h\",\n      \"to\": \"now\"\n  },\n  \"timepicker\": {\n      \"refresh_intervals\": [\n          \"5s\",\n          \"10s\",\n          \"30s\",\n          \"1m\",\n          \"5m\",\n          \"15m\",\n          \"30m\",\n          \"1h\",\n          \"2h\",\n          \"1d\"\n      ],\n      \"time_options\": [\n          \"5m\",\n          \"15m\",\n          \"1h\",\n          \"6h\",\n          \"12h\",\n          \"24h\",\n          \"2d\",\n          \"7d\",\n          \"30d\"\n      ]\n  },\n  \"timezone\": \"\",\n  \"title\": \"StatefulSets\",\n  \"uid\": \"a31c1f46e6f727cb37c0d731a7245005\",\n  \"version\": 0\n}"
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/prometheus/prometheus.yaml
apiVersion: monitoring.coreos.com/v1
kind: Prometheus
metadata:
  name: my-pipeline-cp-monitor-pro-prometheus
  labels:
    app: prometheus-operator-prometheus
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
spec:
  alerting:
    alertmanagers:
      - namespace: default
        name: my-pipeline-cp-monitor-pro-alertmanager
        port: web
        pathPrefix: "/"
  baseImage: quay.io/prometheus/prometheus
  version: v2.4.3
  externalUrl: http://my-pipeline-cp-monitor-pro-prometheus.default:9090
  paused: false
  replicas: 1
  logLevel:  info
  listenLocal: false
  retention: "10d"
  routePrefix: "/"
  serviceAccountName: my-pipeline-cp-monitor-pro-prometheus
  serviceMonitorSelector:
    matchLabels:
      release: "my-pipeline-cp-monitor"
  serviceMonitorNamespaceSelector: {}
  ruleSelector:
    matchLabels:
      app: prometheus-operator
      release: "my-pipeline-cp-monitor"
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/alertmanager/rules/all.rules.yaml
apiVersion: monitoring.coreos.com/v1
kind: PrometheusRule
metadata:
  name: my-pipeline-cp-monitor-pro
  labels:
    app: prometheus-operator
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
spec:
  groups:
  - name: k8s.rules
    rules:
    - expr: |
        sum(rate(container_cpu_usage_seconds_total{job="kubelet", image!="", container_name!=""}[5m])) by (namespace)
      record: namespace:container_cpu_usage_seconds_total:sum_rate
    - expr: |
        sum by (namespace, pod_name, container_name) (
          rate(container_cpu_usage_seconds_total{job="kubelet", image!="", container_name!=""}[5m])
        )
      record: namespace_pod_name_container_name:container_cpu_usage_seconds_total:sum_rate
    - expr: |
        sum(container_memory_usage_bytes{job="kubelet", image!="", container_name!=""}) by (namespace)
      record: namespace:container_memory_usage_bytes:sum
    - expr: |
        sum by (namespace, label_name) (
           sum(rate(container_cpu_usage_seconds_total{job="kubelet", image!="", container_name!=""}[5m])) by (namespace, pod_name)
         * on (namespace, pod_name) group_left(label_name)
           label_replace(kube_pod_labels{job="kube-state-metrics"}, "pod_name", "$1", "pod", "(.*)")
        )
      record: namespace_name:container_cpu_usage_seconds_total:sum_rate
    - expr: |
        sum by (namespace, label_name) (
          sum(container_memory_usage_bytes{job="kubelet",image!="", container_name!=""}) by (pod_name, namespace)
        * on (namespace, pod_name) group_left(label_name)
          label_replace(kube_pod_labels{job="kube-state-metrics"}, "pod_name", "$1", "pod", "(.*)")
        )
      record: namespace_name:container_memory_usage_bytes:sum
    - expr: |
        sum by (namespace, label_name) (
          sum(kube_pod_container_resource_requests_memory_bytes{job="kube-state-metrics"}) by (namespace, pod)
        * on (namespace, pod) group_left(label_name)
          label_replace(kube_pod_labels{job="kube-state-metrics"}, "pod_name", "$1", "pod", "(.*)")
        )
      record: namespace_name:kube_pod_container_resource_requests_memory_bytes:sum
    - expr: |
        sum by (namespace, label_name) (
          sum(kube_pod_container_resource_requests_cpu_cores{job="kube-state-metrics"} and on(pod) kube_pod_status_scheduled{condition="true"}) by (namespace, pod)
        * on (namespace, pod) group_left(label_name)
          label_replace(kube_pod_labels{job="kube-state-metrics"}, "pod_name", "$1", "pod", "(.*)")
        )
      record: namespace_name:kube_pod_container_resource_requests_cpu_cores:sum
  - name: kube-scheduler.rules
    rules:
    - expr: |
        histogram_quantile(0.99, sum(rate(scheduler_e2e_scheduling_latency_microseconds_bucket{job="kube-scheduler"}[5m])) without(instance, pod)) / 1e+06
      labels:
        quantile: "0.99"
      record: cluster_quantile:scheduler_e2e_scheduling_latency:histogram_quantile
    - expr: |
        histogram_quantile(0.99, sum(rate(scheduler_scheduling_algorithm_latency_microseconds_bucket{job="kube-scheduler"}[5m])) without(instance, pod)) / 1e+06
      labels:
        quantile: "0.99"
      record: cluster_quantile:scheduler_scheduling_algorithm_latency:histogram_quantile
    - expr: |
        histogram_quantile(0.99, sum(rate(scheduler_binding_latency_microseconds_bucket{job="kube-scheduler"}[5m])) without(instance, pod)) / 1e+06
      labels:
        quantile: "0.99"
      record: cluster_quantile:scheduler_binding_latency:histogram_quantile
    - expr: |
        histogram_quantile(0.9, sum(rate(scheduler_e2e_scheduling_latency_microseconds_bucket{job="kube-scheduler"}[5m])) without(instance, pod)) / 1e+06
      labels:
        quantile: "0.9"
      record: cluster_quantile:scheduler_e2e_scheduling_latency:histogram_quantile
    - expr: |
        histogram_quantile(0.9, sum(rate(scheduler_scheduling_algorithm_latency_microseconds_bucket{job="kube-scheduler"}[5m])) without(instance, pod)) / 1e+06
      labels:
        quantile: "0.9"
      record: cluster_quantile:scheduler_scheduling_algorithm_latency:histogram_quantile
    - expr: |
        histogram_quantile(0.9, sum(rate(scheduler_binding_latency_microseconds_bucket{job="kube-scheduler"}[5m])) without(instance, pod)) / 1e+06
      labels:
        quantile: "0.9"
      record: cluster_quantile:scheduler_binding_latency:histogram_quantile
    - expr: |
        histogram_quantile(0.5, sum(rate(scheduler_e2e_scheduling_latency_microseconds_bucket{job="kube-scheduler"}[5m])) without(instance, pod)) / 1e+06
      labels:
        quantile: "0.5"
      record: cluster_quantile:scheduler_e2e_scheduling_latency:histogram_quantile
    - expr: |
        histogram_quantile(0.5, sum(rate(scheduler_scheduling_algorithm_latency_microseconds_bucket{job="kube-scheduler"}[5m])) without(instance, pod)) / 1e+06
      labels:
        quantile: "0.5"
      record: cluster_quantile:scheduler_scheduling_algorithm_latency:histogram_quantile
    - expr: |
        histogram_quantile(0.5, sum(rate(scheduler_binding_latency_microseconds_bucket{job="kube-scheduler"}[5m])) without(instance, pod)) / 1e+06
      labels:
        quantile: "0.5"
      record: cluster_quantile:scheduler_binding_latency:histogram_quantile
  - name: kube-apiserver.rules
    rules:
    - expr: |
        histogram_quantile(0.99, sum(rate(apiserver_request_latencies_bucket{job="apiserver"}[5m])) without(instance, pod)) / 1e+06
      labels:
        quantile: "0.99"
      record: cluster_quantile:apiserver_request_latencies:histogram_quantile
    - expr: |
        histogram_quantile(0.9, sum(rate(apiserver_request_latencies_bucket{job="apiserver"}[5m])) without(instance, pod)) / 1e+06
      labels:
        quantile: "0.9"
      record: cluster_quantile:apiserver_request_latencies:histogram_quantile
    - expr: |
        histogram_quantile(0.5, sum(rate(apiserver_request_latencies_bucket{job="apiserver"}[5m])) without(instance, pod)) / 1e+06
      labels:
        quantile: "0.5"
      record: cluster_quantile:apiserver_request_latencies:histogram_quantile
  - name: node.rules
    rules:
    - expr: sum(min(kube_pod_info) by (node))
      record: ':kube_pod_info_node_count:'
    - expr: |
        max(label_replace(kube_pod_info{job="kube-state-metrics"}, "pod", "$1", "pod", "(.*)")) by (node, namespace, pod)
      record: 'node_namespace_pod:kube_pod_info:'
    - expr: |
        count by (node) (sum by (node, cpu) (
          node_cpu{job="node-exporter"}
        * on (namespace, pod) group_left(node)
          node_namespace_pod:kube_pod_info:
        ))
      record: node:node_num_cpu:sum
    - expr: |
        1 - avg(rate(node_cpu{job="node-exporter",mode="idle"}[1m]))
      record: :node_cpu_utilisation:avg1m
    - expr: |
        1 - avg by (node) (
          rate(node_cpu{job="node-exporter",mode="idle"}[1m])
        * on (namespace, pod) group_left(node)
          node_namespace_pod:kube_pod_info:)
      record: node:node_cpu_utilisation:avg1m
    - expr: |
        sum(node_load1{job="node-exporter"})
        /
        sum(node:node_num_cpu:sum)
      record: ':node_cpu_saturation_load1:'
    - expr: |
        sum by (node) (
          node_load1{job="node-exporter"}
        * on (namespace, pod) group_left(node)
          node_namespace_pod:kube_pod_info:
        )
        /
        node:node_num_cpu:sum
      record: 'node:node_cpu_saturation_load1:'
    - expr: |
        1 -
        sum(node_memory_MemFree{job="node-exporter"} + node_memory_Cached{job="node-exporter"} + node_memory_Buffers{job="node-exporter"})
        /
        sum(node_memory_MemTotal{job="node-exporter"})
      record: ':node_memory_utilisation:'
    - expr: |
        sum(node_memory_MemFree{job="node-exporter"} + node_memory_Cached{job="node-exporter"} + node_memory_Buffers{job="node-exporter"})
      record: :node_memory_MemFreeCachedBuffers:sum
    - expr: |
        sum(node_memory_MemTotal{job="node-exporter"})
      record: :node_memory_MemTotal:sum
    - expr: |
        sum by (node) (
          (node_memory_MemFree{job="node-exporter"} + node_memory_Cached{job="node-exporter"} + node_memory_Buffers{job="node-exporter"})
          * on (namespace, pod) group_left(node)
            node_namespace_pod:kube_pod_info:
        )
      record: node:node_memory_bytes_available:sum
    - expr: |
        sum by (node) (
          node_memory_MemTotal{job="node-exporter"}
          * on (namespace, pod) group_left(node)
            node_namespace_pod:kube_pod_info:
        )
      record: node:node_memory_bytes_total:sum
    - expr: |
        (node:node_memory_bytes_total:sum - node:node_memory_bytes_available:sum)
        /
        scalar(sum(node:node_memory_bytes_total:sum))
      record: node:node_memory_utilisation:ratio
    - expr: |
        1e3 * sum(
          (rate(node_vmstat_pgpgin{job="node-exporter"}[1m])
         + rate(node_vmstat_pgpgout{job="node-exporter"}[1m]))
        )
      record: :node_memory_swap_io_bytes:sum_rate
    - expr: |
        1 -
        sum by (node) (
          (node_memory_MemFree{job="node-exporter"} + node_memory_Cached{job="node-exporter"} + node_memory_Buffers{job="node-exporter"})
        * on (namespace, pod) group_left(node)
          node_namespace_pod:kube_pod_info:
        )
        /
        sum by (node) (
          node_memory_MemTotal{job="node-exporter"}
        * on (namespace, pod) group_left(node)
          node_namespace_pod:kube_pod_info:
        )
      record: 'node:node_memory_utilisation:'
    - expr: |
        1 - (node:node_memory_bytes_available:sum / node:node_memory_bytes_total:sum)
      record: 'node:node_memory_utilisation_2:'
    - expr: |
        1e3 * sum by (node) (
          (rate(node_vmstat_pgpgin{job="node-exporter"}[1m])
         + rate(node_vmstat_pgpgout{job="node-exporter"}[1m]))
         * on (namespace, pod) group_left(node)
           node_namespace_pod:kube_pod_info:
        )
      record: node:node_memory_swap_io_bytes:sum_rate
    - expr: |
        avg(irate(node_disk_io_time_ms{job="node-exporter",device=~"(sd|xvd|nvme).+"}[1m]) / 1e3)
      record: :node_disk_utilisation:avg_irate
    - expr: |
        avg by (node) (
          irate(node_disk_io_time_ms{job="node-exporter",device=~"(sd|xvd|nvme).+"}[1m]) / 1e3
        * on (namespace, pod) group_left(node)
          node_namespace_pod:kube_pod_info:
        )
      record: node:node_disk_utilisation:avg_irate
    - expr: |
        avg(irate(node_disk_io_time_weighted{job="node-exporter",device=~"(sd|xvd|nvme).+"}[1m]) / 1e3)
      record: :node_disk_saturation:avg_irate
    - expr: |
        avg by (node) (
          irate(node_disk_io_time_weighted{job="node-exporter",device=~"(sd|xvd|nvme).+"}[1m]) / 1e3
        * on (namespace, pod) group_left(node)
          node_namespace_pod:kube_pod_info:
        )
      record: node:node_disk_saturation:avg_irate
    - expr: |
        max by (namespace, pod, device) ((node_filesystem_size{fstype=~"ext[234]|btrfs|xfs|zfs"}
        - node_filesystem_avail{fstype=~"ext[234]|btrfs|xfs|zfs"})
        / node_filesystem_size{fstype=~"ext[234]|btrfs|xfs|zfs"})
      record: 'node:node_filesystem_usage:'
    - expr: |
        max by (namespace, pod, device) (node_filesystem_avail{fstype=~"ext[234]|btrfs|xfs|zfs"} / node_filesystem_size{fstype=~"ext[234]|btrfs|xfs|zfs"})
      record: 'node:node_filesystem_avail:'
    - expr: |
        sum(irate(node_network_receive_bytes{job="node-exporter",device="eth0"}[1m])) +
        sum(irate(node_network_transmit_bytes{job="node-exporter",device="eth0"}[1m]))
      record: :node_net_utilisation:sum_irate
    - expr: |
        sum by (node) (
          (irate(node_network_receive_bytes{job="node-exporter",device="eth0"}[1m]) +
          irate(node_network_transmit_bytes{job="node-exporter",device="eth0"}[1m]))
        * on (namespace, pod) group_left(node)
          node_namespace_pod:kube_pod_info:
        )
      record: node:node_net_utilisation:sum_irate
    - expr: |
        sum(irate(node_network_receive_drop{job="node-exporter",device="eth0"}[1m])) +
        sum(irate(node_network_transmit_drop{job="node-exporter",device="eth0"}[1m]))
      record: :node_net_saturation:sum_irate
    - expr: |
        sum by (node) (
          (irate(node_network_receive_drop{job="node-exporter",device="eth0"}[1m]) +
          irate(node_network_transmit_drop{job="node-exporter",device="eth0"}[1m]))
        * on (namespace, pod) group_left(node)
          node_namespace_pod:kube_pod_info:
        )
      record: node:node_net_saturation:sum_irate
  - name: kube-prometheus-node-recording.rules
    rules:
    - expr: sum(rate(node_cpu{mode!="idle",mode!="iowait"}[3m])) BY (instance)
      record: instance:node_cpu:rate:sum
    - expr: sum((node_filesystem_size{mountpoint="/"} - node_filesystem_free{mountpoint="/"}))
        BY (instance)
      record: instance:node_filesystem_usage:sum
    - expr: sum(rate(node_network_receive_bytes[3m])) BY (instance)
      record: instance:node_network_receive_bytes:rate:sum
    - expr: sum(rate(node_network_transmit_bytes[3m])) BY (instance)
      record: instance:node_network_transmit_bytes:rate:sum
    - expr: sum(rate(node_cpu{mode!="idle",mode!="iowait"}[5m])) WITHOUT (cpu, mode)
        / ON(instance) GROUP_LEFT() count(sum(node_cpu) BY (instance, cpu)) BY (instance)
      record: instance:node_cpu:ratio
    - expr: sum(rate(node_cpu{mode!="idle",mode!="iowait"}[5m]))
      record: cluster:node_cpu:sum_rate5m
    - expr: cluster:node_cpu:rate5m / count(sum(node_cpu) BY (instance, cpu))
      record: cluster:node_cpu:ratio
  - name: node_exporter-16-bcache
    rules:
    - expr: node_bcache_cache_read_races
      record: node_bcache_cache_read_races_total
  - name: node_exporter-16-buddyinfo
    rules:
    - expr: node_buddyinfo_blocks
      record: node_buddyinfo_count
  - name: node_exporter-16-stat
    rules:
    - expr: node_boot_time_seconds
      record: node_boot_time
    - expr: node_context_switches_total
      record: node_context_switches
    - expr: node_forks_total
      record: node_forks
    - expr: node_intr_total
      record: node_intr
  - name: node_exporter-16-cpu
    rules:
    - expr: label_replace(node_cpu_seconds_total, "cpu", "$1", "cpu", "cpu(.+)")
      record: node_cpu
  - name: node_exporter-16-diskstats
    rules:
    - expr: node_disk_read_bytes_total
      record: node_disk_bytes_read
    - expr: node_disk_written_bytes_total
      record: node_disk_bytes_written
    - expr: node_disk_io_time_seconds_total * 1000
      record: node_disk_io_time_ms
    - expr: node_disk_io_time_weighted_seconds_total
      record: node_disk_io_time_weighted
    - expr: node_disk_reads_completed_total
      record: node_disk_reads_completed
    - expr: node_disk_reads_merged_total
      record: node_disk_reads_merged
    - expr: node_disk_read_time_seconds_total * 1000
      record: node_disk_read_time_ms
    - expr: node_disk_writes_completed_total
      record: node_disk_writes_completed
    - expr: node_disk_writes_merged_total
      record: node_disk_writes_merged
    - expr: node_disk_write_time_seconds_total * 1000
      record: node_disk_write_time_ms
  - name: node_exporter-16-filesystem
    rules:
    - expr: node_filesystem_free_bytes
      record: node_filesystem_free
    - expr: node_filesystem_avail_bytes
      record: node_filesystem_avail
    - expr: node_filesystem_size_bytes
      record: node_filesystem_size
  - name: node_exporter-16-infiniband
    rules:
    - expr: node_infiniband_port_data_received_bytes_total
      record: node_infiniband_port_data_received_bytes
    - expr: node_infiniband_port_data_transmitted_bytes_total
      record: node_infiniband_port_data_transmitted_bytes
  - name: node_exporter-16-interrupts
    rules:
    - expr: node_interrupts_total
      record: node_interrupts
  - name: node_exporter-16-memory
    rules:
    - expr: node_memory_Active_bytes
      record: node_memory_Active
    - expr: node_memory_Active_anon_bytes
      record: node_memory_Active_anon
    - expr: node_memory_Active_file_bytes
      record: node_memory_Active_file
    - expr: node_memory_AnonHugePages_bytes
      record: node_memory_AnonHugePages
    - expr: node_memory_AnonPages_bytes
      record: node_memory_AnonPages
    - expr: node_memory_Bounce_bytes
      record: node_memory_Bounce
    - expr: node_memory_Buffers_bytes
      record: node_memory_Buffers
    - expr: node_memory_Cached_bytes
      record: node_memory_Cached
    - expr: node_memory_CommitLimit_bytes
      record: node_memory_CommitLimit
    - expr: node_memory_Committed_AS_bytes
      record: node_memory_Committed_AS
    - expr: node_memory_DirectMap2M_bytes
      record: node_memory_DirectMap2M
    - expr: node_memory_DirectMap4k_bytes
      record: node_memory_DirectMap4k
    - expr: node_memory_Dirty_bytes
      record: node_memory_Dirty
    - expr: node_memory_HardwareCorrupted_bytes
      record: node_memory_HardwareCorrupted
    - expr: node_memory_Hugepagesize_bytes
      record: node_memory_Hugepagesize
    - expr: node_memory_Inactive_bytes
      record: node_memory_Inactive
    - expr: node_memory_Inactive_anon_bytes
      record: node_memory_Inactive_anon
    - expr: node_memory_Inactive_file_bytes
      record: node_memory_Inactive_file
    - expr: node_memory_KernelStack_bytes
      record: node_memory_KernelStack
    - expr: node_memory_Mapped_bytes
      record: node_memory_Mapped
    - expr: node_memory_MemAvailable_bytes
      record: node_memory_MemAvailable
    - expr: node_memory_MemFree_bytes
      record: node_memory_MemFree
    - expr: node_memory_MemTotal_bytes
      record: node_memory_MemTotal
    - expr: node_memory_Mlocked_bytes
      record: node_memory_Mlocked
    - expr: node_memory_NFS_Unstable_bytes
      record: node_memory_NFS_Unstable
    - expr: node_memory_PageTables_bytes
      record: node_memory_PageTables
    - expr: node_memory_Shmem_bytes
      record: node_memory_Shmem
    - expr: node_memory_Slab_bytes
      record: node_memory_Slab
    - expr: node_memory_SReclaimable_bytes
      record: node_memory_SReclaimable
    - expr: node_memory_SUnreclaim_bytes
      record: node_memory_SUnreclaim
    - expr: node_memory_SwapCached_bytes
      record: node_memory_SwapCached
    - expr: node_memory_SwapFree_bytes
      record: node_memory_SwapFree
    - expr: node_memory_SwapTotal_bytes
      record: node_memory_SwapTotal
    - expr: node_memory_Unevictable_bytes
      record: node_memory_Unevictable
    - expr: node_memory_VmallocChunk_bytes
      record: node_memory_VmallocChunk
    - expr: node_memory_VmallocTotal_bytes
      record: node_memory_VmallocTotal
    - expr: node_memory_VmallocUsed_bytes
      record: node_memory_VmallocUsed
    - expr: node_memory_Writeback_bytes
      record: node_memory_Writeback
    - expr: node_memory_WritebackTmp_bytes
      record: node_memory_WritebackTmp
  - name: node_exporter-16-network
    rules:
    - expr: node_network_receive_bytes_total
      record: node_network_receive_bytes
    - expr: node_network_receive_compressed_total
      record: node_network_receive_compressed
    - expr: node_network_receive_drop_total
      record: node_network_receive_drop
    - expr: node_network_receive_errs_total
      record: node_network_receive_errs
    - expr: node_network_receive_fifo_total
      record: node_network_receive_fifo
    - expr: node_network_receive_frame_total
      record: node_network_receive_frame
    - expr: node_network_receive_multicast_total
      record: node_network_receive_multicast
    - expr: node_network_receive_packets_total
      record: node_network_receive_packets
    - expr: node_network_transmit_bytes_total
      record: node_network_transmit_bytes
    - expr: node_network_transmit_compressed_total
      record: node_network_transmit_compressed
    - expr: node_network_transmit_drop_total
      record: node_network_transmit_drop
    - expr: node_network_transmit_errs_total
      record: node_network_transmit_errs
    - expr: node_network_transmit_fifo_total
      record: node_network_transmit_fifo
    - expr: node_network_transmit_frame_total
      record: node_network_transmit_frame
    - expr: node_network_transmit_multicast_total
      record: node_network_transmit_multicast
    - expr: node_network_transmit_packets_total
      record: node_network_transmit_packets
  - name: node_exporter-16-nfs
    rules:
    - expr: node_nfs_connections_total
      record: node_nfs_net_connections
    - expr: node_nfs_packets_total
      record: node_nfs_net_reads
    - expr: label_replace(label_replace(node_nfs_requests_total, "proto", "$1", "version",
        "(.+)"), "method", "$1", "procedure", "(.+)")
      record: node_nfs_procedures
    - expr: node_nfs_rpc_authentication_refreshes_total
      record: node_nfs_rpc_authentication_refreshes
    - expr: node_nfs_rpcs_total
      record: node_nfs_rpc_operations
    - expr: node_nfs_rpc_retransmissions_total
      record: node_nfs_rpc_retransmissions
  - name: node_exporter-16-textfile
    rules:
    - expr: node_textfile_mtime_seconds
      record: node_textfile_mtime
  - name: kubernetes-absent
    rules:
    - alert: AlertmanagerDown
      annotations:
        message: Alertmanager has disappeared from Prometheus target discovery.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-alertmanagerdown
      expr: |
        absent(up{job="my-pipeline-cp-monitor-pro-alertmanager"} == 1)
      for: 15m
      labels:
        severity: critical
    - alert: KubeAPIDown
      annotations:
        message: KubeAPI has disappeared from Prometheus target discovery.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubeapidown
      expr: |
        absent(up{job="apiserver"} == 1)
      for: 15m
      labels:
        severity: critical
    - alert: KubeControllerManagerDown
      annotations:
        message: KubeControllerManager has disappeared from Prometheus target discovery.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubecontrollermanagerdown
      expr: |
        absent(up{job="kube-controller-manager"} == 1)
      for: 15m
      labels:
        severity: critical
    - alert: KubeSchedulerDown
      annotations:
        message: KubeScheduler has disappeared from Prometheus target discovery.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubeschedulerdown
      expr: |
        absent(up{job="kube-scheduler"} == 1)
      for: 15m
      labels:
        severity: critical
    - alert: KubeStateMetricsDown
      annotations:
        message: KubeStateMetrics has disappeared from Prometheus target discovery.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubestatemetricsdown
      expr: |
        absent(up{job="kube-state-metrics"} == 1)
      for: 15m
      labels:
        severity: critical
    - alert: KubeletDown
      annotations:
        message: Kubelet has disappeared from Prometheus target discovery.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubeletdown
      expr: |
        absent(up{job="kubelet"} == 1)
      for: 15m
      labels:
        severity: critical
    - alert: NodeExporterDown
      annotations:
        message: NodeExporter has disappeared from Prometheus target discovery.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-nodeexporterdown
      expr: |
        absent(up{job="node-exporter"} == 1)
      for: 15m
      labels:
        severity: critical
    - alert: PrometheusDown
      annotations:
        message: Prometheus has disappeared from Prometheus target discovery.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-prometheusdown
      expr: |
        absent(up{job="my-pipeline-cp-monitor-pro-prometheus"} == 1)
      for: 15m
      labels:
        severity: critical
    - alert: PrometheusOperatorDown
      annotations:
        message: PrometheusOperator has disappeared from Prometheus target discovery.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-prometheusoperatordown
      expr: |
        absent(up{job="my-pipeline-cp-monitor-pro-operator"} == 1)
      for: 15m
      labels:
        severity: critical
  - name: kubernetes-apps
    rules:
    - alert: KubePodCrashLooping
      annotations:
        message: Pod {{ $labels.namespace }}/{{ $labels.pod }} ({{ $labels.container
          }}) is restarting {{ printf "%.2f" $value }} times / second.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubepodcrashlooping
      expr: |
        rate(kube_pod_container_status_restarts_total{job="kube-state-metrics"}[15m]) > 0
      for: 1h
      labels:
        severity: critical
    - alert: KubePodNotReady
      annotations:
        message: Pod {{ $labels.namespace }}/{{ $labels.pod }} has been in a non-ready
          state for longer than an hour.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubepodnotready
      expr: |
        sum by (namespace, pod) (kube_pod_status_phase{job="kube-state-metrics", phase=~"Pending|Unknown"}) > 0
      for: 1h
      labels:
        severity: critical
    - alert: KubeDeploymentGenerationMismatch
      annotations:
        message: Deployment generation for {{ $labels.namespace }}/{{ $labels.deployment
          }} does not match, this indicates that the Deployment has failed but has
          not been rolled back.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubedeploymentgenerationmismatch
      expr: |
        kube_deployment_status_observed_generation{job="kube-state-metrics"}
          !=
        kube_deployment_metadata_generation{job="kube-state-metrics"}
      for: 15m
      labels:
        severity: critical
    - alert: KubeDeploymentReplicasMismatch
      annotations:
        message: Deployment {{ $labels.namespace }}/{{ $labels.deployment }} has not
          matched the expected number of replicas for longer than an hour.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubedeploymentreplicasmismatch
      expr: |
        kube_deployment_spec_replicas{job="kube-state-metrics"}
          !=
        kube_deployment_status_replicas_available{job="kube-state-metrics"}
      for: 1h
      labels:
        severity: critical
    - alert: KubeStatefulSetReplicasMismatch
      annotations:
        message: StatefulSet {{ $labels.namespace }}/{{ $labels.statefulset }} has
          not matched the expected number of replicas for longer than 15 minutes.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubestatefulsetreplicasmismatch
      expr: |
        kube_statefulset_status_replicas_ready{job="kube-state-metrics"}
          !=
        kube_statefulset_status_replicas{job="kube-state-metrics"}
      for: 15m
      labels:
        severity: critical
    - alert: KubeStatefulSetGenerationMismatch
      annotations:
        message: StatefulSet generation for {{ $labels.namespace }}/{{ $labels.statefulset
          }} does not match, this indicates that the StatefulSet has failed but has
          not been rolled back.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubestatefulsetgenerationmismatch
      expr: |
        kube_statefulset_status_observed_generation{job="kube-state-metrics"}
          !=
        kube_statefulset_metadata_generation{job="kube-state-metrics"}
      for: 15m
      labels:
        severity: critical
    - alert: KubeStatefulSetUpdateNotRolledOut
      annotations:
        message: StatefulSet {{ $labels.namespace }}/{{ $labels.statefulset }} update
          has not been rolled out.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubestatefulsetupdatenotrolledout
      expr: |
        max without (revision) (
          kube_statefulset_status_current_revision{job="kube-state-metrics"}
            unless
          kube_statefulset_status_update_revision{job="kube-state-metrics"}
        )
          *
        (
          kube_statefulset_replicas{job="kube-state-metrics"}
            !=
          kube_statefulset_status_replicas_updated{job="kube-state-metrics"}
        )
      for: 15m
      labels:
        severity: critical
    - alert: KubeDaemonSetRolloutStuck
      annotations:
        message: Only {{ $value }}% of the desired Pods of DaemonSet {{ $labels.namespace
          }}/{{ $labels.daemonset }} are scheduled and ready.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubedaemonsetrolloutstuck
      expr: |
        kube_daemonset_status_number_ready{job="kube-state-metrics"}
          /
        kube_daemonset_status_desired_number_scheduled{job="kube-state-metrics"} * 100 < 100
      for: 15m
      labels:
        severity: critical
    - alert: KubeDaemonSetNotScheduled
      annotations:
        message: '{{ $value }} Pods of DaemonSet {{ $labels.namespace }}/{{ $labels.daemonset
          }} are not scheduled.'
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubedaemonsetnotscheduled
      expr: |
        kube_daemonset_status_desired_number_scheduled{job="kube-state-metrics"}
          -
        kube_daemonset_status_current_number_scheduled{job="kube-state-metrics"} > 0
      for: 10m
      labels:
        severity: warning
    - alert: KubeDaemonSetMisScheduled
      annotations:
        message: '{{ $value }} Pods of DaemonSet {{ $labels.namespace }}/{{ $labels.daemonset
          }} are running where they are not supposed to run.'
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubedaemonsetmisscheduled
      expr: |
        kube_daemonset_status_number_misscheduled{job="kube-state-metrics"} > 0
      for: 10m
      labels:
        severity: warning
    - alert: KubeCronJobRunning
      annotations:
        message: CronJob {{ $labels.namespace }}/{{ $labels.cronjob }} is taking
          more than 1h to complete.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubecronjobrunning
      expr: |
        time() - kube_cronjob_next_schedule_time{job="kube-state-metrics"} > 3600
      for: 1h
      labels:
        severity: warning
    - alert: KubeJobCompletion
      annotations:
        message: Job {{ $labels.namespace }}/{{ $labels.job_name }} is taking more than
          one hour to complete.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubejobcompletion
      expr: |
        kube_job_spec_completions{job="kube-state-metrics"} - kube_job_status_succeeded{job="kube-state-metrics"}  > 0
      for: 1h
      labels:
        severity: warning
    - alert: KubeJobFailed
      annotations:
        message: Job {{ $labels.namespace }}/{{ $labels.job_name }} failed to complete.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubejobfailed
      expr: |
        kube_job_status_failed{job="kube-state-metrics"}  > 0
      for: 1h
      labels:
        severity: warning
  - name: kubernetes-resources
    rules:
    - alert: KubeCPUOvercommit
      annotations:
        message: Cluster has overcommitted CPU resource requests for Pods and cannot
          tolerate node failure.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubecpuovercommit
      expr: |
        sum(namespace_name:kube_pod_container_resource_requests_cpu_cores:sum)
          /
        sum(node:node_num_cpu:sum)
          >
        (count(node:node_num_cpu:sum)-1) / count(node:node_num_cpu:sum)
      for: 5m
      labels:
        severity: warning
    - alert: KubeMemOvercommit
      annotations:
        message: Cluster has overcommitted memory resource requests for Pods and cannot
          tolerate node failure.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubememovercommit
      expr: |
        sum(namespace_name:kube_pod_container_resource_requests_memory_bytes:sum)
          /
        sum(node_memory_MemTotal)
          >
        (count(node:node_num_cpu:sum)-1)
          /
        count(node:node_num_cpu:sum)
      for: 5m
      labels:
        severity: warning
    - alert: KubeCPUOvercommit
      annotations:
        message: Cluster has overcommitted CPU resource requests for Namespaces.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubecpuovercommit
      expr: |
        sum(kube_resourcequota{job="kube-state-metrics", type="hard", resource="requests.cpu"})
          /
        sum(node:node_num_cpu:sum)
          > 1.5
      for: 5m
      labels:
        severity: warning
    - alert: KubeMemOvercommit
      annotations:
        message: Cluster has overcommitted memory resource requests for Namespaces.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubememovercommit
      expr: |
        sum(kube_resourcequota{job="kube-state-metrics", type="hard", resource="requests.memory"})
          /
        sum(node_memory_MemTotal{job="node-exporter"})
          > 1.5
      for: 5m
      labels:
        severity: warning
    - alert: KubeQuotaExceeded
      annotations:
        message: Namespace {{ $labels.namespace }} is using {{ printf "%0.0f" $value
          }}% of its {{ $labels.resource }} quota.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubequotaexceeded
      expr: |
        100 * kube_resourcequota{job="kube-state-metrics", type="used"}
          / ignoring(instance, job, type)
        (kube_resourcequota{job="kube-state-metrics", type="hard"} > 0)
          > 90
      for: 15m
      labels:
        severity: warning
  - name: kubernetes-storage
    rules:
    - alert: KubePersistentVolumeUsageCritical
      annotations:
        message: The PersistentVolume claimed by {{ $labels.persistentvolumeclaim
          }} in Namespace {{ $labels.namespace }} is only {{ printf "%0.0f" $value
          }}% free.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubepersistentvolumeusagecritical
      expr: |
        100 * kubelet_volume_stats_available_bytes{job="kubelet"}
          /
        kubelet_volume_stats_capacity_bytes{job="kubelet"}
          < 3
      for: 1m
      labels:
        severity: critical
    - alert: KubePersistentVolumeFullInFourDays
      annotations:
        message: Based on recent sampling, the PersistentVolume claimed by {{ $labels.persistentvolumeclaim
          }} in Namespace {{ $labels.namespace }} is expected to fill up within four
          days. Currently {{ $value }} bytes are available.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubepersistentvolumefullinfourdays
      expr: |
        kubelet_volume_stats_available_bytes{job="kubelet"} and predict_linear(kubelet_volume_stats_available_bytes{job="kubelet"}[6h], 4 * 24 * 3600) < 0
      for: 5m
      labels:
        severity: critical
  - name: kubernetes-system
    rules:
    - alert: KubeNodeNotReady
      annotations:
        message: '{{ $labels.node }} has been unready for more than an hour.'
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubenodenotready
      expr: |
        kube_node_status_condition{job="kube-state-metrics",condition="Ready",status="true"} == 0
      for: 1h
      labels:
        severity: warning
    - alert: KubeVersionMismatch
      annotations:
        message: There are {{ $value }} different versions of Kubernetes components
          running.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubeversionmismatch
      expr: |
        count(count(kubernetes_build_info{job!="kube-dns"}) by (gitVersion)) > 1
      for: 1h
      labels:
        severity: warning
    - alert: KubeClientErrors
      annotations:
        message: Kubernetes API server client '{{ $labels.job }}/{{ $labels.instance
          }}' is experiencing {{ printf "%0.0f" $value }}% errors.'
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubeclienterrors
      expr: |
        (sum(rate(rest_client_requests_total{code!~"2..|404"}[5m])) by (instance, job)
          /
        sum(rate(rest_client_requests_total[5m])) by (instance, job))
        * 100 > 1
      for: 15m
      labels:
        severity: warning
    - alert: KubeClientErrors
      annotations:
        message: Kubernetes API server client '{{ $labels.job }}/{{ $labels.instance
          }}' is experiencing {{ printf "%0.0f" $value }} errors / second.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubeclienterrors
      expr: |
        sum(rate(ksm_scrape_error_total{job="kube-state-metrics"}[5m])) by (instance, job) > 0.1
      for: 15m
      labels:
        severity: warning
    - alert: KubeletTooManyPods
      annotations:
        message: Kubelet {{ $labels.instance }} is running {{ $value }} Pods, close
          to the limit of 110.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubelettoomanypods
      expr: |
        kubelet_running_pod_count{job="kubelet"} > 110 * 0.9
      for: 15m
      labels:
        severity: warning
    - alert: KubeAPILatencyHigh
      annotations:
        message: The API server has a 99th percentile latency of {{ $value }} seconds
          for {{ $labels.verb }} {{ $labels.resource }}.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubeapilatencyhigh
      expr: |
        cluster_quantile:apiserver_request_latencies:histogram_quantile{job="apiserver",quantile="0.99",subresource!="log",verb!~"^(?:LIST|WATCH|WATCHLIST|PROXY|CONNECT)$"} > 1
      for: 10m
      labels:
        severity: warning
    - alert: KubeAPILatencyHigh
      annotations:
        message: The API server has a 99th percentile latency of {{ $value }} seconds
          for {{ $labels.verb }} {{ $labels.resource }}.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubeapilatencyhigh
      expr: |
        cluster_quantile:apiserver_request_latencies:histogram_quantile{job="apiserver",quantile="0.99",subresource!="log",verb!~"^(?:LIST|WATCH|WATCHLIST|PROXY|CONNECT)$"} > 4
      for: 10m
      labels:
        severity: critical
    - alert: KubeAPIErrorsHigh
      annotations:
        message: API server is returning errors for {{ $value }}% of requests.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubeapierrorshigh
      expr: |
        sum(rate(apiserver_request_count{job="apiserver",code=~"^(?:5..)$"}[5m])) without(instance, pod)
          /
        sum(rate(apiserver_request_count{job="apiserver"}[5m])) without(instance, pod) * 100 > 10
      for: 10m
      labels:
        severity: critical
    - alert: KubeAPIErrorsHigh
      annotations:
        message: API server is returning errors for {{ $value }}% of requests.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubeapierrorshigh
      expr: |
        sum(rate(apiserver_request_count{job="apiserver",code=~"^(?:5..)$"}[5m])) without(instance, pod)
          /
        sum(rate(apiserver_request_count{job="apiserver"}[5m])) without(instance, pod) * 100 > 5
      for: 10m
      labels:
        severity: warning
    - alert: KubeClientCertificateExpiration
      annotations:
        message: Kubernetes API certificate is expiring in less than 7 days.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubeclientcertificateexpiration
      expr: |
        histogram_quantile(0.01, sum by (job, le) (rate(apiserver_client_certificate_expiration_seconds_bucket{job="apiserver"}[5m]))) < 604800
      labels:
        severity: warning
    - alert: KubeClientCertificateExpiration
      annotations:
        message: Kubernetes API certificate is expiring in less than 24 hours.
        runbook_url: https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubeclientcertificateexpiration
      expr: |
        histogram_quantile(0.01, sum by (job, le) (rate(apiserver_client_certificate_expiration_seconds_bucket{job="apiserver"}[5m]))) < 86400
      labels:
        severity: critical
  - name: alertmanager.rules
    rules:
    - alert: AlertmanagerConfigInconsistent
      annotations:
        message: The configuration of the instances of the Alertmanager cluster `{{$labels.service}}`
          are out of sync.
      expr: |
        count_values("config_hash", alertmanager_config_hash{job="my-pipeline-cp-monitor-pro-alertmanager"}) BY (service) / ON(service) GROUP_LEFT() label_replace(prometheus_operator_alertmanager_spec_replicas{job="my-pipeline-cp-monitor-pro-operator"}, "service", "alertmanager-$1", "alertmanager", "(.*)") != 1
      for: 5m
      labels:
        severity: critical
    - alert: AlertmanagerFailedReload
      annotations:
        message: Reloading Alertmanager's configuration has failed for {{ $labels.namespace
          }}/{{ $labels.pod}}.
      expr: |
        alertmanager_config_last_reload_successful{job="my-pipeline-cp-monitor-pro-alertmanager"} == 0
      for: 10m
      labels:
        severity: warning
  - name: general.rules
    rules:
    - alert: TargetDown
      expr: 100 * (count(up == 0) BY (job) / count(up) BY (job)) > 10
      for: 10m
      labels:
        severity: warning
      annotations:
        description: '{{ $value }}% of {{ $labels.job }} targets are down.'
        summary: Targets are down
    - alert: DeadMansSwitch
      expr: vector(1)
      labels:
        severity: none
      annotations:
        description: This is a DeadMansSwitch meant to ensure that the entire Alerting
          pipeline is functional.
        summary: Alerting DeadMansSwitch
    - record: fd_utilization
      expr: process_open_fds / process_max_fds
    - alert: FdExhaustionClose
      expr: predict_linear(fd_utilization[1h], 3600 * 4) > 1
      for: 10m
      labels:
        severity: warning
      annotations:
        description: '{{ $labels.job }}: {{ $labels.namespace }}/{{ $labels.pod }} instance
          will exhaust in file/socket descriptors within the next 4 hours'
        summary: file descriptors soon exhausted
    - alert: FdExhaustionClose
      expr: predict_linear(fd_utilization[10m], 3600) > 1
      for: 10m
      labels:
        severity: critical
      annotations:
        description: '{{ $labels.job }}: {{ $labels.namespace }}/{{ $labels.pod }} instance
          will exhaust in file/socket descriptors within the next hour'
        summary: file descriptors soon exhausted
  - name: kube-prometheus-node-alerting.rules
    rules:
    - alert: NodeDiskRunningFull
      annotations:
        message: Device {{ $labels.device }} of node-exporter {{ $labels.namespace
          }}/{{ $labels.pod }} will be full within the next 24 hours.
      expr: |
        (node:node_filesystem_usage: > 0.85) and (predict_linear(node:node_filesystem_avail:[6h], 3600 * 24) < 0)
      for: 30m
      labels:
        severity: warning
    - alert: NodeDiskRunningFull
      annotations:
        message: Device {{ $labels.device }} of node-exporter {{ $labels.namespace
          }}/{{ $labels.pod }} will be full within the next 2 hours.
      expr: |
        (node:node_filesystem_usage: > 0.85) and (predict_linear(node:node_filesystem_avail:[30m], 3600 * 2) < 0)
      for: 10m
      labels:
        severity: critical
  - name: prometheus.rules
    rules:
    - alert: PrometheusConfigReloadFailed
      annotations:
        description: Reloading Prometheus' configuration has failed for {{$labels.namespace}}/{{$labels.pod}}
        summary: Reloading Prometheus' configuration failed
      expr: |
        prometheus_config_last_reload_successful{job="my-pipeline-cp-monitor-pro-prometheus"} == 0
      for: 10m
      labels:
        severity: warning
    - alert: PrometheusNotificationQueueRunningFull
      annotations:
        description: Prometheus' alert notification queue is running full for {{$labels.namespace}}/{{
          $labels.pod}}
        summary: Prometheus' alert notification queue is running full
      expr: |
        predict_linear(prometheus_notifications_queue_length{job="my-pipeline-cp-monitor-pro-prometheus"}[5m], 60 * 30) > prometheus_notifications_queue_capacity{job="my-pipeline-cp-monitor-pro-prometheus"}
      for: 10m
      labels:
        severity: warning
    - alert: PrometheusErrorSendingAlerts
      annotations:
        description: Errors while sending alerts from Prometheus {{$labels.namespace}}/{{
          $labels.pod}} to Alertmanager {{$labels.Alertmanager}}
        summary: Errors while sending alert from Prometheus
      expr: |
        rate(prometheus_notifications_errors_total{job="my-pipeline-cp-monitor-pro-prometheus"}[5m]) / rate(prometheus_notifications_sent_total{job="my-pipeline-cp-monitor-pro-prometheus"}[5m]) > 0.01
      for: 10m
      labels:
        severity: warning
    - alert: PrometheusErrorSendingAlerts
      annotations:
        description: Errors while sending alerts from Prometheus {{$labels.namespace}}/{{
          $labels.pod}} to Alertmanager {{$labels.Alertmanager}}
        summary: Errors while sending alerts from Prometheus
      expr: |
        rate(prometheus_notifications_errors_total{job="my-pipeline-cp-monitor-pro-prometheus"}[5m]) / rate(prometheus_notifications_sent_total{job="my-pipeline-cp-monitor-pro-prometheus"}[5m]) > 0.03
      for: 10m
      labels:
        severity: critical
    - alert: PrometheusNotConnectedToAlertmanagers
      annotations:
        description: Prometheus {{ $labels.namespace }}/{{ $labels.pod}} is not connected
          to any Alertmanagers
        summary: Prometheus is not connected to any Alertmanagers
      expr: |
        prometheus_notifications_alertmanagers_discovered{job="my-pipeline-cp-monitor-pro-prometheus"} < 1
      for: 10m
      labels:
        severity: warning
    - alert: PrometheusTSDBReloadsFailing
      annotations:
        description: '{{$labels.job}} at {{$labels.instance}} had {{$value | humanize}}
          reload failures over the last four hours.'
        summary: Prometheus has issues reloading data blocks from disk
      expr: |
        increase(prometheus_tsdb_reloads_failures_total{job="my-pipeline-cp-monitor-pro-prometheus"}[2h]) > 0
      for: 12h
      labels:
        severity: warning
    - alert: PrometheusTSDBCompactionsFailing
      annotations:
        description: '{{$labels.job}} at {{$labels.instance}} had {{$value | humanize}}
          compaction failures over the last four hours.'
        summary: Prometheus has issues compacting sample blocks
      expr: |
        increase(prometheus_tsdb_compactions_failed_total{job="my-pipeline-cp-monitor-pro-prometheus"}[2h]) > 0
      for: 12h
      labels:
        severity: warning
    - alert: PrometheusTSDBWALCorruptions
      annotations:
        description: '{{$labels.job}} at {{$labels.instance}} has a corrupted write-ahead
          log (WAL).'
        summary: Prometheus write-ahead log is corrupted
      expr: |
        tsdb_wal_corruptions_total{job="my-pipeline-cp-monitor-pro-prometheus"} > 0
      for: 4h
      labels:
        severity: warning
    - alert: PrometheusNotIngestingSamples
      annotations:
        description: Prometheus {{ $labels.namespace }}/{{ $labels.pod}} isn't ingesting
          samples.
        summary: Prometheus isn't ingesting samples
      expr: |
        rate(prometheus_tsdb_head_samples_appended_total{job="my-pipeline-cp-monitor-pro-prometheus"}[5m]) <= 0
      for: 10m
      labels:
        severity: warning
    - alert: PrometheusTargetScrapesDuplicate
      annotations:
        description: '{{$labels.namespace}}/{{$labels.pod}} has many samples rejected
          due to duplicate timestamps but different values'
        summary: Prometheus has many samples rejected
      expr: |
        increase(prometheus_target_scrapes_sample_duplicate_timestamp_total{job="my-pipeline-cp-monitor-pro-prometheus"}[5m]) > 0
      for: 10m
      labels:
        severity: warning
  - name: prometheus-operator
    rules:
    - alert: PrometheusOperatorAlertmanagerReconcileErrors
      annotations:
        message: Errors while reconciling Alertmanager in {{ $labels.namespace }}
          Namespace.
      expr: |
        rate(prometheus_operator_reconcile_errors_total{job="my-pipeline-cp-monitor-pro-operator",controller="alertmanager"}[5m]) > 0.1
      for: 10m
      labels:
        severity: warning
    - alert: PrometheusOperatorPrometheusReconcileErrors
      annotations:
        message: Errors while reconciling Prometheus in {{ $labels.namespace }} Namespace.
      expr: |
        rate(prometheus_operator_reconcile_errors_total{job="my-pipeline-cp-monitor-pro-operator",controller="prometheus"}[5m]) > 0.1
      for: 10m
      labels:
        severity: warning
    - alert: PrometheusOperatorNodeLookupErrors
      annotations:
        message: Errors while reconciling Prometheus in {{ $labels.namespace }} Namespace.
      expr: |
        rate(prometheus_operator_node_address_lookup_errors_total{job="my-pipeline-cp-monitor-pro-operator",controller="prometheus"}[5m]) > 0.1
      for: 10m
      labels:
        severity: warning
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/alertmanager/rules/kube-etcd.rules.yaml
# these rules synced manually from https://github.com/etcd-io/etcd/blob/master/Documentation/etcd-mixin/mixin.libsonnet
apiVersion: monitoring.coreos.com/v1
kind: PrometheusRule
metadata:
  name: my-pipeline-cp-monitor-pro-kube-etcd-rules
  labels:
    app: prometheus-operator
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
spec:
  groups:
  - name: etcd
    rules:
    - alert: EtcdInsufficientMembers
      annotations:
        message: 'Etcd cluster "{{ $labels.job }}": insufficient members ({{ $value
          }}).'
      expr: |
        sum(up{job=~".*etcd.*"} == bool 1) by (job) < ((count(up{job=~".*etcd.*"}) by (job) + 1) / 2)
      for: 3m
      labels:
        severity: critical
    - alert: EtcdNoLeader
      annotations:
        message: 'Etcd cluster "{{ $labels.job }}": member {{ $labels.instance }} has
          no leader.'
      expr: |
        etcd_server_has_leader{job=~".*etcd.*"} == 0
      for: 1m
      labels:
        severity: critical
    - alert: EtcdHighNumberOfLeaderChanges
      annotations:
        message: 'Etcd cluster "{{ $labels.job }}": instance {{ $labels.instance }}
          has seen {{ $value }} leader changes within the last hour.'
      expr: |
        rate(etcd_server_leader_changes_seen_total{job=~".*etcd.*"}[15m]) > 3
      for: 15m
      labels:
        severity: warning
    - alert: EtcdHighNumberOfFailedGRPCRequests
      annotations:
        message: 'Etcd cluster "{{ $labels.job }}": {{ $value }}% of requests for {{
          $labels.grpc_method }} failed on etcd instance {{ $labels.instance }}.'
      expr: |
        100 * sum(rate(grpc_server_handled_total{job=~".*etcd.*", grpc_code!="OK"}[5m])) BY (job, instance, grpc_service, grpc_method)
          /
        sum(rate(grpc_server_handled_total{job=~".*etcd.*"}[5m])) BY (job, instance, grpc_service, grpc_method)
          > 1
      for: 10m
      labels:
        severity: warning
    - alert: EtcdHighNumberOfFailedGRPCRequests
      annotations:
        message: 'Etcd cluster "{{ $labels.job }}": {{ $value }}% of requests for {{
          $labels.grpc_method }} failed on etcd instance {{ $labels.instance }}.'
      expr: |
        100 * sum(rate(grpc_server_handled_total{job=~".*etcd.*", grpc_code!="OK"}[5m])) BY (job, instance, grpc_service, grpc_method)
          /
        sum(rate(grpc_server_handled_total{job=~".*etcd.*"}[5m])) BY (job, instance, grpc_service, grpc_method)
          > 5
      for: 5m
      labels:
        severity: critical
    - alert: EtcdGRPCRequestsSlow
      annotations:
        message: 'Etcd cluster "{{ $labels.job }}": gRPC requests to {{ $labels.grpc_method
          }} are taking {{ $value }}s on etcd instance {{ $labels.instance }}.'
      expr: |
        histogram_quantile(0.99, sum(rate(grpc_server_handling_seconds_bucket{job=~".*etcd.*", grpc_type="unary"}[5m])) by (job, instance, grpc_service, grpc_method, le))
        > 0.15
      for: 10m
      labels:
        severity: critical
    - alert: EtcdMemberCommunicationSlow
      annotations:
        message: 'Etcd cluster "{{ $labels.job }}": member communication with {{ $labels.To
          }} is taking {{ $value }}s on etcd instance {{ $labels.instance }}.'
      expr: |
        histogram_quantile(0.99, rate(etcd_network_peer_round_trip_time_seconds_bucket{job=~".*etcd.*"}[5m]))
        > 0.15
      for: 10m
      labels:
        severity: warning
    - alert: EtcdHighNumberOfFailedProposals
      annotations:
        message: 'Etcd cluster "{{ $labels.job }}": {{ $value }} proposal failures within
          the last hour on etcd instance {{ $labels.instance }}.'
      expr: |
        rate(etcd_server_proposals_failed_total{job=~".*etcd.*"}[15m]) > 5
      for: 15m
      labels:
        severity: warning
    - alert: EtcdHighFsyncDurations
      annotations:
        message: 'Etcd cluster "{{ $labels.job }}": 99th percentile fync durations are
          {{ $value }}s on etcd instance {{ $labels.instance }}.'
      expr: |
        histogram_quantile(0.99, rate(etcd_disk_wal_fsync_duration_seconds_bucket{job=~".*etcd.*"}[5m]))
        > 0.5
      for: 10m
      labels:
        severity: warning
    - alert: EtcdHighCommitDurations
      annotations:
        message: 'Etcd cluster "{{ $labels.job }}": 99th percentile commit durations
          {{ $value }}s on etcd instance {{ $labels.instance }}.'
      expr: |
        histogram_quantile(0.99, rate(etcd_disk_backend_commit_duration_seconds_bucket{job=~".*etcd.*"}[5m]))
        > 0.25
      for: 10m
      labels:
        severity: warning
    - alert: EtcdHighNumberOfFailedHTTPRequests
      annotations:
        message: '{{ $value }}% of requests for {{ $labels.method }} failed on etcd
          instance {{ $labels.instance }}'
      expr: |
        sum(rate(etcd_http_failed_total{job=~".*etcd.*"}[5m])) BY (method) / sum(rate(etcd_http_received_total{job=~".*etcd.*"}[5m]))
        BY (method) > 0.01
      for: 10m
      labels:
        severity: warning
    - alert: EtcdHighNumberOfFailedHTTPRequests
      annotations:
        message: '{{ $value }}% of requests for {{ $labels.method }} failed on etcd
          instance {{ $labels.instance }}.'
      expr: |
        sum(rate(etcd_http_failed_total{job=~".*etcd.*"}[5m])) BY (method) / sum(rate(etcd_http_received_total{job=~".*etcd.*"}[5m]))
        BY (method) > 0.05
      for: 10m
      labels:
        severity: critical
    - alert: EtcdHTTPRequestsSlow
      annotations:
        message: Etcd instance {{ $labels.instance }} HTTP requests to {{ $labels.method
          }} are slow.
      expr: |
        histogram_quantile(0.99, rate(etcd_http_successful_duration_seconds_bucket[5m]))
        > 0.15
      for: 10m
      labels:
        severity: warning
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/alertmanager/servicemonitor.yaml
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: my-pipeline-cp-monitor-pro-alertmanager
  labels:
    app: prometheus-operator-alertmanager
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
spec:
  selector:
    matchLabels:
      app: prometheus-operator-alertmanager
      release: "my-pipeline-cp-monitor"
  namespaceSelector:
    matchNames:
      - "default"
  endpoints:
  - port: web
    interval: 30s
    path: "/metrics"
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/exporters/core-dns/servicemonitor.yaml
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: my-pipeline-cp-monitor-pro-coredns
  labels:
    app: prometheus-operator-coredns
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
spec:
  jobLabel: jobLabel
  selector:
    matchLabels:
      app: prometheus-operator-coredns
      release: "my-pipeline-cp-monitor"
  namespaceSelector:
    matchNames:
      - "kube-system"
  endpoints:
  - port: http-metrics
    interval: 15s
    bearerTokenFile: /var/run/secrets/kubernetes.io/serviceaccount/token
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/exporters/kube-api-server/servicemonitor.yaml
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: my-pipeline-cp-monitor-pro-apiserver
  labels:
    app: prometheus-operator-apiserver
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
spec:
  endpoints:
  - bearerTokenFile: /var/run/secrets/kubernetes.io/serviceaccount/token
    interval: 30s
    port: https
    scheme: https
    tlsConfig:
      caFile: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt
      serverName: kubernetes
      insecureSkipVerify: false
  jobLabel: component
  namespaceSelector:
    matchNames:
    - default
  selector:
    matchLabels:
      component: apiserver
      provider: kubernetes
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/exporters/kube-controller-manager/servicemonitor.yaml
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: my-pipeline-cp-monitor-pro-kube-controller-manager
  labels:
    app: prometheus-operator-kube-controller-manager
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
spec:
  jobLabel: jobLabel
  selector:
    matchLabels:
      app: prometheus-operator-kube-controller-manager
      release: "my-pipeline-cp-monitor"
  namespaceSelector:
    matchNames:
      - "kube-system"
  endpoints:
  - port: http-metrics
    interval: 15s
    tlsConfig:
      caFile: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt
      insecureSkipVerify: true
    bearerTokenFile: /var/run/secrets/kubernetes.io/serviceaccount/token
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/exporters/kube-etcd/servicemonitor.yaml
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: my-pipeline-cp-monitor-pro-kube-etcd
  labels:
    app: prometheus-operator-kube-etcd
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
spec:
  jobLabel: jobLabel
  selector:
    matchLabels:
      app: prometheus-operator-kube-etcd
      release: "my-pipeline-cp-monitor"
  namespaceSelector:
    matchNames:
      - "kube-system"
  endpoints:
  - port: http-metrics
    interval: 15s
    bearerTokenFile: /var/run/secrets/kubernetes.io/serviceaccount/token
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/exporters/kube-scheduler/servicemonitor.yaml
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: my-pipeline-cp-monitor-pro-kube-scheduler
  labels:
    app: prometheus-operator-kube-scheduler
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
spec:
  jobLabel: jobLabel
  selector:
    matchLabels:
      app: prometheus-operator-kube-scheduler
      release: "my-pipeline-cp-monitor"
  namespaceSelector:
    matchNames:
      - "kube-system"
  endpoints:
  - port: http-metrics
    interval: 15s
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/exporters/kube-state-metrics/serviceMonitor.yaml
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: my-pipeline-cp-monitor-pro-kube-state-metrics
  labels:
    app: prometheus-operator-kube-state-metrics
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
spec:
  jobLabel: app
  endpoints:
  - interval: 30s
    port: http
    honorLabels: true
  selector:
    matchLabels:
      app: kube-state-metrics
      release: "my-pipeline-cp-monitor"
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/exporters/kubelet/servicemonitor.yaml
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: my-pipeline-cp-monitor-pro-kubelet
  labels:
    app: prometheus-operator-kubelet
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
spec:
  endpoints:
  - port: http-metrics
    interval: 30s
    honorLabels: true
  - port: http-metrics
    path: /metrics/cadvisor
    interval: 30s
    honorLabels: true
  jobLabel: k8s-app
  namespaceSelector:
    matchNames:
    - kube-system
  selector:
    matchLabels:
      k8s-app: kubelet
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/exporters/node-exporter/servicemonitor.yaml
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: my-pipeline-cp-monitor-pro-node-exporter
  labels:
    app: prometheus-operator-node-exporter
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
spec:
  jobLabel: jobLabel
  selector:
    matchLabels:
      app: prometheus-node-exporter
      release: my-pipeline-cp-monitor
  endpoints:
  - port: metrics
    interval: 30s
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/prometheus-operator/servicemonitor.yaml
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: my-pipeline-cp-monitor-pro-operator
  labels:
    app: prometheus-operator-operator
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
spec:
  endpoints:
  - port: http
    honorLabels: true
  selector:
    matchLabels:
      app: prometheus-operator-operator
      release: "my-pipeline-cp-monitor"
  namespaceSelector:
    matchNames:
      - "default"
---
# Source: pipeline-cp-monitor/charts/prometheus-operator/templates/prometheus/servicemonitor.yaml
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: my-pipeline-cp-monitor-pro-prometheus
  labels:
    app: prometheus-operator-prometheus
    
    chart: prometheus-operator-0.1.20
    release: "my-pipeline-cp-monitor"
    heritage: "Helm"
spec:
  selector:
    matchLabels:
      app: prometheus-operator-prometheus
      release: "my-pipeline-cp-monitor"
  namespaceSelector:
    matchNames:
      - "default"
  endpoints:
  - port: web
    interval: 30s
    path: "/metrics"
