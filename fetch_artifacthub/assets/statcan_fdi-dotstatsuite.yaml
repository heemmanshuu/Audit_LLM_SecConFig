---
# Source: fdi-dotstatsuite/templates/sa/authz.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: my-fdi-dotstatsuite-authz
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-authz
---
# Source: fdi-dotstatsuite/templates/sa/nsidesign.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: my-fdi-dotstatsuite-design
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-design
---
# Source: fdi-dotstatsuite/templates/sa/nsireset.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: my-fdi-dotstatsuite-reset
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-reset
---
# Source: fdi-dotstatsuite/templates/sa/nsistable.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: my-fdi-dotstatsuite-stable
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-stable
---
# Source: fdi-dotstatsuite/templates/sa/nsistaging.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: my-fdi-dotstatsuite-staging
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-staging
---
# Source: fdi-dotstatsuite/templates/sa/transfer.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: my-fdi-dotstatsuite-transfer
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-transfer
---
# Source: fdi-dotstatsuite/templates/secret/db-secret.yaml
kind: Secret
apiVersion: v1
metadata:
  name: -db-secret
data:
  sapassword: 
type: Opaque
---
# Source: fdi-dotstatsuite/templates/secret/mssql-common.yaml
kind: Secret
apiVersion: v1
metadata:
  name: -mssql-common
data:
  password: 
type: Opaque
---
# Source: fdi-dotstatsuite/templates/secret/mssql-read-only.yaml
kind: Secret
apiVersion: v1
metadata:
  name: -mssql-read-only
data:
  password: 
type: Opaque
---
# Source: fdi-dotstatsuite/templates/secret/mssql-sdmx-design-data.yaml
kind: Secret
apiVersion: v1
metadata:
  name: -mssql-sdmx-design-data
data:
  password: 
type: Opaque
---
# Source: fdi-dotstatsuite/templates/secret/mssql-sdmx-design-structure.yaml
kind: Secret
apiVersion: v1
metadata:
  name: -mssql-sdmx-design-structure
data:
  password: 
type: Opaque
---
# Source: fdi-dotstatsuite/templates/secret/mssql-sdmx-reset-data.yaml
kind: Secret
apiVersion: v1
metadata:
  name: -mssql-sdmx-reset-data
data:
  password: 
type: Opaque
---
# Source: fdi-dotstatsuite/templates/secret/mssql-sdmx-reset-structure.yaml
kind: Secret
apiVersion: v1
metadata:
  name: -mssql-sdmx-reset-structure
data:
  password: 
type: Opaque
---
# Source: fdi-dotstatsuite/templates/secret/mssql-sdmx-stable-data.yaml
kind: Secret
apiVersion: v1
metadata:
  name: -mssql-sdmx-stable-data
data:
  password: 
type: Opaque
---
# Source: fdi-dotstatsuite/templates/secret/mssql-sdmx-stable-structure.yaml
kind: Secret
apiVersion: v1
metadata:
  name: -mssql-sdmx-stable-structure
data:
  password: 
type: Opaque
---
# Source: fdi-dotstatsuite/templates/secret/mssql-sdmx-staging-data.yaml
kind: Secret
apiVersion: v1
metadata:
  name: -mssql-sdmx-staging-data
data:
  password: 
type: Opaque
---
# Source: fdi-dotstatsuite/templates/secret/mssql-sdmx-staging-structure.yaml
kind: Secret
apiVersion: v1
metadata:
  name: -mssql-sdmx-staging-structure
data:
  password: 
type: Opaque
---
# Source: fdi-dotstatsuite/templates/secret/smtp.yaml
kind: Secret
apiVersion: v1
metadata:
  name: -smtp
data:
  password: 
type: Opaque
---
# Source: fdi-dotstatsuite/templates/cm/authz.yaml
kind: ConfigMap
apiVersion: v1
metadata:
  name: -authz
data:
  auth__TokenUrl: ""
  auth__allowAnonymous: 'true'
  auth__authority: ""
  auth__authorizationUrl: ""
  auth__claimsMapping__email: upn
  auth__claimsMapping__groups: roles
  auth__clientId: ""
  auth__enabled: 'true'
  auth__requireHttps: 'false'
  auth__scopes__0: openid
  auth__scopes__1: profile
  auth__scopes__2: email
  auth__scopes__3: "/access_as_app"
  auth__validateIssuer: 'false'
  auth__showPii: 'true'
---
# Source: fdi-dotstatsuite/templates/cm/mssql.yaml
kind: ConfigMap
apiVersion: v1
metadata:
  name: -mssql
data:
  COMMON_DB: commonDb
  COMMON_USER: commonUser
  READ_ONLY_USER: readOnlyUser
  RESET_DATA_DB: sdmxResetDataDb
  RESET_DATA_USER: sdmxResetDataUser
  RESET_STRUCTURE_DB: sdmxResetStructureDb
  RESET_STRUCTURE_USER: sdmxResetStructureUser
  STABLE_DATA_DB: sdmxStableDataDb
  STABLE_DATA_USER: sdmxStableDataUser
  STABLE_STRUCTURE_DB: sdmxStableStructureDb
  STABLE_STRUCTURE_USER: sdmxStableStructureUser
  DESIGN_DATA_DB: sdmxDesignDataDb
  DESIGN_DATA_USER: sdmxDesignDataUser
  DESIGN_STRUCTURE_DB: sdmxDesignStructureDb
  DESIGN_STRUCTURE_USER: sdmxDesignStructureUser
  STAGING_DATA_DB: sdmxStagingDataDb
  STAGING_DATA_USER: sdmxStagingDataUser
  STAGING_STRUCTURE_DB: sdmxStagingStructureDb
  STAGING_STRUCTURE_USER: sdmxStagingStructureUser
  SA_USER:
---
# Source: fdi-dotstatsuite/templates/svc/authz.yaml
apiVersion: v1
kind: Service
metadata:
  name: my-fdi-dotstatsuite-authz
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-authz
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: http
      protocol: TCP
      name: http-authz
  selector:
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite-authz
---
# Source: fdi-dotstatsuite/templates/svc/nsidesign.yaml
apiVersion: v1
kind: Service
metadata:
  name: my-fdi-dotstatsuite-design
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-design
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: http
      protocol: TCP
      name: http-design
  selector:
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite-design
---
# Source: fdi-dotstatsuite/templates/svc/nsireset.yaml
apiVersion: v1
kind: Service
metadata:
  name: my-fdi-dotstatsuite-reset
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-reset
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: http
      protocol: TCP
      name: http-reset
  selector:
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite-reset
---
# Source: fdi-dotstatsuite/templates/svc/nsistable.yaml
apiVersion: v1
kind: Service
metadata:
  name: my-fdi-dotstatsuite-stable
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-stable
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: http
      protocol: TCP
      name: http-stable
  selector:
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite-stable
---
# Source: fdi-dotstatsuite/templates/svc/nsistaging.yaml
apiVersion: v1
kind: Service
metadata:
  name: my-fdi-dotstatsuite-staging
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-staging
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: http
      protocol: TCP
      name: http-staging
  selector:
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite-staging
---
# Source: fdi-dotstatsuite/templates/svc/transfer.yaml
apiVersion: v1
kind: Service
metadata:
  name: my-fdi-dotstatsuite-transfer
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-transfer
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: http
      protocol: TCP
      name: http-transfer
  selector:
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite-transfer
---
# Source: fdi-dotstatsuite/templates/deploy/authz.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-fdi-dotstatsuite-authz
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-authz
spec:
  selector:
    matchLabels:
      app.kubernetes.io/name: fdi-dotstatsuite
      app.kubernetes.io/instance: my-fdi-dotstatsuite-authz
  template:
    metadata:
      annotations:
        traffic.sidecar.istio.io/excludeOutboundPorts: '1433'
      labels:
        app.kubernetes.io/name: fdi-dotstatsuite
        app.kubernetes.io/instance: my-fdi-dotstatsuite-authz
    spec:
      imagePullSecrets:
        - name: registry-pull-secret
      serviceAccountName: my-fdi-dotstatsuite-authz
      securityContext:
        {}
      containers:
        - name: my-fdi-dotstatsuite-authz
          securityContext:
            {}
          image: "siscc/dotstatsuite-core-auth-management:master"
          imagePullPolicy: Always
          volumeMounts:
          envFrom:
            - configMapRef:
                name: -mssql
            - configMapRef:
                name: -authz
          env:
            - name: COMMON_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -mssql-common
                  key: password
            - name: "DotStatSuiteCoreCommonDbConnectionString"
              value: "Server= ;Database=$(COMMON_DB);User=$(COMMON_USER);Password=$(COMMON_PASSWORD);"
          ports:
            - name: http
              containerPort: 80
              protocol: TCP
          livenessProbe:
            httpGet:
              path: /live
              port: http
          readinessProbe:
            httpGet:
              path: /health
              port: http
          resources:
            limits:
              cpu: 100m
              memory: 128Mi
            requests:
              cpu: 100m
              memory: 128Mi
      volumes:
---
# Source: fdi-dotstatsuite/templates/deploy/nsidesign.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-fdi-dotstatsuite-design
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-design
spec:
  selector:
    matchLabels:
      app.kubernetes.io/name: fdi-dotstatsuite
      app.kubernetes.io/instance: my-fdi-dotstatsuite-design
  template:
    metadata:
      annotations:
        traffic.sidecar.istio.io/excludeOutboundPorts: '1433'
      labels:
        app.kubernetes.io/name: fdi-dotstatsuite
        app.kubernetes.io/instance: my-fdi-dotstatsuite-design
    spec:
      imagePullSecrets:
        - name: registry-pull-secret
      serviceAccountName: my-fdi-dotstatsuite-design
      securityContext:
        {}
      containers:
        - name: my-fdi-dotstatsuite-design
          securityContext:
            {}
          image: "siscc/sdmxri-nsi-maapi:master"
          imagePullPolicy: Always
          volumeMounts: 
          envFrom:
            - configMapRef:
                name: -mssql
            - configMapRef:
                name: -authz
          env:
            - name: SA_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -db-secret
                  key: sapassword
            - name: DESIGN_DATA_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -mssql-sdmx-design-data
                  key: password
            - name: DESIGN_STRUCTURE_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -mssql-sdmx-design-structure
                  key: password
            - name: COMMON_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -mssql-common
                  key: password
            - name: "DotStatSuiteCoreCommonDbConnectionString"
              value: "Server= ;Database=$(COMMON_DB);User=$(COMMON_USER);Password=$(COMMON_PASSWORD);"
            - name: SQL_SERVER
              value:  
            - name: SQL_DATABASE
              value: $(DESIGN_STRUCTURE_DB)
            - name: SQL_USER
              value: $(DESIGN_STRUCTURE_USER)
            - name: SQL_PASSWORD
              value: $(DESIGN_STRUCTURE_PASSWORD)
            - name: SENDER_ID
              value: "Stable - DotStat v8"
            - name: MA_SQL_USER
              value: $(SA_USER)
            - name: MA_SQL_PASSWORD
              value: $(SA_PASSWORD)
            - name: MA_ALWAYS_RESET
              value: "N"            
            - name: INSERT_NEW_ITEM_SCHEME_VALUES
              value: "true"              
            - name: enableReleaseManagement
              value: "true"              
            - name: "mappingStore__Id__Default"
              value: "design"
            - name: disseminationDbConnection__dbType
              value: SqlServer
            - name: "disseminationDbConnection__connectionString"
              value: "Server= ;Database=$(DESIGN_DATA_DB);User=$(DESIGN_DATA_USER);Password=$(DESIGN_DATA_PASSWORD);"
          ports:
            - name: http
              containerPort: 80
              protocol: TCP
          readinessProbe:
            httpGet:
              path: /health
              port: http
          resources:
            limits:
              cpu: 200m
              memory: 16Gi
            requests:
              cpu: 100m
              memory: 8Gi
      volumes:
---
# Source: fdi-dotstatsuite/templates/deploy/nsireset.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-fdi-dotstatsuite-reset
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-reset
spec:
  selector:
    matchLabels:
      app.kubernetes.io/name: fdi-dotstatsuite
      app.kubernetes.io/instance: my-fdi-dotstatsuite-reset
  template:
    metadata:
      annotations:
        traffic.sidecar.istio.io/excludeOutboundPorts: '1433'
      labels:
        app.kubernetes.io/name: fdi-dotstatsuite
        app.kubernetes.io/instance: my-fdi-dotstatsuite-reset
    spec:
      imagePullSecrets:
        - name: registry-pull-secret
      serviceAccountName: my-fdi-dotstatsuite-reset
      securityContext:
        {}

      containers:
        - name: my-fdi-dotstatsuite-reset
          securityContext:
            {}
          image: "siscc/sdmxri-nsi-maapi:master"
          imagePullPolicy: Always
          volumeMounts:
          envFrom:
            - configMapRef:
                name: -mssql
            - configMapRef:
                name: -authz
          env:
            - name: SA_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -db-secret
                  key: sapassword
            - name: RESET_DATA_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -mssql-sdmx-reset-data
                  key: password
            - name: RESET_STRUCTURE_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -mssql-sdmx-reset-structure
                  key: password
            - name: COMMON_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -mssql-common
                  key: password
            - name: "DotStatSuiteCoreCommonDbConnectionString"
              value: "Server= ;Database=$(COMMON_DB);User=$(COMMON_USER);Password=$(COMMON_PASSWORD);"
            - name: SQL_SERVER
              value:  
            - name: SQL_DATABASE
              value: $(RESET_STRUCTURE_DB)
            - name: SQL_USER
              value: $(RESET_STRUCTURE_USER)
            - name: SQL_PASSWORD
              value: $(RESET_STRUCTURE_PASSWORD)
            - name: SENDER_ID
              value: "Stable - DotStat v8"
            - name: MA_SQL_USER
              value: $(SA_USER)
            - name: MA_SQL_PASSWORD
              value: $(SA_PASSWORD)
            - name: MA_ALWAYS_RESET
              value: "Y"            
            - name: INSERT_NEW_ITEM_SCHEME_VALUES
              value: "true"              
            - name: enableReleaseManagement
              value: "true"              
            - name: "mappingStore__Id__Default"
              value: "reset"
            - name: disseminationDbConnection__dbType
              value: SqlServer
            - name: "disseminationDbConnection__connectionString"
              value: "Server= ;Database=$(RESET_DATA_DB);User=$(RESET_DATA_USER);Password=$(RESET_DATA_PASSWORD);"
          ports:
            - name: http
              containerPort: 80
              protocol: TCP
          readinessProbe:
            httpGet:
              path: /health
              port: http
          resources:
            limits:
              cpu: 200m
              memory: 16Gi
            requests:
              cpu: 100m
              memory: 8Gi
      volumes:
---
# Source: fdi-dotstatsuite/templates/deploy/nsistable.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-fdi-dotstatsuite-stable
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-stable
spec:
  selector:
    matchLabels:
      app.kubernetes.io/name: fdi-dotstatsuite
      app.kubernetes.io/instance: my-fdi-dotstatsuite-stable
  template:
    metadata:
      annotations:
        traffic.sidecar.istio.io/excludeOutboundPorts: '1433'
      labels:
        app.kubernetes.io/name: fdi-dotstatsuite
        app.kubernetes.io/instance: my-fdi-dotstatsuite-stable
    spec:
      imagePullSecrets:
        - name: registry-pull-secret
      serviceAccountName: my-fdi-dotstatsuite-stable
      securityContext:
        {}
      containers:
        - name: my-fdi-dotstatsuite-stable
          securityContext:
            {}
          image: "siscc/sdmxri-nsi-maapi:master"
          imagePullPolicy: Always
          volumeMounts:
          envFrom:
            - configMapRef:
                name: -mssql
            - configMapRef:
                name: -authz
          env:
            - name: SA_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -db-secret
                  key: sapassword
            - name: STABLE_DATA_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -mssql-sdmx-stable-data
                  key: password
            - name: STABLE_STRUCTURE_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -mssql-sdmx-stable-structure
                  key: password
            - name: COMMON_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -mssql-common
                  key: password
            - name: "DotStatSuiteCoreCommonDbConnectionString"
              value: "Server= ;Database=$(COMMON_DB);User=$(COMMON_USER);Password=$(COMMON_PASSWORD);"
            - name: SQL_SERVER
              value:  
            - name: SQL_DATABASE
              value: $(STABLE_STRUCTURE_DB)
            - name: SQL_USER
              value: $(STABLE_STRUCTURE_USER)
            - name: SQL_PASSWORD
              value: $(STABLE_STRUCTURE_PASSWORD)
            - name: SENDER_ID
              value: "Stable - DotStat v8"
            - name: MA_SQL_USER
              value: $(SA_USER)
            - name: MA_SQL_PASSWORD
              value: $(SA_PASSWORD)
            - name: MA_ALWAYS_RESET
              value: "N"            
            - name: INSERT_NEW_ITEM_SCHEME_VALUES
              value: "false"              
            - name: enableReleaseManagement
              value: "true"              
            - name: "mappingStore__Id__Default"
              value: "stable"
            - name: disseminationDbConnection__dbType
              value: SqlServer
            - name: "disseminationDbConnection__connectionString"
              value: "Server= ;Database=$(STABLE_DATA_DB);User=$(STABLE_DATA_USER);Password=$(STABLE_DATA_PASSWORD);"
          ports:
            - name: http
              containerPort: 80
              protocol: TCP
          readinessProbe:
            httpGet:
              path: /health
              port: http
          resources:
            limits:
              cpu: 200m
              memory: 16Gi
            requests:
              cpu: 100m
              memory: 8Gi
      volumes:
---
# Source: fdi-dotstatsuite/templates/deploy/nsistaging.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-fdi-dotstatsuite-staging
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-staging
spec:
  selector:
    matchLabels:
      app.kubernetes.io/name: fdi-dotstatsuite
      app.kubernetes.io/instance: my-fdi-dotstatsuite-staging
  template:
    metadata:
      annotations:
        traffic.sidecar.istio.io/excludeOutboundPorts: '1433'
      labels:
        app.kubernetes.io/name: fdi-dotstatsuite
        app.kubernetes.io/instance: my-fdi-dotstatsuite-staging
    spec:
      imagePullSecrets:
        - name: registry-pull-secret
      serviceAccountName: my-fdi-dotstatsuite-staging
      securityContext:
        {}        
      containers:
        - name: my-fdi-dotstatsuite-staging
          securityContext:
            {}
          image: "siscc/sdmxri-nsi-maapi:master"
          imagePullPolicy: Always
          volumeMounts:
          envFrom:
            - configMapRef:
                name: -mssql
            - configMapRef:
                name: -authz
          env:
            - name: SA_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -db-secret
                  key: sapassword
            - name: STAGING_DATA_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -mssql-sdmx-staging-data
                  key: password
            - name: STAGING_STRUCTURE_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -mssql-sdmx-staging-structure
                  key: password
            - name: COMMON_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -mssql-common
                  key: password
            - name: "DotStatSuiteCoreCommonDbConnectionString"
              value: "Server= ;Database=$(COMMON_DB);User=$(COMMON_USER);Password=$(COMMON_PASSWORD);"
            - name: SQL_SERVER
              value:  
            - name: SQL_DATABASE
              value: $(STAGING_STRUCTURE_DB)
            - name: SQL_USER
              value: $(STAGING_STRUCTURE_USER)
            - name: SQL_PASSWORD
              value: $(STAGING_STRUCTURE_PASSWORD)
            - name: SENDER_ID
              value: "Stable - DotStat v8"
            - name: MA_SQL_USER
              value: $(SA_USER)
            - name: MA_SQL_PASSWORD
              value: $(SA_PASSWORD)
            - name: MA_ALWAYS_RESET
              value: "N"            
            - name: INSERT_NEW_ITEM_SCHEME_VALUES
              value: "false"              
            - name: enableReleaseManagement
              value: "true"              
            - name: "mappingStore__Id__Default"
              value: "staging"
            - name: disseminationDbConnection__dbType
              value: SqlServer
            - name: "disseminationDbConnection__connectionString"
              value: "Server= ;Database=$(STAGING_DATA_DB);User=$(STAGING_DATA_USER);Password=$(STAGING_DATA_PASSWORD);"
          ports:
            - name: http
              containerPort: 80
              protocol: TCP
          readinessProbe:
            httpGet:
              path: /health
              port: http
          resources:
            limits:
              cpu: 200m
              memory: 16Gi
            requests:
              cpu: 100m
              memory: 8Gi
      volumes:
---
# Source: fdi-dotstatsuite/templates/deploy/transfer.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-fdi-dotstatsuite-transfer
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-transfer
spec:
  selector:
    matchLabels:
      app.kubernetes.io/name: fdi-dotstatsuite
      app.kubernetes.io/instance: my-fdi-dotstatsuite-transfer
  template:
    metadata:
      annotations:
        traffic.sidecar.istio.io/excludeOutboundPorts: '1433'
      labels:
        app.kubernetes.io/name: fdi-dotstatsuite
        app.kubernetes.io/instance: my-fdi-dotstatsuite-transfer
    spec:
      imagePullSecrets:
        - name: registry-pull-secret
      serviceAccountName: my-fdi-dotstatsuite-transfer
      securityContext:
        {}
      containers:
        - name: my-fdi-dotstatsuite-transfer
          securityContext:
            {}
          image: "siscc/dotstatsuite-core-transfer:master"
          imagePullPolicy: Always
          volumeMounts:
          envFrom:
            - configMapRef:
                name: -mssql
            - configMapRef:
                name: -authz
          env:
            - name: SA_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -db-secret
                  key: sapassword
            - name: COMMON_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -mssql-common
                  key: password
            - name: SMTP_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -smtp
                  key: password    
            - name: STABLE_DATA_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -mssql-sdmx-stable-data
                  key: password
            - name: STABLE_STRUCTURE_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -mssql-sdmx-stable-structure
                  key: password     
            - name: RESET_DATA_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -mssql-sdmx-reset-data
                  key: password
            - name: RESET_STRUCTURE_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -mssql-sdmx-reset-structure
                  key: password                   
            - name: DESIGN_DATA_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -mssql-sdmx-design-data
                  key: password
            - name: DESIGN_STRUCTURE_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -mssql-sdmx-design-structure
                  key: password                   
            - name: STAGING_DATA_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -mssql-sdmx-staging-data
                  key: password
            - name: STAGING_STRUCTURE_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: -mssql-sdmx-staging-structure
                  key: password 
            - name: "MaxTransferErrorAmount"
              value: "0"
            - name: "MaxTextAttributeLength"
              value: "150"
            - name: "MinPercentageDiskSpace"
              value: "10"
            - name: "DefaultLanguageCode"
              value: "en"
            - name: "ShowAdvanceDbHealthInfo"
              value: "false"
            - name: "SmtpHost"
              value: ""
            - name: "SmtpPort"
              value: "587"
            - name: "SmtpEnableSsl"
              value: "true"
            - name: "SmtpUserName"
              value: ""
            - name: "SmtpUserPassword"
              value: $(SMTP_PASSWORD)
            - name: "MailFrom"
              value: ""
            - name: "DotStatSuiteCoreCommonDbConnectionString"
              value: "Server= ;Database=$(COMMON_DB);User=$(COMMON_USER);Password=$(COMMON_PASSWORD);"            
            - name: "SpacesInternal__0__Id"
              value: "stable"
            - name: "SpacesInternal__0__DotStatSuiteCoreStructDbConnectionString"
              value: "Server= ;Database=$(STABLE_STRUCTURE_DB);User=$(STABLE_STRUCTURE_USER);Password=$(STABLE_STRUCTURE_PASSWORD);"
            - name: "SpacesInternal__0__DotStatSuiteCoreDataDbConnectionString"
              value: "Server= ;Database=$(STABLE_DATA_DB);User=$(STABLE_DATA_USER);Password=$(STABLE_DATA_PASSWORD);"
            - name: "SpacesInternal__0__DataImportTimeOutInMinutes"
              value: "30"
            - name: "SpacesInternal__0__DatabaseCommandTimeoutInSec"
              value: "1800"
            - name: "SpacesInternal__0__AutoLog2DB"
              value: "true"
            - name: "SpacesInternal__0__AutoLog2DBLogLevel"
              value: "Notice"  
            - name: "SpacesInternal__1__Id"
              value: "reset"
            - name: "SpacesInternal__1__DotStatSuiteCoreStructDbConnectionString"
              value: "Server= ;Database=$(RESET_STRUCTURE_DB);User=$(RESET_STRUCTURE_USER);Password=$(RESET_STRUCTURE_PASSWORD);"
            - name: "SpacesInternal__1__DotStatSuiteCoreDataDbConnectionString"
              value: "Server= ;Database=$(RESET_DATA_DB);User=$(RESET_DATA_USER);Password=$(RESET_DATA_PASSWORD);"
            - name: "SpacesInternal__1__DataImportTimeOutInMinutes"
              value: "30"
            - name: "SpacesInternal__1__DatabaseCommandTimeoutInSec"
              value: "1800"
            - name: "SpacesInternal__1__AutoLog2DB"
              value: "true"
            - name: "SpacesInternal__1__AutoLog2DBLogLevel"
              value: "Notice "  
            - name: "SpacesInternal__2__Id"
              value: "design"
            - name: "SpacesInternal__2__DotStatSuiteCoreStructDbConnectionString"
              value: "Server= ;Database=$(DESIGN_STRUCTURE_DB);User=$(DESIGN_STRUCTURE_USER);Password=$(DESIGN_STRUCTURE_PASSWORD);"
            - name: "SpacesInternal__2__DotStatSuiteCoreDataDbConnectionString"
              value: "Server= ;Database=$(DESIGN_DATA_DB);User=$(DESIGN_DATA_USER);Password=$(DESIGN_DATA_PASSWORD);"
            - name: "SpacesInternal__2__DataImportTimeOutInMinutes"
              value: "30"
            - name: "SpacesInternal__2__DatabaseCommandTimeoutInSec"
              value: "1800"
            - name: "SpacesInternal__2__AutoLog2DB"
              value: "true"
            - name: "SpacesInternal__2__AutoLog2DBLogLevel"
              value: "Notice "  
            - name: "SpacesInternal__3__Id"
              value: "staging"
            - name: "SpacesInternal__3__DotStatSuiteCoreStructDbConnectionString"
              value: "Server= ;Database=$(STAGING_STRUCTURE_DB);User=$(STAGING_STRUCTURE_USER);Password=$(STAGING_STRUCTURE_PASSWORD);"
            - name: "SpacesInternal__3__DotStatSuiteCoreDataDbConnectionString"
              value: "Server= ;Database=$(STAGING_DATA_DB);User=$(STAGING_DATA_USER);Password=$(STAGING_DATA_PASSWORD);"
            - name: "SpacesInternal__3__DataImportTimeOutInMinutes"
              value: "30"
            - name: "SpacesInternal__3__DatabaseCommandTimeoutInSec"
              value: "1800"
            - name: "SpacesInternal__3__AutoLog2DB"
              value: "true"
            - name: "SpacesInternal__3__AutoLog2DBLogLevel"
              value: "Notice "                
          ports:
            - name: http
              containerPort: 80
              protocol: TCP
          livenessProbe:
            httpGet:
              path: /live
              port: http
          resources:
            limits:
              cpu: 200m
              memory: 16Gi
            requests:
              cpu: 100m
              memory: 8Gi
      volumes:
---
# Source: fdi-dotstatsuite/templates/hpa/authz.yaml
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: my-fdi-dotstatsuite-authz
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-authz
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: my-fdi-dotstatsuite-authz
  minReplicas: 1
  maxReplicas: 10
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          type: Utilization
          averageUtilization: 80
---
# Source: fdi-dotstatsuite/templates/hpa/nsidesign.yaml
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: my-fdi-dotstatsuite-design
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-design
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: my-fdi-dotstatsuite-design
  minReplicas: 1
  maxReplicas: 10
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          type: Utilization
          averageUtilization: 80
---
# Source: fdi-dotstatsuite/templates/hpa/nsireset.yaml
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: my-fdi-dotstatsuite-reset
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-reset
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: my-fdi-dotstatsuite-reset
  minReplicas: 1
  maxReplicas: 10
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          type: Utilization
          averageUtilization: 80
---
# Source: fdi-dotstatsuite/templates/hpa/nsistable.yaml
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: my-fdi-dotstatsuite-stable
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-stable
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: my-fdi-dotstatsuite-stable
  minReplicas: 1
  maxReplicas: 10
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          type: Utilization
          averageUtilization: 80
---
# Source: fdi-dotstatsuite/templates/hpa/nsistaging.yaml
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: my-fdi-dotstatsuite-staging
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-staging
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: my-fdi-dotstatsuite-staging
  minReplicas: 1
  maxReplicas: 10
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          type: Utilization
          averageUtilization: 80
---
# Source: fdi-dotstatsuite/templates/hpa/transfer.yaml
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: my-fdi-dotstatsuite-transfer
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-transfer
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: my-fdi-dotstatsuite-transfer
  minReplicas: 1
  maxReplicas: 10
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          type: Utilization
          averageUtilization: 80
---
# Source: fdi-dotstatsuite/templates/ing/authz.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: my-fdi-dotstatsuite-authz
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-authz
  annotations:
    kubernetes.io/ingress.class: istio
spec:
  rules:
    - host: "authz-siscc.redpelicans.com"
      http:
        paths:
          - path: /*
            pathType: ImplementationSpecific
            backend:
              service:
                name: my-fdi-dotstatsuite-authz
                port:
                  number: 80
---
# Source: fdi-dotstatsuite/templates/ing/nsidesign.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: my-fdi-dotstatsuite-design
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-design
  annotations:
    kubernetes.io/ingress.class: istio
spec:
  rules:
    - host: "fdi-design-ccei.redpelicans.com"
      http:
        paths:
          - path: /*
            pathType: ImplementationSpecific
            backend:
              service:
                name: my-fdi-dotstatsuite-design
                port:
                  number: 80
---
# Source: fdi-dotstatsuite/templates/ing/nsireset.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: my-fdi-dotstatsuite-reset
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-reset
  annotations:
    kubernetes.io/ingress.class: istio
spec:
  rules:
    - host: "fdi-reset-ccei.redpelicans.com"
      http:
        paths:
          - path: /*
            pathType: ImplementationSpecific
            backend:
              service:
                name: my-fdi-dotstatsuite-reset
                port:
                  number: 80
---
# Source: fdi-dotstatsuite/templates/ing/nsistable.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: my-fdi-dotstatsuite-stable
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-stable
  annotations:
    kubernetes.io/ingress.class: istio
spec:
  rules:
    - host: "fdi-stable-ccei.redpelicans.com"
      http:
        paths:
          - path: /*
            pathType: ImplementationSpecific
            backend:
              service:
                name: my-fdi-dotstatsuite-stable
                port:
                  number: 80
---
# Source: fdi-dotstatsuite/templates/ing/nsistaging.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: my-fdi-dotstatsuite-staging
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-staging
  annotations:
    kubernetes.io/ingress.class: istio
spec:
  rules:
    - host: "fdi-staging-ccei.redpelicans.com"
      http:
        paths:
          - path: /*
            pathType: ImplementationSpecific
            backend:
              service:
                name: my-fdi-dotstatsuite-staging
                port:
                  number: 80
---
# Source: fdi-dotstatsuite/templates/ing/transfer.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: my-fdi-dotstatsuite-transfer
  labels:
    helm.sh/chart: fdi-dotstatsuite-0.2.21
    app.kubernetes.io/name: fdi-dotstatsuite
    app.kubernetes.io/instance: my-fdi-dotstatsuite
    app.kubernetes.io/version: "7.2.0"
    app.kubernetes.io/managed-by: Helm-transfer
  annotations:
    kubernetes.io/ingress.class: istio
spec:
  rules:
    - host: "fdi-transfer-sdmx.redpelicans.com"
      http:
        paths:
          - path: /*
            pathType: ImplementationSpecific
            backend:
              service:
                name: my-fdi-dotstatsuite-transfer
                port:
                  number: 80
