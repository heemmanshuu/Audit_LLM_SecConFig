---
# Source: kubestash/charts/kubestash-operator/templates/rbac/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: my-kubestash-kubestash-operator
  namespace: default
  labels:
    helm.sh/chart: kubestash-operator-v0.12.0
    app.kubernetes.io/name: kubestash-operator
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v0.12.1"
    app.kubernetes.io/managed-by: Helm
---
# Source: kubestash/charts/kubestash-operator/templates/webhook-server/cert.yaml
apiVersion: v1
kind: Secret
metadata:
  name: my-kubestash-kubestash-operator-webhook-cert
  namespace: default
  labels:
    helm.sh/chart: kubestash-operator-v0.12.0
    app.kubernetes.io/name: kubestash-operator
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v0.12.1"
    app.kubernetes.io/managed-by: Helm
type: Opaque
data:
  ca.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURCVENDQWUyZ0F3SUJBZ0lRSjNVM2JNMDc3NkVFL3ZDVkNoOEpSVEFOQmdrcWhraUc5dzBCQVFzRkFEQU4KTVFzd0NRWURWUVFERXdKallUQWVGdzB5TkRBNU1UWXdPRFE1TlRCYUZ3MHpOREE1TVRRd09EUTVOVEJhTUEweApDekFKQmdOVkJBTVRBbU5oTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUF0NGh6CkJyMXgzRmxja1ZyU0xsK25LNnlQd0x5NnRsN3JvaEJ1WEZtZXJzZXNTMUNUemxNaDVNZGdnRFR5WnRKdHMySVEKY211WFdWR0xNZ29yQlBIbkxRclhKQUxqbTRYZnFvNkw3cnNRL2M0VldYQ1BwWDZIY1JQZWxwd1hpRERjdlVXYQo3OG1PRHllSkVhK3FvWE9NcXlCWTNnU2dTV2JpZzZxNkthVVdSSldKVmNpRGNYSWtQUUJ0M1dzUTJCcDZ4ekZmCnRkM3ZBTGZLV1Vzb0djM2NLMk9Bb2JYKzhCYUtQRm4zaW5HVS9wSzEzOG9QY3R0SDZ4VFlVY3pGUTk5S0IwdXAKY0N1T0pFRW5KM1dLdzBKdVFHZkVvT21XMjVCU2xFOXFmajN0TmVueWs4NzV0RHBQZ21LYU9pZkdGamJTcGUxVgpoQUs2cU03Yk56dzVKVE84aXdJREFRQUJvMkV3WHpBT0JnTlZIUThCQWY4RUJBTUNBcVF3SFFZRFZSMGxCQll3CkZBWUlLd1lCQlFVSEF3RUdDQ3NHQVFVRkJ3TUNNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdIUVlEVlIwT0JCWUUKRkNkWlNacTlreTNQaE1xL04zNW4yUTYwZ21pek1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQUt5dTR3NXREawpVckFTblBVUXE0T21sL2N2bGpXQTJmSFRlclB6N29kQnQyZHpyV1pjNWUrVGZRZW9qNHpzSlVhenNYL05XYXdUClFyUnFNOGR5RWxmbzJJZ0ZvV1U5bkxJd2R4S3IvaURzWFpDN3QydS83bzNna25reWFCdG5kZVlacC9NNGhaamQKWXVUcWhRYTJuejFXbzF0N3lGcFVORmVybVRUWk9DNlBmYnlISmkreG9qcUlmUHZKTmo5REM1M01WeGNzbHcyRwoyTVlSM1VjRllVOEdmTmdTTWpTMjFmbEFRMXhHS2IzODIyaENSVUp3VnNTOXpGMlFLTTdhUmJJV2ZUYmd4RUY5Cno4aHZTLzNoY2dJQ1RmbDBEOUlzbFBQbDBUUi9HVnR6RVFvSkNMNkpnUXF4WWFlRVl4WXd3SFpoR0tDOUFDUHAKdFROMDFqU0V6dzFHCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURuVENDQW9XZ0F3SUJBZ0lSQVBVdVpibUZ5amhvNU5yQkI4dmxyN2d3RFFZSktvWklodmNOQVFFTEJRQXcKRFRFTE1Ba0dBMVVFQXhNQ1kyRXdIaGNOTWpRd09URTJNRGcwT1RVeFdoY05NelF3T1RFME1EZzBPVFV4V2pBeQpNVEF3TGdZRFZRUURFeWR0ZVMxcmRXSmxjM1JoYzJndGEzVmlaWE4wWVhOb0xXOXdaWEpoZEc5eUxYZGxZbWh2CmIyc3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEYk1SakhMUm5HUWNibnNYTHAKYWx6Q2p3WGNIeTMvQjVxcVlXem5CemJXaDJ2UjFDL09LWXJ3RCszRk9EeEowczV2V0tKT3lZekNnM3RYaDVZOQpZOVFtRnJNSDhwbVQ5eXBXa2JzNXRsRU1hTytjcStpcEF3V1FBaENPS3FjcWlwUng1Z0FKTElISXFkZm9lS3JTCll0RlgydFhmMGlwSCtmVlRnOGhpc2F2S3RNaURFNSthOEMxTlM3QjJQeVR6ajlUckIwU3VVK2NTRlJUNG01SXoKME5nT1AzemZ1dW9QTmZJY3IyanY5bUtOZXRGL0l0aGJ0bVdTYXRZL2Y1aEVRbzlIbUJDVm1NY0VabnIzbzlDMQo4MTZFRy8wYVNucFlpWTNQcEV3MmZmWHd5ZUp4REFCMS9wLy9mTjJDS0NidUVMS054a3hmSUFJeVY5WHAvUmVWCmMzNnZBZ01CQUFHamdkSXdnYzh3RGdZRFZSMFBBUUgvQkFRREFnV2dNQjBHQTFVZEpRUVdNQlFHQ0NzR0FRVUYKQndNQkJnZ3JCZ0VGQlFjREFqQU1CZ05WSFJNQkFmOEVBakFBTUI4R0ExVWRJd1FZTUJhQUZDZFpTWnE5a3kzUApoTXEvTjM1bjJRNjBnbWl6TUc4R0ExVWRFUVJvTUdhQ0wyMTVMV3QxWW1WemRHRnphQzFyZFdKbGMzUmhjMmd0CmIzQmxjbUYwYjNJdGQyVmlhRzl2YXk1a1pXWmhkV3gwZ2pOdGVTMXJkV0psYzNSaGMyZ3RhM1ZpWlhOMFlYTm8KTFc5d1pYSmhkRzl5TFhkbFltaHZiMnN1WkdWbVlYVnNkQzV6ZG1Nd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQgpBQ2hnRTVneWJUVzFRM2s2NmJSNndoOSt0V3hhL1RHYmE2d0JhWllvblZEc1lDTi95a0VKOVdOSzdUb1o4QStsCmhsMTdZVitwdm9JVWcxUjdwYXpKZnl4UkM3clJlV0JPdXVaSUNvNGRHS0ZwOUoraWcxQjZLbEhZT1kwVjFqZU8KbVhveUtxRDdoNlZtR0JjSUljNmxSa25EVHYzSEVMUTFVcDg4bDBRUkpETkE3eXJWTU5Uak5OV2d0Nlh5RnNrNAo5M0RjSi9SSG1BaERHenN1MmtlVnFyeUZ3Z21CMHFnN0RaVTZWQmducFlMVWNrTDVTTWNtUFl0cEh2VjFCeG90Clk1aTQ4NWgxMFY1MkRzcE9qR09lTDZ6bjAzcVBHNnNOenV6OHA3K1VDb3VMRUpHcFJvTDJJb25yNU83bjVUUHYKakFFTFFTOTRvMDJOWlhNdis0YXpxYTg9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
  tls.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb3dJQkFBS0NBUUVBMnpFWXh5MFp4a0hHNTdGeTZXcGN3bzhGM0I4dC93ZWFxbUZzNXdjMjFvZHIwZFF2CnppbUs4QS90eFRnOFNkTE9iMWlpVHNtTXdvTjdWNGVXUFdQVUpoYXpCL0taay9jcVZwRzdPYlpSREdqdm5Ldm8KcVFNRmtBSVFqaXFuS29xVWNlWUFDU3lCeUtuWDZIaXEwbUxSVjlyVjM5SXFSL24xVTRQSVlyR3J5clRJZ3hPZgptdkF0VFV1d2RqOGs4NC9VNndkRXJsUG5FaFVVK0p1U005RFlEajk4MzdycUR6WHlISzlvNy9aaWpYclJmeUxZClc3WmxrbXJXUDMrWVJFS1BSNWdRbFpqSEJHWjY5NlBRdGZOZWhCdjlHa3A2V0ltTno2Uk1ObjMxOE1uaWNRd0EKZGY2Zi8zemRnaWdtN2hDeWpjWk1YeUFDTWxmVjZmMFhsWE4rcndJREFRQUJBb0lCQUVadnJJcTB6NGVLTTZUWQp2UmlNK1duOEUrSDhrd2RWSmpxQ1BFQ3hiTW5ia3FaSERXV3VxOXNoQTBOUkl1NkdNNWhNWHp2NlFLVnhJdjJwCnNIbmh6cGErektGTk1GVUFKRGJWZGRqQjRhR2ZSd0NOcmFKQ09sTmdsbmxZODRjVUtVZkFwVnBOVnhkb25OMHoKaVpFNStCUEhXdHNsNmpoZTlwcnp5ajBNNHl1ci9CdExVdWdtOVBQRUY5ZXBKN0dFN1RyaVNCaFJVVWRXOCs2KwpFOWNtamlZYWRlcmZsNzBFaW9LSEVPZFNHcDlwdTRLZmVBWGxlTnZoS2JYOXNVc1JDcHZRR0g3bFR3K3ZKNmduCnpxM2w4YWFVeVNIckxZcG1kTUVVclVnSXdkeG0wb1RycVJ4UmQwMjQyd2xRM0xUaGJZUlNaekFxK2lLbEtoRFcKNnhWRWsrRUNnWUVBNEZ6S2REaVZEcWt5MjBQZTdsMVM0c2EwZjJTeVpyeWw4VDg1ZlE3cEtLeGpHYUJQbnBuVwpVRmFIaVIzMEtlTGpCNWdRSTErYU01YWFKZWNlV2VXMnIxSjRzKzFDRmx6WHprNWtGR2tBOU5hQndkQ05lYWE0CnBNN0hUbnVYQjNCTENHOHJVK3FKVmEzek5YdHJCQkpVSFJwbEdHR3FpMlNpSjlEeW8waUs4azBDZ1lFQStobW0KbUprSXZTcmVBUFhnY0p3MkRuM0xxT2lvMHUrcDFobnNoNG9DL3RML3lQTm5MYjRQd0FkamZqUjdkcVJwMm1HcAovVkczajVFRHVVRG05eTBSaE9CVDN2cTdqeGUwSDBZYysvblh1V25YVGpmWFhPbkgrVXcySXhCYlEyNmtmN2V6CmVvTVFUaEtGT1BIdDdkYU9namt0MElaYTF0emplV291UGVPWVd1c0NnWUVBMHVlbkVKVlgyUTVJVmtGNHdJMU4KcXd1ckJNMzl2Z0c3NUFuUTJyUTNqUnB2bGRsU3Z2NVJyZmVKTk9YSmJjNXdKK1ZUMWt5NlFhQmlpeHExTjBCdQorR1FJUHVyYTR2YW5qckcxOWxHMnFuRXlUS1RsT09QMlVrWm1xR29aVU03SVdjZFc3VzFkYUFNNnlwMlh2WjRWCkg3NStKZXM1VEF0dk93cDU2Ky8zWFVrQ2dZQVlVd0pXK1J0V2VxTFk2UkVKSXNoSEpJajRScGlVMjJaalFtWTAKMElGMkUwTjVZZUw1R2ZFaU5oWEJJbzJYZm1vbEtUYUZRcnRkcFRiOWY0aDNKZFQ4WFcwSzFNd0ZJTU1OLzUyMgpEQmlsR2R3czZWVnkzZkhyRnpSMHVKU0h2RzBYVnVDSDI5TnNKSFQ4a3RzWE5MVHJpWEFoUmMvejhjdlY5VFBHCkpTcWVQUUtCZ0N5SjczazFrZXUxUUVHRWhYSHBXMDl2V2JrVU82c1VXUVZOMk51N1ZLcjQ4VWhEZHY0WStkY1oKQzN1SjJtMmNtUWZFYlgveU9pc3MyQ1F4cVNCSUFnTmloSkFZU204cE1TVHQwQmIrT1d1dTJsUHNwT0ZxRlJtWQpoUUg2bzBsU3pIdkFybVg2L3dDWTRhOEV6V1k2d3JoZDdQU2JpQjFyYjNwTmZBbVFpcVN5Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==
---
# Source: kubestash/charts/kubestash-operator/templates/operator/configuration.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: my-kubestash-kubestash-operator-config
  namespace: default
  labels:
    helm.sh/chart: kubestash-operator-v0.12.0
    app.kubernetes.io/name: kubestash-operator
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v0.12.1"
    app.kubernetes.io/managed-by: Helm
data:
  config.yaml: |
    apiVersion: config.kubestash.com/v1alpha1
    kind: KubeStashConfig
    health:
      healthProbeBindAddress: :8081
    metrics:
      bindAddress: 127.0.0.1:8080
    webhook:
      port: 9443
      certDir: /var/serving-cert
    leaderElection:
      leaderElect: false
      resourceName: cba9d7ad.kubestash.com
    imagePullSecrets:
      []
    webhookInfo:
      validating:
        enable: true
        name: my-kubestash-kubestash-operator
      mutating:
        enable: true
        name: my-kubestash-kubestash-operator
    docker:
      registry: ghcr.io/kubestash
      image: kubestash
      tag: v0.12.1
    netVolAccessor:
      cpu: 100m
      memory: 128Mi
      user: 2000
      privilegedMode: false
---
# Source: kubestash/charts/kubestash-operator/templates/rbac/auth_proxy.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: my-kubestash-kubestash-operator-auth-proxy
rules:
  - apiGroups:
      - authentication.k8s.io
    resources:
      - tokenreviews
    verbs:
      - create
  - apiGroups:
      - authorization.k8s.io
    resources:
      - subjectaccessreviews
    verbs:
      - create
---
# Source: kubestash/charts/kubestash-operator/templates/rbac/cluster_role.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: my-kubestash-kubestash-operator
  labels:
    helm.sh/chart: kubestash-operator-v0.12.0
    app.kubernetes.io/name: kubestash-operator
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v0.12.1"
    app.kubernetes.io/managed-by: Helm
rules:
  - apiGroups:
      - apiextensions.k8s.io
    resources:
      - customresourcedefinitions
    verbs: ["get", "create", "patch", "update"]
  - apiGroups:
      - admissionregistration.k8s.io
    resources:
      - mutatingwebhookconfigurations
      - validatingwebhookconfigurations
    verbs: ["*"]
  - apiGroups:
      - core.kubestash.com
      - kubedb.com
      - snapshot.storage.k8s.io
    resources:
      - "*"
    verbs: ["*"]
  - apiGroups:
      - storage.kubestash.com
    resources:
      - "*"
    verbs: ["*"]
  - apiGroups:
      - appcatalog.appscode.com
    resources:
      - "*"
    verbs: ["get", "list", "watch"]
  - apiGroups:
      - config.kubestash.com
    resources:
      - "*"
    verbs: ["*"]
  - apiGroups:
      - addons.kubestash.com
    resources:
      - "*"
    verbs: [ "*" ]
  - apiGroups:
      - ""
    resources:
      - events
    verbs: ["create"]
  - apiGroups:
      - apps
    resources:
      - daemonsets
      - statefulsets
      - replicasets
    verbs: ["get", "list", "watch", "create"]
  - apiGroups:
      - apps
    resources:
      - deployments
    verbs: ["get", "list", "watch", "create", "patch", "update"]
  - apiGroups:
      - ""
    resources:
      - persistentvolumeclaims
      - persistentvolumes
    verbs: ["get", "list", "watch", "create", "patch", "delete", "update"]
  - apiGroups:
      - ""
    resources:
      - endpoints
      - pods
    verbs: ["get", "list", "watch"]
  - apiGroups:
      - ""
    resources:
      - services
    verbs: ["get", "list", "watch","create"]
  - apiGroups:
      - ""
    resources:
      - pods/exec
    verbs: ["create"]
  - apiGroups:
      - ""
    resources:
      - secrets
    verbs: ["get", "list", "create", "patch", "watch", "delete"]
  - apiGroups:
      - ""
    resources:
      - configmaps
      - services
    verbs: ["get", "create"]
  - apiGroups:
      - batch
    resources:
      - jobs
      - cronjobs
    verbs: ["get", "list", "watch", "create", "delete", "patch", "update"]
  - apiGroups:
      - ""
    resources:
      - nodes
      - namespaces
    verbs: [ "get", "list", "watch" ]
  - apiGroups:
      - ""
    resources:
      - serviceaccounts
    verbs: ["get", "list", "watch", "create", "delete", "patch", "update"]
  - apiGroups:
      - rbac.authorization.k8s.io
    resources:
      - clusterroles
      - roles
      - rolebindings
      - clusterrolebindings
    verbs: ["get","list", "watch", "create", "delete", "patch", "update"]
  - apiGroups:
      - snapshot.storage.k8s.io
    resources:
      - volumesnapshots
    verbs: ["get","delete"]
  - apiGroups:
      - storage.k8s.io
    resources:
      - storageclasses
    verbs: [ "get", "list", "watch" ]
  - apiGroups:
      - catalog.kubedb.com
    resources:
      - elasticsearchs
    verbs: [ "get", "list", "watch" ]
  - apiGroups:
      - appcatalog.appscode.com
    resources:
      - appbindings
    verbs: [ "get", "list", "watch" ]
  - apiGroups:
      - elasticsearch.kubedb.com
    resources:
      - elasticsearchdashboards
    verbs: ["list"]
  - apiGroups:
      - cert-manager.io
    resources:
      - certificates
    verbs: [ "get", "create"]
---
# Source: kubestash/charts/kubestash-operator/templates/rbac/metrics_reader.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: my-kubestash-kubestash-operator-metrics-reader
rules:
  - nonResourceURLs:
      - /metrics
    verbs:
      - get
---
# Source: kubestash/charts/kubestash-operator/templates/license/license-checker-cluster-role-binding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: my-kubestash-kubestash-operator-license-checker
  labels:
    helm.sh/chart: kubestash-operator-v0.12.0
    app.kubernetes.io/name: kubestash-operator
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v0.12.1"
    app.kubernetes.io/managed-by: Helm
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: appscode:license-checker
subjects:
- kind: ServiceAccount
  name: my-kubestash-kubestash-operator
  namespace: default
---
# Source: kubestash/charts/kubestash-operator/templates/license/license-reader-cluster-role-binding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: my-kubestash-kubestash-operator-license-reader
  labels:
    helm.sh/chart: kubestash-operator-v0.12.0
    app.kubernetes.io/name: kubestash-operator
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v0.12.1"
    app.kubernetes.io/managed-by: Helm
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: appscode:license-reader
subjects:
- kind: ServiceAccount
  name: my-kubestash-kubestash-operator
  namespace: default
---
# Source: kubestash/charts/kubestash-operator/templates/rbac/auth_proxy.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: my-kubestash-kubestash-operator-auth-proxy
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: my-kubestash-kubestash-operator-auth-proxy
subjects:
  - kind: ServiceAccount
    name: my-kubestash-kubestash-operator
    namespace: default
---
# Source: kubestash/charts/kubestash-operator/templates/rbac/cluster_role_binding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: my-kubestash-kubestash-operator
  labels:
    helm.sh/chart: kubestash-operator-v0.12.0
    app.kubernetes.io/name: kubestash-operator
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v0.12.1"
    app.kubernetes.io/managed-by: Helm
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: my-kubestash-kubestash-operator
subjects:
- kind: ServiceAccount
  name: my-kubestash-kubestash-operator
  namespace: default
---
# Source: kubestash/charts/kubestash-operator/templates/rbac/leader_election.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  name: my-kubestash-kubestash-operator-leader-election
  namespace: default
  labels:
    helm.sh/chart: kubestash-operator-v0.12.0
    app.kubernetes.io/name: kubestash-operator
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v0.12.1"
    app.kubernetes.io/managed-by: Helm
rules:
  - apiGroups:
      - ""
    resources:
      - configmaps
    verbs:
      - get
      - list
      - watch
      - create
      - update
      - patch
      - delete
  - apiGroups:
      - coordination.k8s.io
    resources:
      - leases
    verbs:
      - get
      - list
      - watch
      - create
      - update
      - patch
      - delete
  - apiGroups:
      - ""
    resources:
      - events
    verbs:
      - create
      - patch
---
# Source: kubestash/charts/kubestash-operator/templates/rbac/leader_election.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: my-kubestash-kubestash-operator-leader-election
  namespace: default
  labels:
    helm.sh/chart: kubestash-operator-v0.12.0
    app.kubernetes.io/name: kubestash-operator
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v0.12.1"
    app.kubernetes.io/managed-by: Helm
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: Role
  name: my-kubestash-kubestash-operator-leader-election
subjects:
  - kind: ServiceAccount
    name: my-kubestash-kubestash-operator
    namespace: default
---
# Source: kubestash/charts/kubestash-operator/templates/webhook-server/monitoring/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: my-kubestash-kubestash-operator
  namespace: default
  labels:
    helm.sh/chart: kubestash-operator-v0.12.0
    app.kubernetes.io/name: kubestash-operator
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v0.12.1"
    app.kubernetes.io/managed-by: Helm
spec:
  ports:
  - name: https
    port: 8443
    protocol: TCP
    targetPort: https
  selector:
    app.kubernetes.io/name: kubestash-operator
    app.kubernetes.io/instance: my-kubestash
    component: webhook-server
---
# Source: kubestash/charts/kubestash-operator/templates/webhook-server/webhook_service.yaml
apiVersion: v1
kind: Service
metadata:
  name: my-kubestash-kubestash-operator-webhook
  namespace: default
  labels:
    helm.sh/chart: kubestash-operator-v0.12.0
    app.kubernetes.io/name: kubestash-operator
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v0.12.1"
    app.kubernetes.io/managed-by: Helm
spec:
  selector:
    app.kubernetes.io/name: kubestash-operator
    app.kubernetes.io/instance: my-kubestash
    component: webhook-server
  ports:
  - port: 443
    protocol: TCP
    targetPort: 9443
---
# Source: kubestash/charts/kubestash-operator/templates/operator/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-kubestash-kubestash-operator-operator
  namespace: default
  labels:
    helm.sh/chart: kubestash-operator-v0.12.0
    app.kubernetes.io/name: kubestash-operator
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v0.12.1"
    app.kubernetes.io/managed-by: Helm
    component: operator
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: kubestash-operator
      app.kubernetes.io/instance: my-kubestash
      component: operator
  template:
    metadata:
      labels:
        app.kubernetes.io/name: kubestash-operator
        app.kubernetes.io/instance: my-kubestash
        component: operator
      annotations:
        checksum/apiregistration.yaml: 61bab0cc2fdc622910c51a9dabfc0f43c3d8a155dd8547d53b0ec3f3ac3ea67c
    spec:
      imagePullSecrets:
        []
      serviceAccountName: my-kubestash-kubestash-operator
      containers:
      - name: operator
        image: "ghcr.io/kubestash/kubestash:v0.12.1"
        imagePullPolicy: IfNotPresent
        securityContext:
          allowPrivilegeEscalation: false
          capabilities:
            drop:
            - ALL
          readOnlyRootFilesystem: true
          runAsNonRoot: true
          runAsUser: 65534
        args:
          - operator
          - --config=/var/config/config.yaml
        env:
        - name: POD_NAME
          valueFrom:
            fieldRef:
              fieldPath: metadata.name
        - name: POD_NAMESPACE
          valueFrom:
            fieldRef:
              fieldPath: metadata.namespace
        resources:
          requests:
            cpu: 100m
        volumeMounts:
        - name: kubestash-tmp-volume
          mountPath: /kubestash-tmp
        - name: config
          mountPath: /var/config
      volumes:
      - name: kubestash-tmp-volume
        emptyDir: {}
      - name: config
        configMap:
          name: my-kubestash-kubestash-operator-config
      securityContext:
        fsGroup: 65535
      nodeSelector:
        kubernetes.io/os: linux
---
# Source: kubestash/charts/kubestash-operator/templates/webhook-server/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-kubestash-kubestash-operator-webhook-server
  namespace: default
  labels:
    helm.sh/chart: kubestash-operator-v0.12.0
    app.kubernetes.io/name: kubestash-operator
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v0.12.1"
    app.kubernetes.io/managed-by: Helm
    component: webhook-server
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: kubestash-operator
      app.kubernetes.io/instance: my-kubestash
      component: webhook-server
  template:
    metadata:
      labels:
        app.kubernetes.io/name: kubestash-operator
        app.kubernetes.io/instance: my-kubestash
        component: webhook-server
      annotations:
        checksum/apiregistration.yaml: 6cb31289ed910530ca5012a6b528d82f2f1ea0d00e0f61d24bce48c57d2d62e8
    spec:
      imagePullSecrets:
        []
      serviceAccountName: my-kubestash-kubestash-operator
      containers:
      - name: webhook-server
        image: "ghcr.io/kubestash/kubestash:v0.12.1"
        imagePullPolicy: IfNotPresent
        securityContext:
          allowPrivilegeEscalation: false
          capabilities:
            drop:
            - ALL
          readOnlyRootFilesystem: true
          runAsNonRoot: true
          runAsUser: 65534
        args:
          - webhook-server
          - --config=/var/config/config.yaml
        ports:
        - name: webhook-server
          containerPort: 9443
          protocol: TCP
        env:
        - name: POD_NAME
          valueFrom:
            fieldRef:
              fieldPath: metadata.name
        - name: POD_NAMESPACE
          valueFrom:
            fieldRef:
              fieldPath: metadata.namespace
        resources:
          requests:
            cpu: 100m
        volumeMounts:
        - name: kubestash-tmp-volume
          mountPath: /kubestash-tmp
        - name: serving-cert
          mountPath: /var/serving-cert
          readOnly: true
        - name: config
          mountPath: /var/config
      - name: kube-rbac-proxy
        image: "ghcr.io/appscode/kube-rbac-proxy:v0.11.0"
        securityContext:
          allowPrivilegeEscalation: false
          capabilities:
            drop:
            - ALL
          readOnlyRootFilesystem: true
          runAsNonRoot: true
          runAsUser: 65534
        args:
        - --secure-listen-address=0.0.0.0:8443
        - --upstream=http://127.0.0.1:8080/
        - --logtostderr=true
        - --v=10
        ports:
        - containerPort: 8443
          name: https
          protocol: TCP
      volumes:
      - name: kubestash-tmp-volume
        emptyDir: {}
      - name: serving-cert
        secret:
          defaultMode: 420
          secretName: my-kubestash-kubestash-operator-webhook-cert
      - name: config
        configMap:
          name: my-kubestash-kubestash-operator-config
      securityContext:
        fsGroup: 65535
      nodeSelector:
        kubernetes.io/os: linux
---
# Source: kubestash/charts/kubestash-operator/templates/license/license.yaml
# if license file is provided, then create a secret for license
---
# Source: kubestash/charts/kubestash-catalog/templates/kubedump/kubedump-addon.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Addon
metadata:
  name: 'kubedump-addon'
  labels:
    helm.sh/chart: kubestash-catalog-v2024.8.30
    app.kubernetes.io/name: kubestash-catalog
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v2024.8.30"
    app.kubernetes.io/managed-by: Helm
spec:
  backupTasks:
  - driver: Restic
    executor: Job
    function: kubedump-backup
    name: manifest-backup
    parameters:
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    - default: "true"
      name: sanitize
      required: false
      usage: Specify whether to remove the decorators from the resource YAML.
    - default: "false"
      name: includeDependants
      required: false
      usage: Specify whether to backup the dependants object along with their parent.
    - default: ""
      name: labelSelector
      required: false
      usage: Specify a label selector to filter the resources.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
---
# Source: kubestash/charts/kubestash-catalog/templates/pvc/pvc-addon.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Addon
metadata:
  name: 'pvc-addon'
  labels:
    helm.sh/chart: kubestash-catalog-v2024.8.30
    app.kubernetes.io/name: kubestash-catalog
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v2024.8.30"
    app.kubernetes.io/managed-by: Helm
spec:
  backupTasks:
  - driver: Restic
    executor: Job
    function: pvc-backup
    name: logical-backup
    parameters:
    - default: /kubestash-data
      name: paths
      required: false
      usage: List of file paths to backup.
    - name: exclude
      required: false
      usage: List of patterns for the files that should be ignored during restore.
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-data
      name: kubestash-data-volume
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-data-volume
      source:
        persistentVolumeClaim:
          claimName: ${PVC_NAME}
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  - driver: VolumeSnapshotter
    function: volumesnapshot-backup
    name: volume-snapshot
    parameters:
    - name: volumeSnapshotClassName
      required: false
      usage: The VolumeSnapshotClassName to be used by volumeSnapshot
    singleton: true
  restoreTasks:
  - driver: Restic
    executor: Job
    function: pvc-restore
    name: logical-backup-restore
    parameters:
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-data
      name: kubestash-data-volume
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-data-volume
      source:
        persistentVolumeClaim:
          claimName: ${PVC_NAME}
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  - driver: Restic
    executor: Job
    function: pvc-restore
    name: volume-clone
    parameters:
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: false
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  - driver: VolumeSnapshotter
    executor: Job
    function: volumesnapshot-restore
    name: volume-snapshot-restore
    singleton: true
---
# Source: kubestash/charts/kubestash-catalog/templates/workload/workload-addon.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Addon
metadata:
  name: 'workload-addon'
  labels:
    helm.sh/chart: kubestash-catalog-v2024.8.30
    app.kubernetes.io/name: kubestash-catalog
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v2024.8.30"
    app.kubernetes.io/managed-by: Helm
spec:
  backupTasks:
  - driver: Restic
    executor: Job
    function: workload-backup
    name: logical-backup
    parameters:
    - name: paths
      required: true
      usage: List of file paths to backup.
    - name: exclude
      required: false
      usage: List of patterns for the files that should be ignored during backup.
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: false
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  - driver: VolumeSnapshotter
    function: volumesnapshot-backup
    name: volume-snapshot
    parameters:
    - name: volumeSnapshotClassName
      required: false
      usage: The VolumeSnapshotClassName to be used by volumeSnapshot
    singleton: true
  - driver: Restic
    executor: Job
    function: manifest-backup
    name: manifest-backup
    parameters:
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  restoreTasks:
  - driver: Restic
    executor: Job
    function: workload-restore
    name: logical-backup-restore
    parameters:
    - name: exclude
      required: false
      usage: List of patterns for the files that should be ignored during restore.
    - name: include
      required: false
      usage: List of patterns for the files that should be restored.
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: false
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
  - driver: Restic
    executor: Job
    function: manifest-restore
    name: manifest-restore
    parameters:
    - default: "true"
      name: enableCache
      required: false
      usage: Enable or disable caching. Disabling caching may impact backup performance.
    - default: /kubestash-tmp
      name: scratchDir
      required: false
      usage: Directory for holding temporary files and restic cache.
    singleton: true
    volumeMounts:
    - mountPath: /kubestash-tmp
      name: kubestash-tmp-volume
    volumeTemplate:
    - name: kubestash-tmp-volume
      source:
        emptyDir: {}
      usage: Holds temporary files and restic cache.
---
# Source: kubestash/charts/kubestash-catalog/templates/kubedump/kubedump-backup.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'kubedump-backup'
  labels:
    helm.sh/chart: kubestash-catalog-v2024.8.30
    app.kubernetes.io/name: kubestash-catalog
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v2024.8.30"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - backup
  - --namespace=${namespace:=default}
  - --backupsession=${backupSession:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --sanitize=${sanitize:=true}
  - --label-selector=${labelSelector:=}
  - --include-dependants=${includeDependants:=false}
  image: 'ghcr.io/kubestash/kubedump:v0.11.0'
---
# Source: kubestash/charts/kubestash-catalog/templates/manifest/manifest-backup.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'manifest-backup'
  labels:
    helm.sh/chart: kubestash-catalog-v2024.8.30
    app.kubernetes.io/name: kubestash-catalog
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v2024.8.30"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - backup
  - --namespace=${namespace:=default}
  - --backupsession=${backupSession:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  image: 'ghcr.io/kubestash/manifest:v0.1.0'
---
# Source: kubestash/charts/kubestash-catalog/templates/manifest/manifest-restore.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'manifest-restore'
  labels:
    helm.sh/chart: kubestash-catalog-v2024.8.30
    app.kubernetes.io/name: kubestash-catalog
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v2024.8.30"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - restore
  - --namespace=${namespace:=default}
  - --restoresession=${restoreSession:=}
  - --snapshot=${snapshot:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  image: 'ghcr.io/kubestash/manifest:v0.1.0'
---
# Source: kubestash/charts/kubestash-catalog/templates/pvc/pvc-backup.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'pvc-backup'
  labels:
    helm.sh/chart: kubestash-catalog-v2024.8.30
    app.kubernetes.io/name: kubestash-catalog
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v2024.8.30"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - backup
  - --namespace=${namespace:=default}
  - --backupsession=${backupSession:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --exclude=${exclude:=}
  - --paths=${paths:=}
  image: 'ghcr.io/kubestash/pvc:v0.11.0'
---
# Source: kubestash/charts/kubestash-catalog/templates/pvc/pvc-restore.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'pvc-restore'
  labels:
    helm.sh/chart: kubestash-catalog-v2024.8.30
    app.kubernetes.io/name: kubestash-catalog
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v2024.8.30"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - restore
  - --namespace=${namespace:=default}
  - --restoresession=${restoreSession:=}
  - --snapshot=${snapshot:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  image: 'ghcr.io/kubestash/pvc:v0.11.0'
---
# Source: kubestash/charts/kubestash-catalog/templates/volumesnapshot/volumesnapshot-backup.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'volumesnapshot-backup'
  labels:
    helm.sh/chart: kubestash-catalog-v2024.8.30
    app.kubernetes.io/name: kubestash-catalog
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v2024.8.30"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - backup
  - --namespace=${namespace:=default}
  - --backupsession=${backupSession:=}
  - --volume-snapshot-class-name=${volumeSnapshotClassName:=}
  image: 'ghcr.io/kubestash/volume-snapshotter:v0.11.0'
---
# Source: kubestash/charts/kubestash-catalog/templates/volumesnapshot/volumesnapshot-restore.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'volumesnapshot-restore'
  labels:
    helm.sh/chart: kubestash-catalog-v2024.8.30
    app.kubernetes.io/name: kubestash-catalog
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v2024.8.30"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - restore
  - --namespace=${namespace:=default}
  - --restoresession=${restoreSession:=}
  - --snapshot=${snapshot:=}
  - --task-name=${taskName:=}
  image: 'ghcr.io/kubestash/volume-snapshotter:v0.11.0'
---
# Source: kubestash/charts/kubestash-catalog/templates/workload/workload-backup.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'workload-backup'
  labels:
    helm.sh/chart: kubestash-catalog-v2024.8.30
    app.kubernetes.io/name: kubestash-catalog
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v2024.8.30"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - backup
  - --namespace=${namespace:=default}
  - --backupsession=${backupSession:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --paths=${paths:=}
  - --exclude=${exclude:=}
  image: 'ghcr.io/kubestash/workload:v0.11.0'
---
# Source: kubestash/charts/kubestash-catalog/templates/workload/workload-restore.yaml
apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  name: 'workload-restore'
  labels:
    helm.sh/chart: kubestash-catalog-v2024.8.30
    app.kubernetes.io/name: kubestash-catalog
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v2024.8.30"
    app.kubernetes.io/managed-by: Helm
spec:
  args:
  - restore
  - --namespace=${namespace:=default}
  - --restoresession=${restoreSession:=}
  - --snapshot=${snapshot:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --exclude=${exclude:=}
  - --include=${include:=}
  image: 'ghcr.io/kubestash/workload:v0.11.0'
---
# Source: kubestash/charts/kubestash-metrics/templates/metricsconfig-backupconfiguration.yaml
apiVersion: metrics.appscode.com/v1alpha1
kind: MetricsConfiguration
metadata:
  name: kubestash-appscode-com-backupconfiguration
spec:
  targetRef:
    apiVersion: core.kubestash.com/v1alpha1
    kind: BackupConfiguration
  commonLabels:
  - key: backup_invoker_kind
    value: "BackupConfiguration"
  - key: backup_invoker_name
    valuePath: .metadata.name
  - key: target_kind
    valuePath: .spec.target.kind
  - key: target_name
    valuePath: .spec.target.name
  - key: target_namespace
    valuePath: .spec.target.namespace
  metrics:
  - name: created
    help: "Unix creation timestamp of this BackupConfiguration object"
    type: gauge
    field:
      path: .metadata.creationTimestamp
      type: DateTime
    metricValue:
      valueFromPath: .metadata.creationTimestamp
  - name: info
    help: "General information about this BackupConfiguration"
    type: gauge
    metricValue:
      value: 1
  - name: sessions
    help: "List of sessions of this BackupConfiguration"
    type: gauge
    field:
      path: .spec.sessions
      type: Array
    labels:
    - key: session_name
      valuePath: .spec.sessions[*].name
    - key: schedule
      valuePath: .spec.sessions[*].scheduler.schedule
    - key: addon_name
      valuePath: .spec.sessions[*].addon.name
    metricValue:
      value: 1
  - name: phase
    help: "BackupConfiguration object current phase"
    type: gauge
    field:
      path: .status.phase
      type: String
    params:
    - key: phase
      valuePath: .status.phase
    states:
      labelKey: phase
      values:
      - labelValue: Ready
        metricValue:
          valueFromExpression: "int(phase == 'Ready')"
      - labelValue: NotReady
        metricValue:
          valueFromExpression: "int(phase == 'NotReady')"
      - labelValue: Invalid
        metricValue:
          valueFromExpression: "int(phase == 'Invalid')" 
  - name: conditions
    help: "Current conditions of this BackupConfiguration"
    type: gauge
    field:
      path: .status.conditions
      type: Array
    labels:
    - key: condition
      valuePath: .status.conditions[*].type
    - key: status
      valuePath: .status.conditions[*].status
    metricValue:
      value: 1
---
# Source: kubestash/charts/kubestash-metrics/templates/metricsconfig-backupsession.yaml
apiVersion: metrics.appscode.com/v1alpha1
kind: MetricsConfiguration
metadata:
  name: kubestash-appscode-com-backupsession
spec:
  targetRef:
    apiVersion: core.kubestash.com/v1alpha1
    kind: BackupSession
  commonLabels:
  - key: invoker_kind
    value: "BackupSession"
  - key: invoker_name
    valuePath: .metadata.name
  - key: backup_invoker_kind
    valuePath: .spec.invoker.kind
  - key: backup_invoker_name
    valuePath: .spec.invoker.name
  metrics:
  - name: created
    help: "Unix creation timestamp of this BackupSession object"
    type: gauge
    field:
      path: .metadata.creationTimestamp
      type: DateTime
    metricValue:
      valueFromPath: .metadata.creationTimestamp
  - name: info
    help: "General information about this BackupSession"
    type: gauge
    labels:
    - key: session
      valuePath: .spec.session
    - key: phase
      valuePath: .status.phase
    metricValue:
      value: 1
  - name: snapshots
    help: "General information about the snapshots of this BackupSession"
    type: gauge
    field:
      path: .status.snapshots
      type: Array
    labels:
    - key: snapshot_name
      valuePath: .status.snapshots[*].name
    - key: snapshot_phase
      valuePath: .status.snapshots[*].phase
    - key: repository
      valuePath: .status.snapshots[*].repository
    - key: backedup_app_kind
      valuePath: .status.snapshots[*].appRef.kind
    - key: backedup_app_name
      valuePath: .status.snapshots[*].appRef.name
    - key: backedup_app_namespace
      valuePath: .status.snapshots[*].appRef.namespace
    metricValue:
      value: 1
  - name: phase
    help: "BackupSession object current phase"
    type: gauge
    field:
      path: .status.phase
      type: String
    params:
    - key: phase
      valuePath: .status.phase
    states:
      labelKey: phase
      values:
      - labelValue: Pending
        metricValue:
          valueFromExpression: "int(phase == 'Pending')"
      - labelValue: Running
        metricValue:
          valueFromExpression: "int(phase == 'Running')"
      - labelValue: Succeeded
        metricValue:
          valueFromExpression: "int(phase == 'Succeeded')"
      - labelValue: Failed
        metricValue:
          valueFromExpression: "int(phase == 'Failed')"
      - labelValue: Skipped
        metricValue:
          valueFromExpression: "int(phase == 'Skipped')"
  - name: duration_seconds
    help: "Time required to complete this backup process"
    type: gauge
    field:
      path: .status.duration
      type: String
    params:
    - key: duration
      valuePath: .status.duration
    metricValue:
      valueFromExpression: toSecond(duration)
  - name: conditions
    help: "Current conditions of this BackupSession"
    type: gauge
    field:
      path: .status.conditions
      type: Array
    labels:
    - key: condition
      valuePath: .status.conditions[*].type
    - key: status
      valuePath: .status.conditions[*].status
    metricValue:
      value: 1
---
# Source: kubestash/charts/kubestash-metrics/templates/metricsconfig-backupstorage.yaml
apiVersion: metrics.appscode.com/v1alpha1
kind: MetricsConfiguration
metadata:
  name: kubestash-appscode-com-backupstorage
spec:
  targetRef:
    apiVersion: storage.kubestash.com/v1alpha1
    kind: BackupStorage
  commonLabels:
  - key: invoker_kind
    value: "BackupStorage"
  - key: invoker_name
    valuePath: .metadata.name
  metrics:
  - name: created
    help: "Unix creation timestamp of this BackupStorage object"
    type: gauge
    field:
      path: .metadata.creationTimestamp
      type: DateTime
    metricValue:
      valueFromPath: .metadata.creationTimestamp
  - name: info
    help: "General information about this BackupStorage"
    type: gauge
    labels:
    - key: provider
      valuePath: .spec.storage.provider
    - key: default
      valuePath: .spec.default
    - key: deletionPolicy
      valuePath: .spec.deletionPolicy
    - key: phase
      valuePath: .status.phase
    metricValue:
      value: 1
  - name: repository_size_bytes
    help: "Total backed up data in the repository of this BackupStorage"
    type: gauge
    field: 
      path: .status.repositories
      type: Array
    params:
    - key: size
      valuePath: .status.repositories[*].size
    labels:
    - key: repo_name
      valuePath: .status.repositories[*].name
    - key: repo_namespace
      valuePath: .status.repositories[*].namespace
    - key: repo_path
      valuePath: .status.repositories[*].path
    metricValue:
      valueFromExpression: "bytes(size)"
  - name: phase
    help: "BackupStorage object current phase"
    type: gauge
    field:
      path: .status.phase
      type: String
    params:
    - key: phase
      valuePath: .status.phase
    states:
      labelKey: phase
      values:
      - labelValue: Ready
        metricValue:
          valueFromExpression: "int(phase == 'Ready')"
      - labelValue: NotReady
        metricValue:
          valueFromExpression: "int(phase == 'NotReady')"
  - name: size_bytes
    help: "Total backed up data size in this BackupStorage"
    type: gauge
    field:
      path: .status.totalSize
      type: String
    params:
    - key: size
      valuePath: .status.totalSize
    metricValue:
     valueFromExpression: "bytes(size)"
  - name: conditions
    help: "Current conditions of this BackupStorage"
    type: gauge
    field:
      path: .status.conditions
      type: Array
    labels:
    - key: condition
      valuePath: .status.conditions[*].type
    - key: status
      valuePath: .status.conditions[*].status
    metricValue:
      value: 1
---
# Source: kubestash/charts/kubestash-metrics/templates/metricsconfig-repository.yaml
apiVersion: metrics.appscode.com/v1alpha1
kind: MetricsConfiguration
metadata:
  name: kubestash-appscode-com-repository
spec:
  targetRef:
    apiVersion: storage.kubestash.com/v1alpha1
    kind: Repository
  commonLabels:
  - key: invoker_kind
    value: "Repository"
  - key: invoker_name
    valuePath: .metadata.name
  - key: target_kind
    valuePath: .spec.appRef.kind
  - key: target_name
    valuePath: .spec.appRef.name
  - key: target_namespace
    valuePath: .spec.appRef.namespace
  metrics:
  - name: created
    help: "Unix creation timestamp of this Repository object"
    type: gauge
    field:
      path: .metadata.creationTimestamp
      type: DateTime
    metricValue:
      valueFromPath: .metadata.creationTimestamp
  - name: info
    help: "General information about this Repository"
    type: gauge
    labels:
    - key: path
      valuePath: .spec.path
    - key: phase
      valuePath: .status.phase
    - key: integrity
      valuePath: .status.integrity
    metricValue:
      value: 1
  - name: last_successful_backup
    help: "Last successful backup stored in this Repository"
    type: gauge
    field:
      path: .status.lastBackupTime
      type: DateTime
    metricValue:
      valueFromPath: .status.lastBackupTime
  - name: size_bytes
    help: "Total backed up data stored in this Repository"
    type: gauge
    field:
      path: .status.size
      type: String
    params:
    - key: size
      valuePath: .status.size
    metricValue:
      valueFromExpression: "bytes(size)"
  - name: snapshot_count_total
    help: "Number of current snapshots stored in this Repository"
    type: gauge
    field:
      path: .status.snapshotCount
      type: Integer
    metricValue:
      valueFromPath: .status.snapshotCount
  - name: conditions
    help: "Current conditions of this Repository"
    type: gauge
    field:
      path: .status.conditions
      type: Array
    labels:
    - key: condition
      valuePath: .status.conditions[*].type
    - key: status
      valuePath: .status.conditions[*].status
    metricValue:
      value: 1
---
# Source: kubestash/charts/kubestash-metrics/templates/metricsconfig-restoresession.yaml
apiVersion: metrics.appscode.com/v1alpha1
kind: MetricsConfiguration
metadata:
  name: kubestash-appscode-com-restoresession
spec:
  targetRef:
    apiVersion: core.kubestash.com/v1alpha1
    kind: RestoreSession
  commonLabels:
  - key: invoker_kind
    value: "RestoreSession"
  - key: invoker_name
    valuePath: .metadata.name
  - key: target_kind
    valuePath: .spec.target.kind
  - key: target_name
    valuePath: .spec.target.name
  - key: target_namespace
    valuePath: .spec.target.namespace
  metrics:
  - name: created
    help: "Unix creation timestamp of this RestoreSession object"
    type: gauge
    field:
      path: .metadata.creationTimestamp
      type: DateTime
    metricValue:
      valueFromPath: .metadata.creationTimestamp
  - name: info
    help: "General information about this RestoreSession"
    type: gauge
    labels:
    - key: datasource_namespace
      valuePath: .spec.dataSource.namespace
    - key: repository
      valuePath: .spec.dataSource.repository
    - key: snapshot
      valuePath: .spec.dataSource.snapshot
    - key: addon_name
      valuePath: .spec.addon.name
    - key: phase
      valuePath: .status.phase
    metricValue:
      value: 1
  - name: phase
    help: "RestoreSession object current phase"
    type: gauge
    field:
      path: .status.phase
      type: String
    params:
    - key: phase
      valuePath: .status.phase
    states:
      labelKey: phase
      values:
      - labelValue: Pending
        metricValue:
          valueFromExpression: "int(phase == 'Pending')"
      - labelValue: Running
        metricValue:
          valueFromExpression: "int(phase == 'Running')"
      - labelValue: Succeeded
        metricValue:
          valueFromExpression: "int(phase == 'Succeeded')"
      - labelValue: Failed
        metricValue:
          valueFromExpression: "int(phase == 'Failed')"
      - labelValue: Invalid
        metricValue:
          valueFromExpression: "int(phase == 'Invalid')"
      - labelValue: Unknown
        metricValue:
          valueFromExpression: "int(phase == 'Unknown')"
  - name: duration_seconds
    help: "The total time taken to complete the restore process"
    type: gauge
    field:
      path: .status.duration
      type: String
    params:
    - key: duration
      valuePath: .status.duration
    metricValue:
      valueFromExpression: toSecond(duration)
  - name: component_count_total
    help: "The number of total components for this RestoreSession"
    type: gauge
    field:
      path: .status.totalComponents
      type: Integer
    metricValue:
      valueFromPath: .status.totalComponents
  - name: conditions
    help: "Current conditions of this RestoreSession"
    type: gauge
    field:
      path: .status.conditions
      type: Array
    labels:
    - key: condition
      valuePath: .status.conditions[*].type
    - key: status
      valuePath: .status.conditions[*].status
    metricValue:
      value: 1
---
# Source: kubestash/charts/kubestash-metrics/templates/metricsconfig-snapshot.yaml
apiVersion: metrics.appscode.com/v1alpha1
kind: MetricsConfiguration
metadata:
  name: kubestash-appscode-com-snapshot
spec:
  targetRef:
    apiVersion: storage.kubestash.com/v1alpha1
    kind: Snapshot
  commonLabels:
  - key: invoker_kind
    value: "Snapshot"
  - key: invoker_name
    valuePath: .metadata.name
  - key: target_kind
    valuePath: .spec.appRef.kind
  - key: target_name
    valuePath: .spec.appRef.name
  - key: target_namespace
    valuePath: .spec.appRef.namespace
  metrics:
  - name: created
    help: "Unix creation timestamp of this Snapshot object"
    type: gauge
    field:
      path: .metadata.creationTimestamp
      type: DateTime
    metricValue:
      valueFromPath: .metadata.creationTimestamp
  - name: info
    help: "General information about this Snapshot"
    type: gauge
    labels:
    - key: snapshot_type
      valuePath: .spec.type
    - key: repository
      valuePath: .spec.repository
    - key: session
      valuePath: .spec.session
    - key: backupsession
      valuePath: .spec.backupSession
    - key: version
      valuePath: .spec.version
    - key: phase
      valuePath: .status.phase
    - key: integrity
      valuePath: .status.integrity
    metricValue:
      value: 1
  - name: phase
    help: "Snapshot object current phase"
    type: gauge
    field:
      path: .status.phase
      type: String
    params:
    - key: phase
      valuePath: .status.phase
    states:
      labelKey: phase
      values:
      - labelValue: Pending
        metricValue:
          valueFromExpression: "int(phase == 'Pending')"
      - labelValue: Running
        metricValue:
          valueFromExpression: "int(phase == 'Running')"
      - labelValue: Succeeded
        metricValue:
          valueFromExpression: "int(phase == 'Succeeded')"
      - labelValue: Failed
        metricValue:
          valueFromExpression: "int(phase == 'Failed')"
  - name: size_bytes
    help: "Size of this Snapshot"
    type: gauge
    field:
      path: .status.size
      type: String
    params:
    - key: size
      valuePath: .status.size
    metricValue:
      valueFromExpression: "bytes(size)"
  - name: time_seconds
    help: "The time when this Snapshot was taken"
    type: gauge
    field:
      path: .status.snapshotTime
      type: DateTime
    metricValue:
      valueFromPath: .status.snapshotTime
  - name: component_count_total
    help: "The number of total components for this Snapshot"
    type: gauge
    field:
      path: .status.totalComponents
      type: Integer
    metricValue:
      valueFromPath: .status.totalComponents
  - name: conditions
    help: "Current conditions of this Snapshot"
    type: gauge
    field:
      path: .status.conditions
      type: Array
    labels:
    - key: condition
      valuePath: .status.conditions[*].type
    - key: status
      valuePath: .status.conditions[*].status
    metricValue:
      value: 1
---
# Source: kubestash/charts/kubestash-operator/templates/cleaner/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: my-kubestash-kubestash-operator-cleaner
  namespace: default
  labels:
    helm.sh/chart: kubestash-operator-v0.12.0
    app.kubernetes.io/name: kubestash-operator
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v0.12.1"
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": pre-delete
    "helm.sh/hook-delete-policy": hook-succeeded,hook-failed
---
# Source: kubestash/charts/kubestash-operator/templates/cleaner/cluster_role.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: my-kubestash-kubestash-operator-cleaner
  labels:
    helm.sh/chart: kubestash-operator-v0.12.0
    app.kubernetes.io/name: kubestash-operator
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v0.12.1"
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": pre-delete
    "helm.sh/hook-delete-policy": hook-succeeded,hook-failed
rules:
  - apiGroups:
      - admissionregistration.k8s.io
    resources:
      - mutatingwebhookconfigurations
      - validatingwebhookconfigurations
    verbs: ["delete"]
  - apiGroups:
      - addons.kubestash.com
      - core.kubestash.com
      - storage.kubestash.com
    resources:
      - "*"
    verbs: ["delete"]
  - apiGroups:
      - batch
    resources:
      - jobs
    verbs: ["delete"]
---
# Source: kubestash/charts/kubestash-operator/templates/license/license-checker-cluster-role.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: appscode:license-checker
  annotations:
    "helm.sh/hook": pre-install,pre-upgrade
    "helm.sh/hook-delete-policy": before-hook-creation
rules:
# Get cluster id
- apiGroups:
  - ""
  resources:
  - namespaces
  verbs: ["get", "list", "watch"]
# Issue license
- apiGroups:
  - proxyserver.licenses.appscode.com
  resources:
  - licenserequests
  verbs: ["create"]
# Detect workload/owner of operator pod
- apiGroups:
  - ""
  resources:
  - pods
  verbs: ["get"]
- apiGroups:
  - apps
  resources:
  - deployments
  - replicasets
  verbs: ["get"]
# Write events in case of license verification failure
- apiGroups:
  - ""
  resources:
  - events
  verbs: ["get", "list", "create", "patch"]
# audit site info
- apiGroups:
  - ""
  resources:
  - nodes
  verbs: ["get", "list", "watch"]
---
# Source: kubestash/charts/kubestash-operator/templates/license/license-reader-cluster-role.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: appscode:license-reader
  annotations:
    "helm.sh/hook": pre-install,pre-upgrade
    "helm.sh/hook-delete-policy": before-hook-creation
rules:
# Detect license server endpoint for kubedb addons
- apiGroups:
  - apiregistration.k8s.io
  resources:
  - apiservices
  verbs: ["get"]
- nonResourceURLs:
  - /appscode/license
  verbs: ["get"]
---
# Source: kubestash/charts/kubestash-operator/templates/rbac/user_roles.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: appscode:my-kubestash-kubestash-operator:edit
  labels:
    rbac.authorization.k8s.io/aggregate-to-admin: "true"
    rbac.authorization.k8s.io/aggregate-to-edit: "true"
  annotations:
    "helm.sh/hook": pre-install,pre-upgrade
    "helm.sh/hook-delete-policy": before-hook-creation
rules:
- apiGroups:
  - addons.kubestash.com
  - core.kubestash.com
  - storage.kubestash.com
  resources:
  - "*"
  verbs: ["*"]
---
# Source: kubestash/charts/kubestash-operator/templates/rbac/user_roles.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: appscode:my-kubestash-kubestash-operator:view
  labels:
    rbac.authorization.k8s.io/aggregate-to-view: "true"
  annotations:
    "helm.sh/hook": pre-install,pre-upgrade
    "helm.sh/hook-delete-policy": before-hook-creation
rules:
- apiGroups:
  - addons.kubestash.com
  - core.kubestash.com
  - storage.kubestash.com
  resources:
  - "*"
  verbs: ["get", "list", "watch"]
---
# Source: kubestash/charts/kubestash-operator/templates/cleaner/cluster_rolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: my-kubestash-kubestash-operator-cleaner
  labels:
    helm.sh/chart: kubestash-operator-v0.12.0
    app.kubernetes.io/name: kubestash-operator
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v0.12.1"
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": pre-delete
    "helm.sh/hook-delete-policy": hook-succeeded,hook-failed
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: my-kubestash-kubestash-operator-cleaner
subjects:
  - kind: ServiceAccount
    name: my-kubestash-kubestash-operator-cleaner
    namespace: default
---
# Source: kubestash/charts/kubestash-operator/templates/cleaner/job.yaml
apiVersion: batch/v1
kind: Job
metadata:
  name: my-kubestash-kubestash-operator-cleaner
  namespace: default
  labels:
    helm.sh/chart: kubestash-operator-v0.12.0
    app.kubernetes.io/name: kubestash-operator
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v0.12.1"
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": pre-delete
    "helm.sh/hook-delete-policy": hook-succeeded,hook-failed
spec:
  backoffLimit: 3
  activeDeadlineSeconds: 120
  template:
    spec:
      imagePullSecrets:
        []
      serviceAccountName: my-kubestash-kubestash-operator-cleaner
      containers:
      - name: busybox
        image: "ghcr.io/appscode/kubectl:v1.24"
        command:
          - sh
          - -c
          - "sleep 2; \
           kubectl delete functions.stash.appscode.com update-status pvc-backup pvc-restore || true; \
           kubectl delete tasks.stash.appscode.com pvc-backup pvc-restore || true;"
        imagePullPolicy: IfNotPresent
        securityContext:
          allowPrivilegeEscalation: false
          capabilities:
            drop:
            - ALL
          readOnlyRootFilesystem: true
          runAsNonRoot: true
          runAsUser: 65534
      restartPolicy: Never
      nodeSelector:
        kubernetes.io/os: linux
---
# Source: kubestash/charts/kubestash-operator/templates/webhook-server/mutating_webhook.yaml
apiVersion: admissionregistration.k8s.io/v1
kind: MutatingWebhookConfiguration
metadata:
  name: my-kubestash-kubestash-operator
  labels:
    helm.sh/chart: kubestash-operator-v0.12.0
    app.kubernetes.io/name: kubestash-operator
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v0.12.1"
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": pre-install,pre-upgrade
    "helm.sh/hook-delete-policy": before-hook-creation
webhooks:
  - admissionReviewVersions:
      - v1
    clientConfig:
      service:
        name: my-kubestash-kubestash-operator-webhook
        namespace: default
        path: /mutate-storage-kubestash-com-v1alpha1-backupstorage
      caBundle: bm90LWNhLWNlcnQ=
    failurePolicy: Fail
    name: mbackupstorage.kb.io
    rules:
      - apiGroups:
          - storage.kubestash.com
        apiVersions:
          - v1alpha1
        operations:
          - CREATE
          - UPDATE
        resources:
          - backupstorages
    sideEffects: None
  - admissionReviewVersions:
      - v1
    clientConfig:
      service:
        name: my-kubestash-kubestash-operator-webhook
        namespace: default
        path: /mutate-storage-kubestash-com-v1alpha1-retentionpolicy
      caBundle: bm90LWNhLWNlcnQ=
    failurePolicy: Fail
    name: mretentionpolicy.kb.io
    rules:
      - apiGroups:
          - storage.kubestash.com
        apiVersions:
          - v1alpha1
        operations:
          - CREATE
          - UPDATE
        resources:
          - retentionpolicies
    sideEffects: None
  - admissionReviewVersions:
      - v1
    clientConfig:
      service:
        name: my-kubestash-kubestash-operator-webhook
        namespace: default
        path: /mutate-core-kubestash-com-v1alpha1-backupblueprint
      caBundle: bm90LWNhLWNlcnQ=
    failurePolicy: Fail
    name: mbackupblueprint.kb.io
    rules:
      - apiGroups:
          - core.kubestash.com
        apiVersions:
          - v1alpha1
        operations:
          - CREATE
          - UPDATE
        resources:
          - backupblueprints
    sideEffects: None
  - admissionReviewVersions:
      - v1
    clientConfig:
      service:
        name: my-kubestash-kubestash-operator-webhook
        namespace: default
        path: /mutate-core-kubestash-com-v1alpha1-backupconfiguration
      caBundle: bm90LWNhLWNlcnQ=
    failurePolicy: Fail
    name: mbackupconfiguration.kb.io
    rules:
      - apiGroups:
          - core.kubestash.com
        apiVersions:
          - v1alpha1
        operations:
          - CREATE
          - UPDATE
        resources:
          - backupconfigurations
    sideEffects: None
  - admissionReviewVersions:
      - v1
    clientConfig:
      service:
        name: my-kubestash-kubestash-operator-webhook
        namespace: default
        path: /mutate-core-kubestash-com-v1alpha1-hooktemplate
      caBundle: bm90LWNhLWNlcnQ=
    failurePolicy: Fail
    name: mhooktemplate.kb.io
    rules:
      - apiGroups:
          - core.kubestash.com
        apiVersions:
          - v1alpha1
        operations:
          - CREATE
          - UPDATE
        resources:
          - hooktemplates
    sideEffects: None
---
# Source: kubestash/charts/kubestash-operator/templates/webhook-server/validating_webhook.yaml
apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: my-kubestash-kubestash-operator
  labels:
    helm.sh/chart: kubestash-operator-v0.12.0
    app.kubernetes.io/name: kubestash-operator
    app.kubernetes.io/instance: my-kubestash
    app.kubernetes.io/version: "v0.12.1"
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": pre-install,pre-upgrade
    "helm.sh/hook-delete-policy": before-hook-creation
webhooks:
  - admissionReviewVersions:
      - v1
    clientConfig:
      service:
        name: my-kubestash-kubestash-operator-webhook
        namespace: default
        path: /validate-storage-kubestash-com-v1alpha1-backupstorage
      caBundle: bm90LWNhLWNlcnQ=
    failurePolicy: Fail
    name: vbackupstorage.kb.io
    rules:
      - apiGroups:
          - storage.kubestash.com
        apiVersions:
          - v1alpha1
        operations:
          - CREATE
          - UPDATE
        resources:
          - backupstorages
    sideEffects: None
  - admissionReviewVersions:
      - v1
    clientConfig:
      service:
        name: my-kubestash-kubestash-operator-webhook
        namespace: default
        path: /validate-storage-kubestash-com-v1alpha1-repository
      caBundle: bm90LWNhLWNlcnQ=
    failurePolicy: Fail
    name: vrepository.kb.io
    rules:
      - apiGroups:
          - storage.kubestash.com
        apiVersions:
          - v1alpha1
        operations:
          - CREATE
          - UPDATE
        resources:
          - repositories
    sideEffects: None
  - admissionReviewVersions:
      - v1
    clientConfig:
      service:
        name: my-kubestash-kubestash-operator-webhook
        namespace: default
        path: /validate-storage-kubestash-com-v1alpha1-retentionpolicy
      caBundle: bm90LWNhLWNlcnQ=
    failurePolicy: Fail
    name: vretentionpolicy.kb.io
    rules:
      - apiGroups:
          - storage.kubestash.com
        apiVersions:
          - v1alpha1
        operations:
          - CREATE
          - UPDATE
        resources:
          - retentionpolicies
    sideEffects: None
  - admissionReviewVersions:
      - v1
    clientConfig:
      service:
        name: my-kubestash-kubestash-operator-webhook
        namespace: default
        path: /validate-core-kubestash-com-v1alpha1-backupbatch
      caBundle: bm90LWNhLWNlcnQ=
    failurePolicy: Fail
    name: vbackupbatch.kb.io
    rules:
      - apiGroups:
          - core.kubestash.com
        apiVersions:
          - v1alpha1
        operations:
          - CREATE
          - UPDATE
        resources:
          - backupbatches
    sideEffects: None
  - admissionReviewVersions:
      - v1
    clientConfig:
      service:
        name: my-kubestash-kubestash-operator-webhook
        namespace: default
        path: /validate-core-kubestash-com-v1alpha1-backupblueprint
      caBundle: bm90LWNhLWNlcnQ=
    failurePolicy: Fail
    name: vbackupblueprint.kb.io
    rules:
      - apiGroups:
          - core.kubestash.com
        apiVersions:
          - v1alpha1
        operations:
          - CREATE
          - UPDATE
        resources:
          - backupblueprints
    sideEffects: None
  - admissionReviewVersions:
      - v1
    clientConfig:
      service:
        name: my-kubestash-kubestash-operator-webhook
        namespace: default
        path: /validate-core-kubestash-com-v1alpha1-backupconfiguration
      caBundle: bm90LWNhLWNlcnQ=
    failurePolicy: Fail
    name: vbackupconfiguration.kb.io
    rules:
      - apiGroups:
          - core.kubestash.com
        apiVersions:
          - v1alpha1
        operations:
          - CREATE
          - UPDATE
        resources:
          - backupconfigurations
    sideEffects: None
  - admissionReviewVersions:
      - v1
    clientConfig:
      service:
        name: my-kubestash-kubestash-operator-webhook
        namespace: default
        path: /validate-core-kubestash-com-v1alpha1-backupsession
      caBundle: bm90LWNhLWNlcnQ=
    failurePolicy: Fail
    name: vbackupsession.kb.io
    rules:
      - apiGroups:
          - core.kubestash.com
        apiVersions:
          - v1alpha1
        operations:
          - CREATE
          - UPDATE
        resources:
          - backupsessions
    sideEffects: None
  - admissionReviewVersions:
      - v1
    clientConfig:
      service:
        name: my-kubestash-kubestash-operator-webhook
        namespace: default
        path: /validate-core-kubestash-com-v1alpha1-hooktemplate
      caBundle: bm90LWNhLWNlcnQ=
    failurePolicy: Fail
    name: vhooktemplate.kb.io
    rules:
      - apiGroups:
          - core.kubestash.com
        apiVersions:
          - v1alpha1
        operations:
          - CREATE
          - UPDATE
        resources:
          - hooktemplates
    sideEffects: None
  - admissionReviewVersions:
      - v1
    clientConfig:
      service:
        name: my-kubestash-kubestash-operator-webhook
        namespace: default
        path: /validate-core-kubestash-com-v1alpha1-restoresession
      caBundle: bm90LWNhLWNlcnQ=
    failurePolicy: Fail
    name: vrestoresession.kb.io
    rules:
      - apiGroups:
          - core.kubestash.com
        apiVersions:
          - v1alpha1
        operations:
          - CREATE
          - UPDATE
        resources:
          - restoresessions
    sideEffects: None
